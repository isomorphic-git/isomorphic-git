var codemirrorify=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBufferLength=1024;var s=function(){function t(t,e){this.enter=t,this.leave=e,this.result=void 0}return Object.defineProperty(t.prototype,"done",{get:function(){return void 0!==this.result},enumerable:!0,configurable:!0}),t.prototype.doEnter=function(t,e,i){var n=this.enter(t,e,i);return void 0===n||(!1!==n&&(this.result=n),!1)},t}(),o=0,h=function(){function t(t){var e=(void 0===t?{}:t).deserialize;this.id=o++,this.deserialize=e||function(){throw new Error("This node type doesn't define a deserialize function")}}return t.string=function(){return new t({deserialize:function(t){return t}})},t.flag=function(){return new t({deserialize:function(){return!0}})},t.prototype.set=function(t,e){return t[this.id]=e,t},t.prototype.add=function(t){return new l(this,"function"==typeof t?t:a.match(t))},t.error=t.flag(),t.skipped=t.flag(),t.delim=t.string(),t.top=t.flag(),t.repeated=t.flag(),t}();e.NodeProp=h;var l=function(t,e){this.prop=t,this.f=e};e.NodePropSource=l;var a=function(){function t(t,e,i){this.name=t,this.props=e,this.id=i}return t.prototype.prop=function(t){return this.props[t.id]},t.match=function(t){var e=Object.create(null);for(var i in t)for(var n=0,r=i.split(" ");n<r.length;n++){var s=r[n];e[s]=t[i]}return function(t){return e[t.name]}},t.none=new t("",Object.create(null),0),t}();e.NodeType=a;var c=function(){function t(t){this.types=t;for(var e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node group")}return t.prototype.extend=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var n=[],r=0,s=this.types;r<s.length;r++){for(var o=s[r],h=null,l=0,c=e;l<c.length;l++){var u=c[l],O=u.f(o);if(void 0!==O){if(!h)for(var d in h=Object.create(null),o.props)h[d]=o.props[d];h[u.prop.id]=O}}n.push(h?new a(o.name,h,o.id):o)}return new t(n)},t}();e.NodeGroup=c;var u=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){for(var t=0,e=this.parent;e;e=e.parent)t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t.parent;)t=t.parent;return t},enumerable:!0,configurable:!0}),t.prototype.resolve=function(t,e){void 0===e&&(e=0);var i=this.resolveAt(t);if(0!=e)for(;;){var n=e<0?i.childBefore(t):i.childAfter(t);if(!n||(e<0?n.end:n.start)!=t)break;i=n}return i},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.childAfter(this.start-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.childBefore(this.end+1)},enumerable:!0,configurable:!0}),t}();e.Subtree=u;var O=function(t){function i(e,i,n,r){var s=t.call(this)||this;return s.type=e,s.children=i,s.positions=n,s.length=r,s}return r(i,t),Object.defineProperty(i.prototype,"start",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){return this.length},enumerable:!0,configurable:!0}),i.prototype.toString=function(){var t=this.children.map((function(t){return t.toString()})).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(h.error)?JSON.stringify(this.name):this.name)+(t.length?"("+t+")":""):t},i.prototype.partial=function(t,e,n,r,s){for(var o=0;o<this.children.length;o++){var h=this.positions[o];if(h>e)break;var l=this.children[o],a=h+l.length;a<t||(t<=h&&e>=a?(r.push(l),s.push(h+n)):l instanceof i&&l.partial(t-h,e-h,n+h,r,s))}},i.prototype.applyChanges=function(t){if(0==t.length)return this;var e=[],n=[];function r(t,e,i){for(var n=t.resolve(e),r=e;;){var s=i<0?n.childBefore(r):n.childAfter(r);if(s)return i<0?s.end-1:s.start+1;if(!n.parent)return i<0?0:1e9;r=i<0?n.start:n.end,n=n.parent}}for(var s=0,o=0,h=0;;o++){var l=o==t.length?null:t[o],c=l?r(this,l.fromA,-1):this.length;if(c>h&&this.partial(h,c,s,e,n),!l)break;h=r(this,l.toA,1),s+=l.toB-l.fromB-(l.toA-l.fromA)}return new i(a.none,e,n,this.length+s)},i.prototype.cut=function(t){if(t>=this.length)return this;for(var e=[],n=[],r=0;r<this.children.length;r++){var s=this.positions[r];if(s>=t)break;var o=this.children[r],h=s+o.length;e.push(h<=t?o:o.cut(t-s)),n.push(s)}return new i(this.type,e,n,t)},i.prototype.iterate=function(t){var e=t.from,i=void 0===e?this.start:e,n=t.to,r=void 0===n?this.end:n,o=t.enter,h=t.leave,l=new s(o,h);return this.iterInner(i,r,0,l),l.result},i.prototype.iterInner=function(t,e,i,n){if(!this.type.name||n.doEnter(this.type,i,i+this.length)){if(t<=e)for(var r=0;r<this.children.length&&!n.done;r++){var s=this.children[r],o=(h=this.positions[r]+i)+s.length;if(h>e)break;o<t||s.iterInner(t,e,h,n)}else for(r=this.children.length-1;r>=0&&!n.done;r--){var h;s=this.children[r];if((o=(h=this.positions[r]+i)+s.length)<e)break;h>t||s.iterInner(t,e,h,n)}n.leave&&this.type.name&&n.leave(this.type,i,i+this.length)}},i.prototype.resolveAt=function(t){if(d==this)for(var e=f;;){var i=e.parent;if(!i)break;if(e.start<t&&e.end>t)return e.resolve(t);e=i}return d=this,f=this.resolveInner(t,0,this)},i.prototype.childBefore=function(t){return this.findChild(t,-1,0,this)},i.prototype.childAfter=function(t){return this.findChild(t,1,0,this)},i.prototype.findChild=function(t,e,n,r){for(var s=0;s<this.children.length;s++){var o=this.positions[s]+n,h=-1;if(o>=t)if(e<0&&s>0)h=s-1;else{if(!(e>0))break;h=s}if(h<0&&(o+this.children[s].length>t||e<0&&s==this.children.length-1)&&(h=s),h>=0){var l=this.children[h],a=this.positions[h]+n;if(0==l.length&&a==t)continue;if(l instanceof i)return l.type.name?new g(l,a,r):l.findChild(t,e,a,r);var c=l.findIndex(t,e,a,0,l.buffer.length);if(c>-1)return new m(l,a,c,r)}}return null},i.prototype.resolveInner=function(t,e,i){var n=this.findChild(t,0,e,i);return n?n.resolveAt(t):i},i.prototype.append=function(t){if(t.children.length&&t.positions[0]<this.length)throw new Error("Can't append overlapping trees");return new i(this.type,this.children.concat(t.children),this.positions.concat(t.positions),t.length)},i.prototype.balance=function(t){return void 0===t&&(t=e.DefaultBufferLength),this.children.length<=y?this:S(this.type,this.children,this.positions,0,this.children.length,0,t)},i.build=function(t,i,n,r,s){return void 0===n&&(n=0),void 0===r&&(r=e.DefaultBufferLength),void 0===s&&(s=[]),w(Array.isArray(t)?new v(t,t.length):t,i,n,r,s)},i.empty=new i(a.none,[],[],0),i}(u);e.Tree=O,O.prototype.parent=null;var d=O.empty,f=O.empty,p=function(){function t(t,e,i){this.buffer=t,this.length=e,this.group=i}return t.prototype.toString=function(){for(var t=[],e=0;e<this.buffer.length;)e=this.childToString(e,t);return t.join(",")},t.prototype.childToString=function(t,e){var i=this.buffer[t],n=this.buffer[t+3],r=this.group.types[i],s=r.name;if(/\W/.test(s)&&!r.prop(h.error)&&(s=JSON.stringify(s)),n>(t+=4)){for(var o=[];t<n;)t=this.childToString(t,o);s+="("+o.join(",")+")"}return e.push(s),t},t.prototype.cut=function(e){for(var i=0;i<this.buffer.length&&this.buffer[i+1]<e;)i+=4;for(var n=new Uint16Array(i),r=0;r<i;r+=4)n[r]=this.buffer[r],n[r+1]=this.buffer[r+1],n[r+2]=Math.min(e,this.buffer[r+2]),n[r+3]=Math.min(this.buffer[r+3],i);return new t(n,Math.min(e,this.length),this.group)},t.prototype.iterInner=function(t,e,i,n){if(t<=e)for(var r=0;r<this.buffer.length;)r=this.iterChild(t,e,i,r,n);else this.iterRev(t,e,i,0,this.buffer.length,n)},t.prototype.iterChild=function(t,e,i,n,r){var s=this.group.types[this.buffer[n++]],o=this.buffer[n++]+i,h=this.buffer[n++]+i,l=this.buffer[n++];if(o>e)return this.buffer.length;if(h>=t&&r.doEnter(s,o,h)){for(;n<l&&!r.done;)n=this.iterChild(t,e,i,n,r);r.leave&&r.leave(s,o,h)}return l},t.prototype.parentNodesByEnd=function(t,e){for(var i=this,n=[],r=function(t){var e=i.buffer[t+3];if(e==t+4)return e;for(var s=t+4;s<e;)s=r(s);return n.push(t),e},s=t;s<e;)s=r(s);return n},t.prototype.iterRev=function(t,e,i,n,r,s){var o=this,h=this.parentNodesByEnd(n,r),l=-1,a=-1,c=function(){h.length>0?(l=h.pop(),a=o.buffer[l+3]):a=-1};c();t:for(var u=r;u>n&&!s.done;){for(;a==u;){var O=l,d=this.buffer[O],f=this.buffer[O+1]+i,p=this.buffer[O+2]+i;if(c(),f<=t&&p>=e&&!s.doEnter(this.group.types[d],f,p)){for(u=O;a>O;)c();continue t}}var g=this.buffer[--u],m=this.buffer[--u]+i,v=this.buffer[--u]+i,y=this.buffer[--u];v>t||m<e||(g!=u+4||s.doEnter(this.group.types[y],v,m))&&s.leave&&s.leave(this.group.types[y],v,m)}},t.prototype.findIndex=function(t,e,i,n,r){for(var s=-1,o=n,h=this.buffer;o<r;){var l=h[o+1]+i,a=h[o+2]+i,c=l==a&&l==t;if(l>=t){if(e>0&&!c)return o;break}if(a>t)return o;c||(s=o),o=h[o+3]}return e<0?s:-1},t}();e.TreeBuffer=p;var g=function(t){function e(e,i,n){var r=t.call(this)||this;return r.node=e,r.start=i,r.parent=n,r}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.node.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.start+this.node.length},enumerable:!0,configurable:!0}),e.prototype.resolveAt=function(t){return t<=this.start||t>=this.end?this.parent.resolveAt(t):this.node.resolveInner(t,this.start,this)},e.prototype.childBefore=function(t){return this.node.findChild(t,-1,this.start,this)},e.prototype.childAfter=function(t){return this.node.findChild(t,1,this.start,this)},e.prototype.toString=function(){return this.node.toString()},e.prototype.iterate=function(t){var e=t.from,i=void 0===e?this.start:e,n=t.to,r=void 0===n?this.end:n,o=t.enter,h=t.leave,l=new s(o,h);return this.node.iterInner(i,r,this.start,l),l.result},e}(u),m=function(t){function e(e,i,n,r){var s=t.call(this)||this;return s.buffer=e,s.bufferStart=i,s.index=n,s.parent=r,s}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.buffer.group.types[this.buffer.buffer[this.index]]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.buffer.buffer[this.index+1]+this.bufferStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.buffer.buffer[this.index+2]+this.bufferStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endIndex",{get:function(){return this.buffer.buffer[this.index+3]},enumerable:!0,configurable:!0}),e.prototype.childBefore=function(t){var i=this.buffer.findIndex(t,-1,this.bufferStart,this.index+4,this.endIndex);return i<0?null:new e(this.buffer,this.bufferStart,i,this)},e.prototype.childAfter=function(t){var i=this.buffer.findIndex(t,1,this.bufferStart,this.index+4,this.endIndex);return i<0?null:new e(this.buffer,this.bufferStart,i,this)},e.prototype.iterate=function(t){var e=t.from,i=void 0===e?this.start:e,n=t.to,r=void 0===n?this.end:n,o=t.enter,h=t.leave,l=new s(o,h);return i<=r?this.buffer.iterChild(i,r,this.bufferStart,this.index,l):this.buffer.iterRev(i,r,this.bufferStart,this.index,this.endIndex,l),l.result},e.prototype.resolveAt=function(t){if(t<=this.start||t>=this.end)return this.parent.resolveAt(t);var i=this.buffer.findIndex(t,0,this.bufferStart,this.index+4,this.endIndex);return i<0?this:new e(this.buffer,this.bufferStart,i,this).resolveAt(t)},e.prototype.toString=function(){var t=[];return this.buffer.childToString(this.index,t),t.join("")},e}(u),v=function(){function t(t,e){this.buffer=t,this.index=e}return Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this.index},enumerable:!0,configurable:!0}),t.prototype.next=function(){this.index-=4},t.prototype.fork=function(){return new t(this.buffer,this.index)},t}(),y=8,b=h.repeated;function w(t,e,i,n,r){var s=e.types;function o(i,l,a,c){var u,d=t.id,f=t.start,g=t.end,m=t.size,v=f-i;if(m<0)return a.push(r[d]),c.push(v),void t.next();var w,x=s[d];if(g-f<=n&&(u=function(e,i){var r=t.fork(),o=0,h=0,l=0,a=r.end-n;t:for(var c=r.pos-e;r.pos>c;){var u=r.size,O=r.pos-u;if(u<0||O<c||r.start<a||i>-1&&r.id!=i)break;var d=s[r.id].prop(b)?4:0,f=r.start;for(r.next();r.pos>O;){if(r.size<0)break t;s[r.id].prop(b)&&(d+=4),r.next()}h=f,o+=u,l+=d}return o>4?{size:o,start:h,skip:l}:null}(t.pos-l,x.prop(b)?d:-1))){for(var k=new Uint16Array(u.size-u.skip),$=t.pos-u.size,X=k.length;t.pos>$;)X=h(u.start,k,X);w=new p(k,g-u.start,e),x.prop(b)&&(w=new O(x,[w],[0],g-u.start)),v=u.start-i}else{$=t.pos-m;t.next();for(var P=[],T=[];t.pos>$;)o(f,$,P,T);P.reverse(),T.reverse(),w=new O(x,P,T,g-f)}a.push(w),c.push(v),!x.prop(b)||0!=t.pos&&t.id==d||function(t,e,i){for(var r=t.length,s=r-1;s>0;s--){var o=t[s-1];if(!(o instanceof O)||o.type!=i)break}if(r-s<y)return;var h=e[r-1],l=S(i,t.slice(s,r).reverse(),e.slice(s,r).reverse(),0,r-s,h,n);t.length=e.length=s+1,t[s]=l,e[s]=h}(a,c,x)}function h(e,i,n){var r=t.id,o=t.start,l=t.end,a=t.size;t.next();var c=n;if(a>4)for(var u=t.pos-(a-4);t.pos>u;)n=h(e,i,n);return s[r].prop(b)||(i[--n]=c,i[--n]=l-e,i[--n]=o-e,i[--n]=r),n}for(var l=[],a=[];t.pos>0;)o(0,0,l,a);var c=l.length?a[0]+l[0].length:0;return new O(e.types[i],l.reverse(),a.reverse(),c)}function S(t,e,i,n,r,s,o){var h=i[r-1]+e[r-1].length-s;if(n==r-1&&0==s){var l=e[n];if(l instanceof O)return l}var a=[],c=[];if(h<=o)for(var u=n;u<r;u++)a.push(e[u]),c.push(i[u]-s);else{var d=Math.max(o,Math.ceil(1.5*h/y));for(u=n;u<r;){var f=u,p=i[u];for(u++;u<r;u++){if(i[u]+e[u].length-p>d)break}if(u==f+1){var g=e[f];if(g instanceof O&&g.type==t){if(g.length>d<<1){for(var m=0;m<g.children.length;m++)a.push(g.children[m]),c.push(g.positions[m]+p-s);continue}}else g=new O(t,[g],[0],g.length);a.push(g)}else a.push(S(t,e,i,f,u,p,o));c.push(p-s)}}return new O(t,a,c,h)}},function(t,e,i){"use strict";(function(t){function n(t,e){return"undefined"==typeof Symbol?"__"+t+(e?Math.floor(1e8*Math.random()):""):e?Symbol(t):Symbol.for(t)}i.d(e,"a",(function(){return l}));const r=n("ͼ"),s=n("styleSet",1),o=n("rules",1),h=void 0===t?window:t;function l(t,e){this[o]=[];for(let i in t){let n=t[i].specificity||0,r=l.newName(),s=i;if(!1!==(e&&e.generateClasses)){let t=r;s="."+r;for(let e=0;e<n;e++){let i="ͼ_"+(e?e.toString(36):"");s+="."+i,t+=" "+i}this[i]=t}c(s,t[i],this[o])}}l.newName=()=>{let t=h[r]||1;return h[r]=t+1,"ͼ"+t.toString(36)},l.prototype=Object.create(null),l.mount=function(t,e){(t[s]||new a(t)).mount(Array.isArray(e)?e:[e])};class a{constructor(t){this.root=t,t[s]=this,this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild),this.modules=[]}mount(t){let e=this.styleTag.sheet,i=!e,n=0,r=0;for(let s=0;s<t.length;s++){let h=t[s],l=this.modules.indexOf(h);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),-1==l){if(this.modules.splice(r++,0,h),!i)for(let t=0;t<h[o].length;t++)e.insertRule(h[o][t],n++)}else{for(;r<l;)n+=this.modules[r++][o].length;n+=h[o].length,r++}}if(i){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e][o].join("\n")+"\n";this.styleTag.textContent=t}}}function c(t,e,i){if("object"!=typeof e)throw new RangeError("Expected style object, got "+JSON.stringify(e));let n=[];for(let r in e)if(/^@/.test(r)){let n=[];c(t,e[r],n),i.push(r+" {"+n.join(" ")+"}")}else if(/&/.test(r))c(r.replace(/&/g,t),e[r],i);else if("specificity"!=r){if("object"==typeof e[r])throw new RangeError("The value of a property ("+r+") should be a primitive value.");n.push(r.replace(/_.*/,"").replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+": "+e[r])}n.length&&i.push(t+" {"+n.join("; ")+"}")}}).call(this,i(3))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4);const r=[10,13,8232,8233],s=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288];function o(t,e){for(let i=e-1;i>=0;i--){let e=t.get(i);if(r.includes(e))return!0;if(!s.includes(e))break}return!1}const h=new n.ExternalTokenizer((t,e,i)=>{let n=e.start,r=t.get(n);(125==r||-1==r||o(t,n))&&i.canShift(164)&&e.accept(164,e.start)},{contextual:!0}),l=new n.ExternalTokenizer((t,e,i)=>{let n=e.start,h=t.get(n++);if(!s.includes(h)&&!r.includes(h)){if(47==h){let e=t.get(n++);if(47==e||42==e)return}125!=h&&59!=h&&-1!=h&&!o(t,e.start)&&i.canShift(163)&&e.accept(163,e.start)}},{contextual:!0}),a=new n.ExternalTokenizer((t,e,i)=>{let n=e.start,r=t.get(n++);43!=r&&45!=r||r!=t.get(n++)||o(t,e.start)||!i.canShift(2)||e.accept(2,n)},{contextual:!0}),c=new n.ExternalTokenizer((t,e)=>{let i=e.start,n=!1;for(;;){let r=t.get(i++);if(r<0){i-1>e.start&&e.accept(165,i-1);break}if(96==r){i==e.start+1?e.accept(167,i):e.accept(165,i-1);break}if(123==r&&n){i==e.start+2?e.accept(166,i):e.accept(165,i-2);break}if(10==r&&i>e.start+1){e.accept(165,i);break}92==r&&i!=t.length&&i++,n=36==r}}),u=n.Parser.deserialize({states:"!2UOYOSOOO$QO!lO'#CkO%yOSO'#CoO'uO!lO'#GZOXOS'#GZ'#GZO)qX#tO'#CyO){OSO'#DZO,vOSO'#DaO.fOSO'#DkOXOS'#Dt'#DtO0[OSO'#DsO0`O!lO'#GVO2bOSO'#E[OXOW'#GV'#GVOXOS'#Gh'#GhO2fOSO'#FcO2jO!fO'#FdOXOS'#F|'#F|OXOS(3Cw(3CwQYOSOOO,vOSO'#D]O2qOSO'#EaO2uOSO'#ChO3POSO'#DsO3ZOSO'#EbO3eOSO'#CaO4ROSO'#EjO4cOSO'#EmO4jOSO'#EsO4jOSO'#EuOYOSO'#EwO4jOSO'#EyO4jOSO'#E|O4nOSO'#FSO4rO!gO'#FWO,vOSO'#FYO4|O!gO'#F[O5WO!gO'#F_O2jO!fO'#FaO5bO!lO'#CkO7vOSO,59ZO7zOSO'#G^O8ROSO(3CzO9wOYO'#G]OXOS'#G]'#G]O;aOSO,59nO;hO`O'#DTO<[OSO'#DtO<oOSO'#GSO<|O!fO'#GRO3ZOSO'#GQO=aOSO'#GQO=kOSO'#DlO2uOSO'#DrO3SOSO'#DsO,vOSO'#FgO=uO!fO,59fO>]OSO'#D_O@RO`O,5:bO,vOSO,5:bO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO,vOSO,5:dO@VOSO,5:sOXOW,5:x,5:xOXOW,5:y,5:yOXOW,5:z,5:zOAuX#tO'#GXO,vOSO'#GYOXXO(3Cx(3CxOBPX#tO,59eOBTOSO'#GaOXOS(3C{(3C{OEOOSO,59uOESO!lO,59{OGOOSO,5:VOGSOSO,59WOGWOSO,5:_O,vOSO,5:vOYOSO,5;}OXOS'#GP'#GPOXOS,5<O,5<OOXOS,5<P,5<POHvO!lO,59wOXOS'#Ck'#CkOJrOSO,5:{OXOS'#Cc'#CcOJyOSO'#ClO4nOSO,59SOKZOSO,59SO3SOSO,59SOK_OSO,5:_O2uOSO,59SOKcOSO'#CoOKsO`O'#CrOXOS'#GS'#GSOLTO!fO,5:|OL_OSO'#EfOLfOSO'#ChOLjOSO,58{OLnOSO,58{OXOS,58{,58{ON^O!fO,58{ONhOSO'#ElONoOSO'#GlONvOSO,5;UONzOSO,5;UO2jO!fO,5;UO! OOSO'#EoOXOS'#Ep'#EpOXOS'#Eq'#EqOYOSO,5;XO!!zOSO,5;XO,vOSO'#DkOYOSO,5;_OYOSO,5;aO!#OOSO,5;cOYOSO,5;eO!#SOSO,5;hO!#WOSO,5;nOXOS,5;r,5;rO,vOSO,5;rO2jO!fO,5;tOXOS,5;v,5;vO!&eOSO,5;vOXOS,5;y,5;yO!&eOSO,5;yOXOS,5;{,5;{OXOS1G.u1G.uOXOS,5<S,5<SO!&iOYO-E9fOXOS,5<w,5<wOXOW1G/Y1G/YO!(ROSO'#CuOXOS'#G`'#G`O,vOSO'#G`O!(lOSO'#G`O!)VOSO'#DUO!)dO`O'#DUO@VOSO'#DUO!)qOSO'#G_O!)xOSO,59oO!*POSO'#CtO!*^OSO'#GTO!*eOSO,59^O!*iO`O'#DUO,vOSO,5<mO=aOSO,5<lO!+POSO'#GgO!+ZOSO(3DQOXOS,5<l,5<lO!+qO`O'#DoOXOW,5:W,5:WO,vOSO,5:WO!,[OSO,5:WO4nOSO,5:^OKZOSO,5:^O3SOSO,5:^O!,cO!lO-E9eOXOS,5<R,5<RO!._OYO'#GcO,vOSO'#GcO!/wOSO,59yOXOW'#Cu'#CuOXOW1G/|1G/|O!/{OSO1G/|O!0PO!lO1G0OO!1{O!lO1G0OO!3wO!lO1G0OO!5sO!lO1G0OO!7oO!lO1G0OO!9kO!lO1G0OO!;gO!lO1G0OO!=cO!lO1G0OO!?_O!lO1G0OO!AZO!lO1G0OO!CVO!lO1G0OO!EROrO'#CkO@VOSO'#DaO!GQOSO'#DsO!GUOrO1G0_O!HkOrO'#GVO!J^OSO'#E[O@VOSO'#D]OXXO,5<Q,5<QO!JbOWO,5<tOXOW1G/P1G/POXOS,5<T,5<TOXOS1G/a1G/aOXOW1G/q1G/qOXOS1G.r1G.rOXOW1G/y1G/yO!JfO!lO1G0bOXOS1G1i1G1iOXOW1G/c1G/cOXOS1G0g1G0gO,vOSO1G0gOXOS1G.n1G.nO4nOSO1G.nOKZOSO1G.nOGWOSO1G/yO3SOSO1G.nO3ZOSO'#CtO!LbO!fO'#GiO3ZOSO'#FoO2jO!fO1G0hOXOS'#C|'#C|O!LlOSO'#GjO!LvOSO,5;QO!LzOSO1G.gOXOS1G.g1G.gO2jO!fO1G.gO!MOOSO'#CkO!MYOSO'#GmO!MaOSO,5;WO!MeOSO'#GmO!MiOSO'#GoO!MpOSO(3DUOXOS,5=W,5=WO2qOSO1G0pO!M}OSO1G0pOXOS1G0p1G0pO!NROYO,5=[O# tOSO,5=[O#!OOSO,5;ZO##qOSO,5;ZO3ZOSO,5=[OXOS1G0s1G0sOYOSO1G0sOXOS1G0y1G0yOXOS1G0{1G0{O4jOSO1G0}O##uOSO1G1PO#&|OSO'#FOOXOS1G1S1G1SO4nOSO1G1YO#)}OSO1G1YO2jO!fO1G1^OXOS1G1`1G1`OXOS'#F^'#F^O2jO!fO1G1bO2jO!fO1G1eO#*UOSO,5<zO@VOSO,59`O3ZOSO,59`O4nOSO,59pO@VOSO,59pOXOS'#DY'#DYOKZOSO,59pO#*YOrO,59pO#+rOSO'#GSOXOS,59`,59`O#+|OSO'#GRO#,WOSO'#GbO#,_O`O(3C|OXOS,5<y,5<yOXOW1G/Z1G/ZO#-ROSO'#GfO#-YO`O(3DPOXOS,5<o,5<oOXOS1G.x1G.xO!)dO`O,59pO#-mO!lO1G2XOXOS1G2W1G2WOXOS,5<Y,5<YO3ZOSO,5<YOXOS-E9l-E9lO#/`O`O'#GeOKZOSO'#DpO!)mO`O'#DpOXO`(3DO(3DOO#/yOSO,5:ZO#/}O`O'#DpO#0[O`O'#DpO#0lOSO1G/rOXOW1G/r1G/rO,vOSO1G/rOXOW1G/x1G/xO4nOSO1G/xOKZOSO1G/xO#0pOSO'#GdO#0wOSO(3C}OXOS,5<},5<}O!._OYO,5<}OXOW1G/e1G/eOXOW7+%h7+%hO#2pOrO,59{O#4]OSO,5:_O@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO@VOSO,5:dO,vOSO7+%yO@VOSO,5:vO#5{OrO,59wO#7hOSO,5:_O#7lO!lO,59fOXXO1G2`1G2`O#0lOSO7+&ROXOS7+$Y7+$YO4nOSO7+$YOXOW7+%e7+%eOKZOSO7+$YOXOS,5<Z,5<ZOXOS-E9m-E9mOXOS7+&S7+&SO#9hOSO'#GkO#9oOSO(3DSOXOS,5=U,5=UO#9yO`O,5=UOXOS1G0l1G0lO2jO!fO7+$ROXOS7+$R7+$RO#9}OSO'#GnO#:UOSO(3DTOXOS,5=X,5=XOXOS1G0r1G0rO2qOSO,5=XOXOS,5<^,5<^OXOS-E9p-E9pO#:`OSO7+&[O2jO!fO7+&[O,vOSO1G2vO,vOSO1G2wO#:dOSO1G0uO#<VOSO1G0uO#<ZOSO1G0uO#=|O!fO1G2vOXOS7+&_7+&_O2jO!fO7+&iOYOSO7+&kO#>aOSO'#GrOXOS'#Gs'#GsOXOS(3DV(3DVO#AbOSO,5;jO,vOSO'#FPO#AfOSO'#FROXOS7+&t7+&tO#AjOSO7+&tO3ZOSO7+&tOXOS7+&x7+&xOXOS7+&|7+&|OXOS7+'P7+'POXOS1G2f1G2fO#DtOrO1G.zO#F^OSO1G.zOXOS1G/[1G/[O#FhOrO1G/[O4nOSO1G/[O@VOSO,5<mOXOS,5<U,5<UO@VOSO'#DUOXOS-E9h-E9hOXOS,5<X,5<XOXOS-E9k-E9kOKZOSO1G/[OXOS3)/W3)/WOXO`,5<W,5<WO4nOSO,5:[OKZOSO,5:[OXOW1G/u1G/uO!)mO`O,5:[O#HQO`O,5:[OXOW7+%^7+%^O#0lOSO7+%^OXOW7+%d7+%dO4nOSO7+%dOXOS,5<V,5<VO#H_OYO-E9iO,vOSO,5<VOXOS1G2i1G2iO#IwOrO'#GZO#KdOrO1G0OO#MPOrO1G0OO#NlOrO1G0OO$!XOrO1G0OO$#tOrO1G0OO$%aOrO1G0OO$&|OrO1G0OO$(iOrO1G0OO$*UOrO1G0OO$+qOrO1G0OO$-^OrO1G0OO$.yOrO1G0_O$0`O!lO<<IeO$2[OrO1G0bO#4]OSO1G/yOXOS<<Im<<ImOXOS<<Gt<<GtO4nOSO<<GtOXOS,5<[,5<[O$3wOSO-E9nOXOS'#Eh'#EhO$4ROSO1G2pOXOS<<Gm<<GmOXOS,5<],5<]OXOS-E9o-E9oO$4YOSO,5<]O!MYOSO1G2sO$4^OSO<<IvOXOS<<Iv<<IvO$4bOSO7+(bO$4fOSO7+(cOXOS7+&a7+&aO$4jOSO7+&aO$4nOSO7+&aO$6aOSO7+&aO,vOSO7+(bO,vOSO7+(cOXOS<<JT<<JTOXOS<<JV<<JVOXOS,5<_,5<_OXOS1G1U1G1UO$6eOSO,5;kOXOS,5;m,5;mO4nOSO<<J`O$6iOSO<<J`O@VOSO7+$fOXOS7+$v7+$vO$6mOrO1G2XO4nOSO7+$vOXO`1G/v1G/vO4nOSO1G/vOKZOSO1G/vO!)mO`O1G/vOXOW<<Hx<<HxOXOW<<IO<<IOO$8VOYO3)/TO@VOSO'#FgO$9oOrO,59fO@VOSO7+%yOXOSAN=`AN=`O$;[O`O1G1vOXOS7+([7+([O2qOSO1G1wOXOS7+(_7+(_O2jO!fOAN?bOXOS<<K|<<K|OXOS<<K}<<K}OXOS<<I{<<I{O$;`OSO<<I{O$;dOSO<<I{O$=VOSO<<K|O$=ZOSO<<K}OXOS1G1V1G1VOXOSAN?zAN?zO4nOSOAN?zO$=_OrO<<HQOXOS<<Hb<<HbOXO`7+%b7+%bO4nOSO7+%bOKZOSO7+%bO$>wOrO-E9eO$@dOrO<<IeOXOS'#Ei'#EiOXOS8;$t8;$tOXOS8;$u8;$uOXOSG24|G24|OXOSAN?gAN?gO$BPOSOAN?gOXOSANAhANAhOXOSANAiANAiO$BTOSOG25fOXO`<<H|<<H|O4nOSO<<H|OXOSG25RG25RO4nOSOLD+QOXO`AN>hAN>hOXOS!$'Nl!$'Nl",stateData:"$EjROSSOS$oOS~UiOX]OYaO]gO^fOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!aeO#VhO#WhO#XhO#_jO#bkO#hlO#jmO#lnO#noO#qpO#wqO#{rO#}sO$PtO$SuO$UvO$qPO$zTO~QpXYpXapXdpXk$QXlpXopX!^pX!i_X!kpX!mpX!npX!opX!ppX!qpX!rpX!spX!tpX!upX!vpX!wpX!xpX!ypX!zpX!|pX#PpX$jpX$zpX~X]O]!WO^!VOaWOb!SOdQOg!OOj]OozOq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTOe$tPe%QP~Q!jOa!ZOd!]Oo!XO!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOY$}X$j$}X!S$}Xe$}X%O$}Xg$}Xk$}X~$k!oO$l!nO$m${P~UiOX]OYaO]gO^fOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!aeO#VhO#WhO#XhO#_jO#bkO#hlO#jmO#lnO#noO#qpO#wqO#{rO#}sO$PtO$SuO$UvO$qPO$zTO!O%TP~X]O]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~X]O]!WO^!VOaWOb!SOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO!S$tP~!i!wO~l!xO#P!xOQ$yXY$yXa$yXd$yXo$yX!^$yX!k$yX!m$yX!n$yX!o$yX!p$yX!q$yX!r$yX!s$yX!t$yX!u$yX!v$yX!w$yX!x$yX!y$yX!z$yX!|$yX$j$yX$z$yXe$yX!S$yX%O$yXg$yXk$yX~l!xO~k!yO~Y!zO$j!zO~$q#OO~a#RO$q#OO$r#QO~^#WOa#RO$q#OO~d#XOg#YO$q#OO~Z#`O]#^O^fOg#]O!aeO#VhO#WhO#XhO$r#QO~X#gOg#cO$q#OO$r#QOW%`P~a#hO!U#lO~a#mO~gUO~Y!zO$i#uO$j!zO~Y!zO$i#xO$j!zO~Y!zO$i#zO$j!zO~QpXapXdpXe_XepXl_XlpXo_XopX!^pX!i_X!kpX!mpX!npX!opX!ppX!qpX!rpX!spX!tpX!upX!vpX!wpX!xpX!ypX!zpX!|pX#PpX$zpXYpX$jpX!S_X!SpX%OpX#fpXgpXkpX~e#|O~ozOe%QX~X]O]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTOe$[Zo$[Z~Q!jOa!ZOd!]OozO!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOe%QP~e$QOe$QO~X$UOb$XOd$TOj$UOy$_Oz$WO{$WO$r#QO$x$RO!O$wP!O%RP~e$vXl$vXo$vX!i!hX!S$vX!O$vX~l!xOe$vXo$vX!S$vX~l$`Oe$uXo$uX!S$uXY$uX$j$uX~o$cOe%ZP!S%ZP~g$eO!b$gO$q#OO~o!XOYna$jna!Snaenagnakna~X]O]!WO^!VOaWOb$oOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO!S%VP~$x$qO~X]O]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!Q%VO!U%QO!V%QO!W%QO!X%QO!Y%QO!Z%QO![%QO!]%QO!^%QO!a!UO$q%PO$zTO~$k!oO$l!nO$m${X~$m%YO~UiOX]OYaO]gO^fOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!aeO#VhO#WhO#XhO#_jO#bkO#hlO#jmO#lnO#noO#qpO#wqO#{rO#}sO$PtO$SuO$UvO$qPO$zTO!O%TX~!O%[O~a!ZOd!]O!k![O$zTOQ!TaY!Tao!Ta!^!Ta!m!Ta!n!Ta!o!Ta!p!Ta!q!Ta!r!Ta!s!Ta!t!Ta!u!Ta!v!Ta!w!Ta!x!Ta!y!Ta!z!Ta!|!Ta$j!Tae!Ta!S!Ta%O!Tag!Tak!Ta~!S%]O~!S%^O~X]O]!WO^!VOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOY!Pao!Pa$j!Pae!Pa!S!Pa%O!Pag!Pak!Pa~g$eO!b%dO~b!SOd#XOg#YO$q#OO!S$tP~a#RO~!i%hO~b!SOd#XOg#YO$q#OOe$tP~X$[Ob%jOj$[O$x$qO!O$wP~o%lOY%]P$j%]P~$q%nO!O%^P~^#WO~W%qO~X]O]gO^fOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!aeO$qwO$zTO~W%qOY!zO$j!zO~$q%tO!O%aP~o%yOW%cP~#Z%{O~W%|O~X]OY&QO]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO#V&SO#W&SO#X&SO$qwO$zTO~a#hO~#h&XO~g&ZO~#x&^O#y&]OU#vaX#vaY#va]#va^#vaa#vad#vag#vaj#vaq#var#vas#vat#vau#va!Q#va!U#va!V#va!W#va!X#va!Y#va!Z#va![#va!]#va!^#va!a#va#V#va#W#va#X#va#_#va#b#va#h#va#j#va#l#va#n#va#q#va#w#va#{#va#}#va$P#va$S#va$U#va$h#va$q#va$z#va!O#va#o#vaZ#va#t#va~$q&aO~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOe$[co$[c~a|XkiXk|XliXoiXo|X!OiX!O|X~k&fOl&eOa%SXk%SXohXo%SX!OhX!O%SX~a#ROk&hOoxX!OxX~X$SOd$TOj$SO$x&iO~o&pO!O%UP~!O&rO!O&rO~k&fOl&eOohX!OhX~o&tO!O%YP~!O&vO~X$SOd$TOj$SOz&wO{&wO$r#QO$x&iO~o$cOe%ZX!S%ZX~b&{Od#XOg#YO$q#OOe$bZo$bZ!S$bZ~Y'QOy'SOz'PO{'PO!e'TO$r#QO$x&iO!O%XP~g$eO!b'WO~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOY$Zco$Zc$j$Zc!S$Zce$Zc%O$Zcg$Zck$Zc~Q!jOa!ZOd!]Oo']O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTO!S%WP~!S'`O~e'aO~Q!jOa!ZOd!]O!k![O$zTOY!lio!li!^!li!m!li!n!li!o!li!p!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!k![O!m!^O$zTOY!lio!li!^!li!n!li!o!li!p!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!k![O!m!^O!n!_O!o!_O!p!_O$zTOY!lio!li!^!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O$zTOY!lio!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO$zTOY!lio!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO$zTOY!lio!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO$zTOY!lio!li!v!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO$zTOY!lio!li!w!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO$zTOY!lio!li!x!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO$zTOY!lio!li!y!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO$zTOY!lio!li!z!li!|!li$j!lie!li!S!li%O!lig!lik!li~QpXapXdpXlpX!^pX!i_X!kpX!mpX!npX!opX!ppX!qpX!rpX!spX!tpX!upX!vpX!wpX!xpX!ypX!zpX!|pX!}pX#PpX$zpXl_Xo_XopX!O_X!OpX~!i'cO~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO!}'oO$zTO~l'pO#P'pOQ$yXa$yXd$yX!^$yX!k$yX!m$yX!n$yX!o$yX!p$yX!q$yX!r$yX!s$yX!t$yX!u$yX!v$yX!w$yX!x$yX!y$yX!z$yX!|$yX!}$yX$z$yXo$yX!O$yX~l'pO~%O'tO~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOY#Oio#Oi$j#Oie#Oi!S#Oi%O#Oig#Oik#Oi~o%lOY%]X$j%]X~o(OO#Z(QO!O%_P~!O(RO~X(SO~o_X!O_X#ZpX~o(VO!O%bP~!O(XO~#Z(YO~o%yOW%cX~g#cO$q#OOW$fZo$fZ~X(^O~l!xO!s(_O#P!xO#f(`OQ$yXY$yXa$yXd$yXo$yX!^$yX!k$yX!m$yX!n$yX!o$yX!p$yX!q$yX!r$yX!t$yX!u$yX!v$yX!w$yX!x$yX!y$yX!z$yX!|$yX$z$yX~l!xO!s(_O#f(`O~X]OY(aO]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~Y(cO~#o(gOU#miX#miY#mi]#mi^#mia#mid#mig#mij#miq#mir#mis#mit#miu#mi!Q#mi!U#mi!V#mi!W#mi!X#mi!Y#mi!Z#mi![#mi!]#mi!^#mi!a#mi#V#mi#W#mi#X#mi#_#mi#b#mi#h#mi#j#mi#l#mi#n#mi#q#mi#w#mi#{#mi#}#mi$P#mi$S#mi$U#mi$h#mi$q#mi$z#mi!O#miZ#mi#t#mi~UiOX]OYaOZ(mO]gO^fOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!aeO#VhO#WhO#XhO#_jO#bkO#hlO#jmO#lnO#noO#qpO#t(lO#wqO#{rO#}sO$PtO$SuO$UvO$qPO$zTO!O%fP~a(pOgUO~e(tO~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTOoxa!Oxa~l'pOo$vX!O$vX~l(zOo$uX!O$uX~o&pO!O%UX~X$SOb(|Od$TOj$SOy$_Oz$WO{$WO$r#QO$x&iOo$^Z!O$^Z~o&tO!O%YX~X$[Ob%jOj$[O$x$qOo$aZ!O$aZ~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOe$uio$ui!S$uiY$ui$j$ui~Y'QOy'SOz'PO{'PO!e'TO$r#QO$x&iO!O%XX~!O)VO~z)WO{)WO$r#QO$x&iO~y)XOz)WO{)WO$r#QO$x&iO~g$eO~o']O!S%WX~X]O]!WO^!VOaWOb)`OdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTOo$_Z!S$_Z~a!ZOd!]O!k![O$zTOQ!Ta!^!Ta!m!Ta!n!Ta!o!Ta!p!Ta!q!Ta!r!Ta!s!Ta!t!Ta!u!Ta!v!Ta!w!Ta!x!Ta!y!Ta!z!Ta!|!Ta!}!Tao!Ta!O!Ta~X]O]!WO^!VOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!Q%VO!U%QO!V%QO!W%QO!X%QO!Y%QO!Z%QO![%QO!]%QO!^%QO!a!UO$q%PO$zTO~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTO!}!Pao!Pa!O!Pa~!i)qO~o!XO%OnaQnaYnaanadna!^na!kna!mna!nna!ona!pna!qna!rna!sna!tna!una!vna!wna!xna!yna!zna!|na$jna$znaena!Snagnakna~o(OO!O%_X~$q%nOo$dZ!O$dZ~$x)wO~o(VO!O%bX~$q%tOo$eZ!O$eZ~W*OO~X]O]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!S*SO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~Y*UO~X]OY*UO]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~l$`O!s*WO#f*XOY$uXo$uX$j$uX~UiOX]OYaOZ(mO]gO^fOaWOdQOgUOj]Oq]Or]Os]Ot]Ou]O!QdO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!aeO#VhO#WhO#XhO#_jO#bkO#hlO#jmO#lnO#noO#qpO#t(lO#wqO#{rO#}sO$PtO$SuO$UvO$qPO$zTO!O%fX~!O*]O~k*_O~#y*`OU#vqX#vqY#vq]#vq^#vqa#vqd#vqg#vqj#vqq#vqr#vqs#vqt#vqu#vq!Q#vq!U#vq!V#vq!W#vq!X#vq!Y#vq!Z#vq![#vq!]#vq!^#vq!a#vq#V#vq#W#vq#X#vq#_#vq#b#vq#h#vq#j#vq#l#vq#n#vq#q#vq#w#vq#{#vq#}#vq$P#vq$S#vq$U#vq$h#vq$q#vq$z#vq!O#vq#o#vqZ#vq#t#vq~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTOohi!Ohi~l*bOohi!Ohi~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTOoxi!Oxi~z*iO{*iO$r#QO$x&iO~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOo$_c!S$_c~Q!jOa!ZOd!]Oo*mO!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTO!}$}X!O$}X~Q!jOa!ZOd!]O!k![O$zTO!^!li!m!li!n!li!o!li!p!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!k![O!m'dO$zTO!^!li!n!li!o!li!p!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!k![O!m'dO!n'eO!o'eO!p'eO$zTO!^!li!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO$zTO!q!li!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO$zTO!r!li!s!li!t!li!u!li!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO$zTO!u!li!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO$zTO!v!li!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO$zTO!w!li!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO$zTO!x!li!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO$zTO!y!li!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO$zTO!z!li!|!li!}!lio!li!O!li~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO!}*oO$zTO~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO$zTOY!{yo!{y!|!{y$j!{ye!{y!S!{y%O!{yg!{yk!{y~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTO!}#Oio#Oi!O#Oi~#Z*qOo$dc!O$dc~o(OO!O%_P~#Z*sO~X*uO~!S*vO~!S*wO~!S*xO~X]O]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!S*xO!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~Y*zO~k*}O~!S+PO~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTOo$ui!O$ui~Q!jOa!ZOd!]O!^!`O!k![O!m!^O!n!_O!o!_O!p!_O!q!aO!r!bO!s!bO!t!bO!u!cO!v!dO!w!eO!x!fO!y!gO!z!hO!|!iO$zTOo$_k!S$_k~o*mOQnaanadna!^na!kna!mna!nna!ona!pna!qna!rna!sna!tna!una!vna!wna!xna!yna!zna!|na!}na$zna!Ona~$x+XO~!S+]O~X]O]!WO^!VOaWOdQOg!OOj]Oq]Or]Os]Ot]Ou]O!QdO!S+]O!UVO!VVO!WVO!XVO!YVO!ZVO![VO!]VO!^VO!a!UO$qwO$zTO~!S+_O~!S+`O~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTOohy!Ohy~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO!|!iO$zTOo$Zc!}$Zc!O$Zc~Q!jOa!ZOd!]O!^'fO!k![O!m'dO!n'eO!o'eO!p'eO!q'gO!r'hO!s'hO!t'hO!u'iO!v'jO!w'kO!x'lO!y'mO!z'nO$zTO!|!{y!}!{yo!{y!O!{y~!S+dO~#y+eOU#v!ZX#v!ZY#v!Z]#v!Z^#v!Za#v!Zd#v!Zg#v!Zj#v!Zq#v!Zr#v!Zs#v!Zt#v!Zu#v!Z!Q#v!Z!U#v!Z!V#v!Z!W#v!Z!X#v!Z!Y#v!Z!Z#v!Z![#v!Z!]#v!Z!^#v!Z!a#v!Z#V#v!Z#W#v!Z#X#v!Z#_#v!Z#b#v!Z#h#v!Z#j#v!Z#l#v!Z#n#v!Z#q#v!Z#w#v!Z#{#v!Z#}#v!Z$P#v!Z$S#v!Z$U#v!Z$h#v!Z$q#v!Z$z#v!Z!O#v!Z#o#v!ZZ#v!Z#t#v!Z~S$xR$q$o!nu~$q$x~",goto:"!#s%hPPPPP%iP%yPPPP&lPP'Q*[PP-^PP-^P/o/vPPP0O3OP3zPPPPP6W6W8SPPP8Y8qP6WP:iP6WPPPPPPPPP;o6WPP=z>^P6W6W>bP@dP6WPPPPPPPPPPPPPP6WPP6WP6W6W6W&lBdPPPBxPB{CO%iPCR%iPCXCXCXP%iP%iP%iP%iPP%iPC_CbPCb%iPPP%iP%iP%iPCf%iP%iP%i%iC|DSDYDeDlDrDxEPEVE]EdEjEqExFOPPPPPPPPFUPPFzHPHXHsI]PIaPM]M`MdP! `! c! i! l! w! z! }!!Q!!W!!Z!!^!!d!!w!!z!!}!#T!#W!#Z!#a!#d!#h!#l!#omaOUcn!q!y#k#n#o#q&U&Z(g(hQ#UfQ#_iQ#ejS$W!O&pQ$k!VQ%i#WQ&w$_S'P$e&}S)W'S'TR*i)Xn^OUcin!q!y#k#n#o#q&U&Z(g(hR%r#`$pXOUVcdgnsz!W!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!i!n!q!w!x!y#`#h#k#m#n#o#q#u$T$`$g$o%Q%V%d%h&Q&U&Z&e&h'W']'c'd'e'f'g'h'i'j'k'l'm'n'o'p(_(`(a(c(g(h(l(z(|)`)q*U*W*X*b*m*o*zU!PQW$XQ#PeQ#Tff#Zh!S#R#X$c%j%l&S&f&{(pQ#djQ$h!UQ$j!VS%g#U#WQ%u#cQ'Z$kQ'y%iQ([%yQ(]%{Q){(VQ)}(YR+Z*s#nYOQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!n!q!w!x!y#`#h#k#m#n#o#q#u$T$`$g$o%d%h&Q&U&Z'W']'o(_(`(a(c(g(h(l)`*U*W*X*zQ#SfS#Vg!WQ$i!V!S%R!i$X%Q%V&e&h'c'd'e'f'g'h'i'j'k'l'm'n'p(z(|)q*b*m*oU%f#T#U#WQ&g$VS'Y$j$kS'w%g%iQ(y&jQ)T'OQ)]'ZQ)t'yQ*e)QQ*g)UQ+T*hR+c+U#h[OUVcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!n!q!w!x!y#`#k#m#n#o#q#u$T$`$g$o%d%h&Q&U&Z'W']'o(_(`(a(c(g(h(l)`*U*W*X*zS!QQWf#Zh!S#R#X$c%j%l&S&f&{(p!Q%U!i%Q%V&e&h'c'd'e'f'g'h'i'j'k'l'm'n'p(z(|)q*b*m*oQ&P#hR&l$XS$]!O#YR)P&tU$[!O#Y&tR$r![$r]OQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!i!n!q!w!x!y#`#h#k#m#n#o#q#u$T$X$`$g$o%Q%V%d%h&Q&U&Z&e&h'W']'c'd'e'f'g'h'i'j'k'l'm'n'o'p(_(`(a(c(g(h(l(z(|)`)q*U*W*X*b*m*o*z#T!lR{!t!}$O$l$n$t$u$v$w$x$y$z${$|$}%O%S%`&k&x'_'b'q(u(x)_)b)c)d)e)f)g)h)i)j)k)l)m)n)o)p*d*l+Q+V+W!sSOUWcns!]!n!q!w!y#`#h#k#m#n#o#q#u$T$g%d%h&Q&U&Z'W'c(_(`(a(c(g(h(l)q*U*W*X*z#lZOQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!n!q!w!x!y#`#k#m#n#o#q#u$T$`$g$o%d%h&Q&U&Z'W']'o(_(`(a(c(g(h(l)`*U*W*X*z!S%T!i$X%Q%V&e&h'c'd'e'f'g'h'i'j'k'l'm'n'p(z(|)q*b*m*oQ%o#]Q%w#cQ&O#hQ)v(OR)|(V$s]OQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!i!n!q!w!x!y#`#h#k#m#n#o#q#u$T$X$`$g$o%Q%V%d%h&Q&U&Z&e&h'W']'c'd'e'f'g'h'i'j'k'l'm'n'o'p(_(`(a(c(g(h(l(z(|)`)q*U*W*X*b*m*o*zQ$Y!OR(}&pY$S!O$W$_&p&wS'O$e&}U)U'P'S'TS*h)W)XR+U*ilaOUcn!q!y#k#n#o#q&U&Z(g(hQ#sqS%_!w'cQ%e#SQ'X$iQ'v%fS'x%h)qQ(n&]Q(o&^Q(w&gQ)['YQ)s'wQ*c(yQ*f)TQ*k)]Q*p)tQ+O*`Q+R*eQ+S*gQ+a+PQ+b+TQ+f+cR+g+e#O!kR{!t$O$l$n$t$u$v$w$x$y$z${$|$}%O%S%`&k&x'_'b(u(x)_)b)c)d)e)f)g)h)i)j)k)l)m)n)o)p*d*l+Q+V+WT%b!}'q$r]OQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!i!n!q!w!x!y#`#h#k#m#n#o#q#u$T$X$`$g$o%Q%V%d%h&Q&U&Z&e&h'W']'c'd'e'f'g'h'i'j'k'l'm'n'o'p(_(`(a(c(g(h(l(z(|)`)q*U*W*X*b*m*o*zQ#nlQ#omQ#qoQ#rpR(f&XQ$f!UQ%c#PQ'V$hQ)Y'UQ)r'uR*j)ZT'Q$e&}#nYOQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!n!q!w!x!y#`#h#k#m#n#o#q#u$T$`$g$o%d%h&Q&U&Z'W']'o(_(`(a(c(g(h(l)`*U*W*X*zS#Vg!W!T%R!i$X%Q%V&e&h'c'd'e'f'g'h'i'j'k'l'm'n'p(z(|)q*b*m*o#lZOQUVWcdnsz!X!Z!]!^!_!`!a!b!c!d!e!f!g!h!n!q!w!x!y#`#k#m#n#o#q#u$T$`$g$o%d%h&Q&U&Z'W']'o(_(`(a(c(g(h(l)`*U*W*X*z!S%T!i$X%Q%V&e&h'c'd'e'f'g'h'i'j'k'l'm'n'p(z(|)q*b*m*oR&O#hn^OUcin!q!y#k#n#o#q&U&Z(g(hR&Q#hR#biR)x(QR+Y*qQ#djR([%yQ#kkR&U#lR&[#rT(i&Z(hl_OUcn!q!y#k#n#o#q&U&Z(g(hQ&b#xR&c#zQcOR!|cQ!mTR%W!mQ!YRU$m!Y's*nR*n)bSyQ{R#}yQ!qUR%Z!qQ&o$YR({&oS'[$n'_R)^'[Q&}$eR)S&}Q&s$]R)O&sS$b!T$aR&z$bQ%k#[R'z%kS'}%o)xR)u'}S(U%u)}R)z(UQ%x#dR(Z%xQ(h&ZR*[(hSbOcS!rU!qQ#pnQ%a!yQ&T#kQ&V#nQ&W#oQ&Y#qQ(e&US(i&Z(hR*Z(gQ!{`Q#trQ#wtQ#yuQ#{vQ%r#bQ%}#gQ&`#vQ'|%mQ(T%sQ(q&_Q(r&bQ(s&cQ)y(SQ*P(^Q*Y(fR+[*uSxQ#XT!vW#RW!TQW#R#XS#[h&SQ$a!SS&m$X%jQ&|$cQ'{%lR)R&{b!RQWh!S#R#X$c%l&{S&n$X%jQ(d&SQ(v&fR*a(pT$^!O#Y!nROUWcns!]!n!q!w!y#`#h#k#m#n#o#q#u$T$g%d%h&Q&U&Z'W(_(`(a(c(g(h(l*U*W*X*zQ{QQ!tVQ!}dQ$OzQ$l!XQ$n!ZQ$t!^Q$u!_Q$v!`Q$w!aQ$x!bQ$y!cQ$z!dQ${!eQ$|!fQ$}!gQ%O!hQ%S!iQ%`!xS&k$X(|Q&x$`Q'_$oQ'b%QQ'q%VQ(u&eQ(x&hQ)_']S)b'c)qQ)c'dQ)d'eQ)e'fQ)f'gQ)g'hQ)h'iQ)i'jQ)j'kQ)k'lQ)l'mQ)m'nQ)o'oQ)p'pQ*d(zQ*l)`Q+Q*bQ+V*mR+W*oR!pTT!oT!ml`OUcn!q!y#k#n#o#q&U&Z(g(hS!uW#mQ#vsQ$s!]Q%X!nS%_!w'cQ%s#`Q&R#hQ&_#uQ&d$TQ'U$gQ'u%dS'x%h)qQ(b&QQ)Z'WQ*Q(_Q*R(`Q*T(aQ*V(cQ*^(lQ*y*UQ*{*WQ*|*XR+^*zR}QQ|QR$P{R$Z!OS$V!O&pS&j$W$_R)Q&wR!sUR&q$YR$p!ZQ'^$nR)a'_R'R$eR&u$]Q$d!TR&y$alaOUcn!q!y#k#n#o#q&U&Z(g(hR#aiR%m#[R%p#]Q(P%oR*r)xR#fjR%v#cQ(W%uR*t)}R%z#dT#ik#lT#jk#lR(k&ZT(j&Z(h",nodeNames:"⚠ Script PostfixOp LineComment BlockComment ExportDeclaration export Star from String ; default FunctionDeclaration async function VariableDefinition ParamList ( Spread ArrayPattern [ ] ObjectPattern { PatternProperty PropertyName Number : Equals TemplateString SequenceExpression , VariableName BooleanLiteral this null super RegExp ArrayExpression ObjectExpression Property async get set PropertyNameDefinition Block } NewExpression new ArgList ) UnaryExpression await yield void typeof delete LogicOp BitOp ArithOp ArithOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration static FunctionExpression ArrowFunction ParamList Arrow MemberExpression . BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression ClassDeclaration VariableDeclaration let var const ExportGroup as VariableName VariableName ImportDeclaration import ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break Label ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",nodeProps:[[n.NodeProp.delim,16,"( )",19,"[ ]",22,"{ }",38,"[ ]",39,"{ }",45,"{ }",49,"( )",61,"( )",65,"{ }",102,"{ }",108,"{ }",111,"( )",126,"{ }"]],repeatNodeCount:15,tokenData:"<v~R!SX^$_pq$_qr%Srs%itu&]uv&vvw'Twx'exy(Syz(Xz{(^{|(s|})T}!O)Y!O!P)e!P!Q*u!Q!R5i!R![6c![!]8S!]!^8Z!^!_8`!_!`8x!`!a9b!a!b9x!c!}&]!}#O9}#P#Q:S#Q#R:X#R#S&]#S#T:a#T#o&]#o#p:f#p#q:k#q#r:{#r#s;S#y#z$_$f$g$_$g#BY&]#BY#BZ;X#BZ$IS&]$IS$I_;X$I_$I|&]$I|$JO;X$JO$JT&]$JT$JU;X$JU$KV&]$KV$KW;X$KW&FU&]&FU&FV;X&FV~&]~$dY$o~X^$_pq$_#y#z$_$f$g$_#BY#BZ$_$IS$I_$_$I|$JO$_$JT$JU$_$KV$KW$_&FU&FV$_~%XP!Z~!_!`%[~%aP!u~!_!`%d~%iO!u~~%nUX~OY%iZr%irs&Qs#O%i#O#P&V#P~%i~&VOX~~&YPO~%i_&dU$xS$qZtu&]!Q![&]!c!}&]#R#S&]#T#o&]$g~&]~&{P!o~!_!`'OY'TO#PY~'YQ!x~vw'`!_!`'O~'eO!y~~'jUX~OY'eZw'ewx&Qx#O'e#O#P'|#P~'e~(PPO~'e~(XOa~~(^O!S~~(eQ$rT!pYz{(k!_!`'O~(pP!m~!_!`'O~(xQ!^~{|)O!_!`'O~)TO!]~~)YOo~~)_Q!^~}!O)O!_!`'O~)jQ!kY!O!P)p!Q![){~)sP!O!P)v~){Ob~T*QRjT!Q![){!g!h*Z#X#Y*ZT*^R{|*g}!O*g!Q![*mT*jP!Q![*mT*rPjT!Q![*m~*zZ!nYOY+mZz+mz{-f{!P+m!P!Q3z!Q!_+m!_!`4V!`!}+m!}#O4s#O#P5`#P~+mP+rVuPOY+mZ!P+m!P!Q,X!Q!}+m!}#O,p#O#P-]#P~+mP,^UuP#Z#[,X#]#^,X#a#b,X#g#h,X#i#j,X#m#n,XP,sTOY,pZ#O,p#O#P-S#P#Q+m#Q~,pP-VQOY,pZ~,pP-`QOY+mZ~+m~-kYuPOY-fYZ.ZZz-fz{/O{!P-f!P!Q2v!Q!}-f!}#O0^#O#P2d#P~-f~.^ROz.Zz{.g{~.Z~.jTOz.Zz{.g{!P.Z!P!Q.y!Q~.Z~/OOS~~/TYuPOY-fYZ.ZZz-fz{/O{!P-f!P!Q/s!Q!}-f!}#O0^#O#P2d#P~-f~/zUS~uP#Z#[,X#]#^,X#a#b,X#g#h,X#i#j,X#m#n,X~0aWOY0^YZ.ZZz0^z{0y{#O0^#O#P2Q#P#Q-f#Q~0^~0|YOY0^YZ.ZZz0^z{0y{!P0^!P!Q1l!Q#O0^#O#P2Q#P#Q-f#Q~0^~1qTS~OY,pZ#O,p#O#P-S#P#Q+m#Q~,p~2TTOY0^YZ.ZZz0^z{0y{~0^~2gTOY-fYZ.ZZz-fz{/O{~-f~2{_uPOz.Zz{.g{#Z.Z#Z#[2v#[#].Z#]#^2v#^#a.Z#a#b2v#b#g.Z#g#h2v#h#i.Z#i#j2v#j#m.Z#m#n2v#n~.Z~4PQR~OY3zZ~3zZ4^V#PYuPOY+mZ!P+m!P!Q,X!Q!}+m!}#O,p#O#P-]#P~+mP4vTOY4sZ#O4s#O#P5V#P#Q+m#Q~4sP5YQOY4sZ~4sP5cQOY+mZ~+mT5nVjT!O!P6T!Q![6c!g!h*Z#U#V6t#X#Y*Z#c#d7Y#l#m7hT6YRjT!Q![6T!g!h*Z#X#Y*ZT6hSjT!O!P6T!Q![6c!g!h*Z#X#Y*ZT6wQ!Q!R6}!R!S6}T7SQjT!Q!R6}!R!S6}T7]P!Q!Y7`T7ePjT!Q!Y7`T7kR!Q![7t!c!i7t#T#Z7tT7yRjT!Q![7t!c!i7t#T#Z7tZ8ZOkR!}W~8`OY~~8eQ!r~!^!_8k!_!`8s~8pP!q~!_!`'O~8xO!r~~8}Ql~!_!`9T!`!a9]~9YP!u~!_!`%d~9bO!i~~9gQ!r~!_!`8s!`!a9m~9rQ!q~!_!`'O!`!a8k~9}O!|~~:SOd~~:XOe~~:^P!w~!_!`'O~:fO$z~~:kOg~~:pQ!v~!_!`'O#p#q:v~:{O!z~_;SO!O]%OQ~;XO![~~;bf$xS$qZ$o~X^$_pq$_tu&]!Q![&]!c!}&]#R#S&]#T#o&]#y#z$_$f$g$_$g#BY&]#BY#BZ;X#BZ$IS&]$IS$I_;X$I_$I|&]$I|$JO;X$JO$JT&]$JT$JU;X$JU$KV&]$KV$KW;X$KW&FU&]&FU&FV;X&FV~&]",tokenizers:[l,a,0,1,2,3,h,c],specializeTable:8027,specializations:[{export:12,from:17,default:22,async:27,function:28,true:66,false:66,this:68,null:70,super:72,new:96,await:105,yield:107,void:108,typeof:110,delete:112,class:126,extends:128,in:162,instanceof:164,let:198,var:200,const:202,as:207,import:214,for:220,of:229,while:232,with:236,do:240,if:244,else:246,switch:250,case:256,try:262,catch:264,finally:266,return:270,throw:274,break:278,continue:284,debugger:288},{async:83,get:85,set:87,static:135}],tokenPrec:8019});e.parser=u},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(t){t[t.Unit=1e6]="Unit",t[t.Deduplicate=2e6]="Deduplicate",t[t.MaxRecoverStacks=25]="MaxRecoverStacks",t[t.TooBadToRecover=5e6]="TooBadToRecover",t[t.RecoverSiblingFactor=3]="RecoverSiblingFactor",t[t.MaxParallelBufferLength=800]="MaxParallelBufferLength"}(n||(n={}));var o,h=function(){function t(t,e,i,n,r,s,o,h,l){this.cx=t,this.stack=e,this.state=i,this.reducePos=n,this.pos=r,this.badness=s,this.buffer=o,this.bufferBase=h,this.parent=l}return t.prototype.toString=function(){return"["+this.stack.filter((function(t,e){return e%3==0})).concat(this.state).join(",")+"]"},t.start=function(e,i){return void 0===i&&(i=0),new t(e,[],e.parser.states[0],i,i,0,[],0,null)},t.prototype.pushState=function(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t},t.prototype.reduce=function(t){var e=t>>19,i=65535&t,n=this.cx.parser;if(0==e)return i<=n.maxNode&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.pushState(n.getGoto(this.state,i,!0),this.reducePos);var s=this.stack.length-3*(e-1)-(262144&t?6:0),o=this.stack[s-2],h=this.stack[s-1],l=this.bufferBase+this.buffer.length-h;if(i<=n.maxNode&&(131072&t||!n.group.types[i].prop(r.NodeProp.repeated))){var a=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,o,a,l+4,!0)}if(262144&t)this.state=this.stack[s];else{var c=this.stack[s-3];this.state=n.getGoto(c,i,!0)}for(;this.stack.length>s;)this.stack.pop()},t.prototype.storeNode=function(t,e,i,n,r){if(void 0===n&&(n=4),void 0===r&&(r=!1),0==t){var s=this,o=this.buffer.length;if(0==o&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&0==s.buffer[o-4]&&s.buffer[o-1]>-1){if(e==i)return;if(s.buffer[o-2]>=e)return void(s.buffer[o-2]=i)}}if(r&&this.pos!=i){var h=this.buffer.length;if(h>0&&0!=this.buffer[h-4])for(;h>0&&this.buffer[h-2]>i;)this.buffer[h]=this.buffer[h-4],this.buffer[h+1]=this.buffer[h-3],this.buffer[h+2]=this.buffer[h-2],this.buffer[h+3]=this.buffer[h-1],h-=4,n>4&&(n-=4);this.buffer[h]=t,this.buffer[h+1]=e,this.buffer[h+2]=i,this.buffer[h+3]=n}else this.buffer.push(t,e,i,n)},t.prototype.shift=function(t,e,i){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){var n=this.pos,r=t,s=this.cx.parser;i>this.pos&&(this.badness=(this.badness>>1)+(this.badness>>2)),(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(r,1)||(this.reducePos=i)),this.pushState(r,n),e<=s.maxNode&&this.buffer.push(e,n,i,4)}else e<=this.cx.parser.maxNode&&this.buffer.push(e,this.pos,i,4),this.pos=i},t.prototype.apply=function(t,e,i){65536&t?this.reduce(t):this.shift(t,e,i)},t.prototype.useNode=function(t,e){var i=this.cx.reused.length-1;(i<0||this.cx.reused[i]!=t)&&(this.cx.reused.push(t),i++);var n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.badness>>=2,this.buffer.push(i,n,this.reducePos,-1)},t.prototype.split=function(){for(var e=this,i=e.buffer.length;i>0&&e.buffer[i-2]>e.reducePos;)i-=4;for(var n=e.buffer.slice(i),r=e.bufferBase+i;e&&r==e.bufferBase;)e=e.parent;return new t(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.badness,n,r,e)},t.prototype.recoverByDelete=function(t,e){var i=t<=this.cx.parser.maxNode;i&&this.storeNode(t,this.pos,e),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.badness+=1e6},t.prototype.canShift=function(t){for(var e=new l(this);;){var i=this.cx.parser.stateSlot(e.top,4)||this.cx.parser.hasAction(e.top,t);if(0==(65536&i))return!0;if(0==i)return!1;e.reduce(i)}},Object.defineProperty(t.prototype,"ruleStart",{get:function(){var t=this.cx.parser.stateSlot(this.state,5);if(!(65536&t))return 0;var e=this.stack.length-3*(t>>19);return this.stack[e+1]},enumerable:!0,configurable:!0}),t.prototype.startOf=function(t){for(var e=this.stack.length;e>=0;e-=3){var i=e==this.stack.length?this.state:this.stack[e],n=this.cx.parser.stateSlot(i,5);if(t.includes(65535&n)){var r=e-3*(n>>19);return this.stack[r+1]}}return-1},t.prototype.recoverByInsert=function(t){var e=this,i=this.cx.parser.nextStates(this.state);if(i.length>4){for(var n=i.filter((function(i){return i!=e.state&&e.cx.parser.hasAction(i,t)})),r=0;n.length<4&&r<i.length;r++)n.includes(i[r])||n.push(i[r]);i=n}var s=[];for(r=0;r<i.length&&s.length<4;r++)if(i[r]!=this.state){var o=this.split();o.storeNode(0,o.pos,o.pos,4,!0),o.pushState(i[r],this.pos),o.badness+=1e6,s.push(o)}return s},t.prototype.forceReduce=function(){var t=this.cx.parser.anyReduce(this.state);if(t>>19==0){if(0==(65536&(t=this.cx.parser.stateSlot(this.state,5))))return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.badness+=1e6}return this.reduce(t),!0},t.prototype.compare=function(t){return this.pos-t.pos||this.badness-t.badness},t.prototype.toTree=function(){return r.Tree.build(a.create(this),this.cx.parser.group,1,this.cx.maxBufferLength,this.cx.reused)},t}();!function(t){t[t.MaxNext=4]="MaxNext"}(o||(o={}));var l=function(){function t(t){this.stack=t,this.top=t.state,this.rest=t.stack,this.offset=this.rest.length}return t.prototype.reduce=function(t){var e=65535&t,i=t>>19;0==i?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(i-1);var n=this.stack.cx.parser.getGoto(this.rest[this.offset-3],e,!0);this.top=n},t}(),a=function(){function t(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return t.create=function(e){return new t(e,e.bufferBase+e.buffer.length,e.buffer.length)},t.prototype.maybeNext=function(){var t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)},Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0}),t.prototype.next=function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()},t.prototype.fork=function(){return new t(this.stack,this.pos,this.index)},t}(),c=function(){function t(){this.start=-1,this.value=-1,this.end=-1}return t.prototype.accept=function(t,e){this.value=t,this.end=e},t}(),u=function(){function t(t,e){void 0===e&&(e=t.length),this.string=t,this.length=e}return t.prototype.get=function(t){return t<0||t>=this.length?-1:this.string.charCodeAt(t)},t.prototype.read=function(t,e){return this.string.slice(t,Math.min(this.length,e))},t.prototype.clip=function(e){return new t(this.string,e)},t}(),O=function(){function t(t,e){this.data=t,this.id=e}return t.prototype.token=function(t,e,i){!function(t,e,i,n,r){var s=0,o=1<<r;t:for(var h=i.start;0!=(o&t[s]);){for(var l=t[s+1],a=s+3;a<l;a+=2)if((t[a+1]&o)>0){var c=t[a];if(-1==i.value||i.value==c||n.cx.parser.overrides(c,i.value)){i.accept(c,h);break}}for(var u=e.get(h++),O=0,d=t[s+2];O<d;){var f=O+d>>1,p=l+f+(f<<1),g=t[p],m=t[p+1];if(u<g)d=f;else{if(!(u>=m)){s=t[p+2];continue t}O=f+1}}break}}(this.data,t,e,i,this.id)},t}();O.prototype.contextual=!1;var d=function(t,e){void 0===e&&(e={}),this.token=t,this.contextual=e&&e.contextual||!1};function f(t,e){void 0===e&&(e=Uint16Array);for(var i=null,n=0,r=0;n<t.length;){for(var s=0;;){var o=t.charCodeAt(n++),h=!1;if(126==o){s=65535;break}o>=92&&o--,o>=34&&o--;var l=o-32;if(l>=46&&(l-=46,h=!0),s+=l,h)break;s*=46}i?i[r++]=s:i=new e(s)}return i}var p=void 0!==t&&/\bparse\b/.test(t.env.LOG),g=function(){function t(t){this.start=[0],this.index=[0],this.nextStart=0,this.trees=[t]}return t.prototype.nodeAt=function(t){if(t<this.nextStart)return null;for(;;){var e=this.trees.length-1;if(e<0)return this.nextStart=1e9,null;var i=this.trees[e],n=this.index[e];if(n!=i.children.length){var s=i.children[n],o=this.start[e]+i.positions[n];if(s instanceof r.TreeBuffer)this.index[e]++,this.nextStart=o+s.length;else{if(o>=t)return o==t?s:null;this.index[e]++,o+s.length>=t&&(this.trees.push(s),this.start.push(o),this.index.push(0))}}else this.trees.pop(),this.start.pop(),this.index.pop()}},t}(),m=function(t){function e(e){var i=t.call(this)||this;return i.tokenizer=e,i.extended=-1,i.mask=0,i}return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.clear=function(t){this.start=t,this.value=this.extended=-1},e}(c),v=new c,y=function(){function t(){this.tokens=[],this.mainToken=v,this.actions=[]}return t.prototype.getActions=function(t,e){for(var i=0,n=null,r=t.cx.parser,s=r.tokenizers,o=0;o<s.length;o++)if(0!=(1<<o&r.stateSlot(t.state,3))){for(var h=s[o],l=void 0,a=0,c=this.tokens;a<c.length;a++){var u=c[a];if(u.tokenizer==h){l=u;break}}l||this.tokens.push(l=new m(h));var O=r.stateSlot(t.state,3);(h.contextual||l.start!=t.pos||l.mask!=O)&&(this.updateCachedToken(l,t,e),l.mask=O);var d=i;if(l.extended>-1&&(i=this.addActions(t,l.extended,l.end,i)),(i=this.addActions(t,l.value,l.end,i))>d){n=l;break}n&&0==l.value||(n=l)}for(;this.actions.length>i;)this.actions.pop();return n||((n=v).start=t.pos,t.pos==e.length?n.accept(t.cx.parser.eofTerm,t.pos):n.accept(0,t.pos+1)),this.mainToken=n,this.actions},t.prototype.updateCachedToken=function(t,e,i){if(t.clear(e.pos),t.tokenizer.token(i,t,e),t.value>-1){var n=e.cx.parser,r=k(n.data,n.specializeTable,t.value);if(r>=0){var s=n.specializations[r][i.read(t.start,t.end)];null!=s&&(0==(1&s)?t.value=s>>1:t.extended=s>>1)}}else e.pos==i.length?t.accept(e.cx.parser.eofTerm,e.pos):t.accept(0,e.pos+1)},t.prototype.putAction=function(t,e,i,n){for(var r=0;r<n;r+=3)if(this.actions[r]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=i,n},t.prototype.addActions=function(t,e,i,n){for(var r=t.state,s=t.cx.parser,o=s.data,h=0;h<2;h++)for(var l=s.stateSlot(r,h?2:1),a=void 0;65535!=(a=o[l]);l+=3)(a==e||0==a&&0==n)&&(n=this.putAction(o[l+1]|o[l+2]<<16,e,i,n));return n},t}(),b=function(t,e,i,n,r){void 0===n&&(n=null),void 0===r&&(r=-1),this.parser=t,this.maxBufferLength=e,this.input=i,this.parent=n,this.wrapType=r,this.reused=[],this.tokens=new y},w=function(){function t(t,e,i){var n=void 0===i?{}:i,s=n.cache,o=void 0===s?void 0:s,l=n.strict,a=void 0!==l&&l,c=n.bufferLength,u=void 0===c?r.DefaultBufferLength:c;this.stoppedStacks=[],this.stacks=[h.start(new b(t,u,e))],this.strict=a,this.cache=o?new g(o):null}return t.prototype.putStack=function(t){if(t.badness>=2e6)for(var e=0;e<this.stacks.length;e++){var i=this.stacks[e];if(i.state==t.state&&i.pos==t.pos)return void((t.badness-i.badness||t.stack.length-i.stack.length)<0&&(this.stacks[e]=t))}else if(0==t.badness&&this.stacks.length&&t.buffer.length>800){if(this.stacks.reduce((function(t,e){return Math.max(t,e.buffer.length)}),0)>t.buffer.length)return}P(this.stacks,t)},t.prototype.advance=function(){return this.stoppedStacks.length>0&&(!this.stacks.length||this.stacks[0].pos>this.stoppedStacks[0].pos)?this.advanceStoppedStack(T(this.stoppedStacks)):(this.advanceStack(T(this.stacks)),null)},t.prototype.advanceStack=function(t){var e=t.pos,i=t.cx,n=i.input,s=i.parser,o=p?t+" -> ":"";if(this.cache)for(var l=this.cache.nodeAt(e);l;){var a=s.group.types[l.type.id]==l.type?s.getGoto(t.state,l.type.id):-1;if(a>-1&&!X(l))return t.useNode(l,a),p&&console.log(o+t+" (via reuse of "+s.getName(l.type.id)+")"),void this.putStack(t);if(0==l.children.length||l.positions[0]>0)break;var c=l.children[0];if(!(c instanceof r.Tree))break;l=c}var u=s.startNested(t.state);t:if(u>-1){var O=s.nested[u],d=O.grammar,f=O.end,g=O.placeholder,m=void 0,v=null,y=void 0,w=void 0;if("function"==typeof d){var S=d(n,t);if(S.stay)break t;v=S.parseNode,y=S.parser,m=S.filterEnd,w=S.wrapType}else y=d;var x=this.scanForNestEnd(t,f,m),k=t.cx.input.clip(x);if(v||!y){var $=v?v(k,t.pos):r.Tree.empty;$.length!=x-t.pos&&($=new r.Tree($.type,$.children,$.positions,x-t.pos)),null!=w&&($=new r.Tree(s.group.types[w],[$],[0],$.length)),t.useNode($,s.getGoto(t.state,g,!0)),this.putStack(t)}else{var T=h.start(new b(y,t.cx.maxBufferLength,k,t,w),t.pos);p&&console.log(o+T+" (nested)"),this.putStack(T)}return}var V=s.stateSlot(t.state,4);if(V>0)return t.reduce(V),this.putStack(t),void(p&&console.log(o+t+" (via always-reduce "+s.getName(65535&V)+")"));for(var A=t.cx.tokens.getActions(t,n),Q=0;Q<A.length;){var C=A[Q++],M=A[Q++],z=(x=A[Q++],Q==A.length?t:t.split());z.apply(C,M,x),p&&console.log(o+z+" (via "+(0==(65536&C)?"shift":"reduce of "+s.getName(65535&C))+" for "+s.getName(M)+" @ "+e+(z==t?"":", split")+")"),this.putStack(z)}0==A.length&&P(this.stoppedStacks,t)},t.prototype.advanceStoppedStack=function(t){var e=t.cx,i=e.input,n=e.parser;if(t.pos==i.length&&n.stateFlag(t.state,2))return this.finishStack(t);var r=this.stacks.reduce((function(t,e){return Math.min(t,e.badness)}),1e9);if(this.stacks.length&&r<=t.badness&&(this.stacks.length>=25||t.badness>Math.min(5e6,3*r)))return null;var s=t.cx.tokens.mainToken,o=s.end,h=s.value;if(this.strict){if(this.stacks.length||this.stoppedStacks.length)return null;throw new SyntaxError("No parse at "+t.pos+" with "+n.getName(h)+" (stack is "+t+")")}for(var l=p?t+" -> ":"",a=0,c=t.recoverByInsert(h);a<c.length;a++){var u=c[a];p&&console.log(l+u+" (via recover-insert)"),this.putStack(u)}var O=t.split();if(O.forceReduce())p&&console.log(l+O+" (via force-reduce)"),this.putStack(O);else if(t.pos==i.length)return this.finishStack(t);if(o==t.pos){if(t.pos==i.length)return null;o++,h=0}return t.recoverByDelete(h,o),p&&console.log(l+t+" (via recover-delete "+n.getName(h)+")"),this.putStack(t),null},t.prototype.finishStack=function(t){return t.cx.parent?(this.putStack(this.finishNested(t)),null):t.toTree()},Object.defineProperty(t.prototype,"pos",{get:function(){return(this.stacks[0]||this.stoppedStacks[0]).pos},enumerable:!0,configurable:!0}),t.prototype.forceFinish=function(){for(var t=(this.stacks[0]||this.stoppedStacks[0]).split();!t.cx.parser.stateFlag(t.state,2)&&t.forceReduce(););return t.toTree()},t.prototype.scanForNestEnd=function(t,e,i){for(var n=t.cx.input,r=t.pos;r<n.length;r++)if(v.start=r,v.value=-1,e.token(n,v,t),v.value>-1&&(!i||i(n.read(r,v.end))))return r;return n.length},t.prototype.finishNested=function(t){var e=t.cx.parent,i=t.toTree(),n=e.cx.parser,s=n.nested[n.startNested(e.state)];return i=new r.Tree(i.type,i.children,i.positions.map((function(t){return t-e.pos})),t.pos-e.pos),t.cx.wrapType>-1&&(i=new r.Tree(n.group.types[t.cx.wrapType],[i],[0],i.length)),e.useNode(i,n.getGoto(e.state,s.placeholder,!0)),p&&console.log(e+" (via unnest "+(t.cx.wrapType>-1?n.getName(t.cx.wrapType):i.type.name)+")"),this.stacks=V(this.stacks,e),this.stoppedStacks=V(this.stoppedStacks,e),e},t}(),S=function(){function t(t,e,i,n,r,s,o,h,l,a){void 0===a&&(a=null),this.states=t,this.data=e,this.goto=i,this.group=n,this.tokenizers=r,this.nested=s,this.specializeTable=o,this.specializations=h,this.tokenPrecTable=l,this.termNames=a,this.nextStateCache=[],this.maxNode=this.group.types.length-1;for(var c=0,u=this.states.length/6;c<u;c++)this.nextStateCache[c]=null}return t.prototype.parse=function(t,e){"string"==typeof t&&(t=new u(t));for(var i=new w(this,t,e);;){var n=i.advance();if(n)return n}},t.prototype.startParse=function(t,e){return new w(this,t,e)},t.prototype.getGoto=function(t,e,i){void 0===i&&(i=!1);var n=this.goto;if(e>=n[0])return-1;for(var r=n[e+1];;){var s=n[r++],o=1&s,h=n[r++];if(o&&i)return h;for(var l=r+(s>>1);r<l;r++)if(n[r]==t)return h;if(o)return-1}},t.prototype.hasAction=function(t,e){for(var i=this.data,n=0;n<2;n++)for(var r=this.stateSlot(t,n?2:1),s=void 0;65535!=(s=i[r]);r+=3)if(s==e||0==s)return i[r+1]|i[r+2]<<16;return 0},t.prototype.stateSlot=function(t,e){return this.states[6*t+e]},t.prototype.stateFlag=function(t,e){return(this.stateSlot(t,0)&e)>0},t.prototype.startNested=function(t){var e=this.stateSlot(t,0);return 4&e?e>>10:-1},t.prototype.anyReduce=function(t){var e=this.stateSlot(t,4);if(e>0)return e;for(var i=this.stateSlot(t,1);;i+=3){if(65535==this.data[i])return 0;var n=this.data[i+2];if(1&n)return this.data[i+1]|n<<16}},t.prototype.nextStates=function(t){var e=this.nextStateCache[t];if(e)return e;for(var i=[],n=this.stateSlot(t,1);65535!=this.data[n];n+=3)0!=(1&this.data[n+2])||i.includes(this.data[n+1])||i.push(this.data[n+1]);for(var r=this.goto,s=r[0],o=0;o<s;o++)for(var h=r[o+1];;){for(var l=r[h++],a=r[h++],c=h+(l>>1);h<c;h++)r[h]!=t||i.includes(a)||i.push(a);if(1&l)break}return this.nextStateCache[t]=i},t.prototype.overrides=function(t,e){var i=k(this.data,this.tokenPrecTable,e);return i<0||k(this.data,this.tokenPrecTable,t)<i},t.prototype.withNested=function(e){return new t(this.states,this.data,this.goto,this.group,this.tokenizers,this.nested.map((function(t){return Object.prototype.hasOwnProperty.call(e,t.name)?{name:t.name,grammar:e[t.name],end:t.end,placeholder:t.placeholder}:t})),this.specializeTable,this.specializations,this.tokenPrecTable,this.termNames)},t.prototype.withProps=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new t(this.states,this.data,this.goto,(e=this.group).extend.apply(e,i),this.tokenizers,this.nested,this.specializeTable,this.specializations,this.tokenPrecTable,this.termNames)},t.prototype.getName=function(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.group.types[t].name||t)},Object.defineProperty(t.prototype,"eofTerm",{get:function(){return this.maxNode+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasNested",{get:function(){return this.nested.length>0},enumerable:!0,configurable:!0}),t.deserialize=function(e){for(var i=f(e.tokenData),n=e.nodeNames.split(" "),s=0;s<e.repeatNodeCount;s++)n.push("");var o=[];for(s=0;s<n.length;s++)o.push(x);function h(t,e,i){o[t]==x&&(o[t]=Object.create(null)),e.set(o[t],e.deserialize(i))}h(0,r.NodeProp.error,"");for(s=o.length-e.repeatNodeCount;s<o.length;s++)h(s,r.NodeProp.repeated,"");if(e.nodeProps)for(var l=0,a=e.nodeProps;l<a.length;l++){var c=a[l],u=c[0];for(s=1;s<c.length;s+=2)h(c[s],u,c[s+1])}var d=new r.NodeGroup(n.map((function(t,e){return new r.NodeType(t,o[e],e)})));return new t(f(e.states,Uint32Array),f(e.stateData),f(e.goto),d,e.tokenizers.map((function(t){return"number"==typeof t?new O(i,t):t})),(e.nested||[]).map((function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return{name:e,grammar:i,end:new O(f(n),0),placeholder:r}})),e.specializeTable,(e.specializations||[]).map($),e.tokenPrec,e.termNames)},t}(),x=Object.create(null);function k(t,e,i){for(var n=e,r=void 0;65535!=(r=t[n]);n++)if(r==i)return n-e;return-1}function $(t){if(!(t instanceof Object))return t;var e=Object.create(null);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function X(t){var e=!1,i=!1,n=0==t.type.id;return n||t.iterate({enter:function(t){return e||(0==t.id?n=e=!0:void 0)},leave:function(t){e=!0}}),n||t.iterate({from:t.length,to:0,enter:function(t){return i||(0==t.id?n=i=!0:void 0)},leave:function(t){i=!0}}),n}function P(t,e){for(var i=t.push(e)-1;i>0;){var n=i-1>>1,r=t[n];if(e.compare(r)>=0)break;t[i]=r,t[n]=e,i=n}}function T(t){var e=t[0],i=t.pop();if(0==t.length)return e;t[0]=i;for(var n=0;;){var r=1+(n<<1);if(r>=t.length)break;var s=t[r];if(r+1<t.length&&s.compare(t[r+1])>=0&&(s=t[r+1],r++),i.compare(s)<0)break;t[r]=i,t[n]=s,n=r}return e}function V(t,e){return t.some((function(t){return t.cx.parent==e}))?t.filter((function(t){return t.cx.parent!=e})).sort((function(t,e){return t.compare(e)})):t}e.NodeGroup=r.NodeGroup,e.NodeProp=r.NodeProp,e.NodeType=r.NodeType,e.Subtree=r.Subtree,e.Tree=r.Tree,e.ExternalTokenizer=d,e.ParseContext=w,e.Parser=S,e.Stack=h,e.Token=c,e.TokenGroup=O}).call(this,i(5))},function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var l,a=[],c=!1,u=-1;function O(){c&&l&&(c=!1,l.length?a=l.concat(a):u=-1,a.length&&d())}function d(){if(!c){var t=h(O);c=!0;for(var e=a.length;e;){for(l=a,a=[];++u<e;)l&&l[u].run();u=-1,e=a.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.push(new f(t,e)),1!==a.length||c||h(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){"use strict";i.r(e);let n=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u180b-\u180d\u18a9\u200c\u200d]/;try{n=new RegExp("\\p{Grapheme_Extend}","u")}catch(t){}function r(t){return t>=768&&(t>=56320&&t<57344||n.test(String.fromCharCode(t)))}const s=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let o;try{o=new RegExp("[\\p{Alphabetic}_]","u")}catch(t){}function h(t){return o?o.test(t):/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||s.test(t))}function l(t,e){return e?!!(e.source.indexOf("\\w")>-1&&h(t))||e.test(t):h(t)}var a;function c(t,e){return/\s/.test(t)?a.Space:l(t,e)?a.Word:a.Other}function u(t,e){let i=t.charCodeAt(e);if(i<55296||i>56319||e+1==t.length)return i;let n=t.charCodeAt(e+1);return n<56320||n>57343?i:n-56320+(i-55296<<10)+65536}!function(t){t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other"}(a||(a={}));function O(t,e,i){for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);9==s?e+=i-e%i:(s<768||!r(s))&&e++}return e}function d(t,e,i,n){for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(!r(o)){if(e>=i)return{offset:s,leftOver:0};e+=9==o?n-e%n:1}}return{offset:t.length,leftOver:i-e}}class f{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);for(let e=0;e<p.length;e+=2){if(p[e]!=this)continue;let i=p[e+1];if(i.start<=t&&i.end>=t)return i}return m(this,this.lineInner(t,!1,1,0).finish(this))}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);for(let e=0;e<p.length;e+=2){if(p[e]!=this)continue;let i=p[e+1];if(i.number==t)return i}return m(this,this.lineInner(t,!0,1,0).finish(this))}replace(t,e,i){if(0==i.length)throw new RangeError("An inserted range must have at least one line");return this.replaceInner(t,e,i,b(i))}sliceLines(t,e=this.length){return this.sliceTo(t,e,[""])}slice(t,e,i="\n"){return this.sliceLines(t,e).join(i)}eq(t){return this==t||function(t,e){if(t.length!=e.length||t.lines!=e.lines)return!1;let i=new x(t),n=new x(e);for(let t=0,e=0;;){if(i.lineBreak!=n.lineBreak||i.done!=n.done)return!1;if(i.done)return!0;if(i.lineBreak)i.next(),n.next(),t=e=0;else{let r=i.value.slice(t),s=n.value.slice(e);if(r.length==s.length){if(r!=s)return!1;i.next(),n.next(),t=e=0}else if(r.length>s.length){if(r.slice(0,s.length)!=s)return!1;t+=s.length,n.next(),e=0}else{if(s.slice(0,r.length)!=r)return!1;e+=r.length,i.next(),t=0}}}}(this,t)}iter(t=1){return new x(this,t)}iterRange(t,e=this.length){return new k(this,t,e)}iterLines(t=0){return new $(this,t)}toString(){return this.slice(0,this.length)}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");let e=b(t);return e<1024?new v(t,e):y.from(v.split(t,[]),e)}}let p=[],g=-2;function m(t,e){return g=(g+2)%12,p[g]=t,p[g+1]=e,e}class v extends f{constructor(t,e=b(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}replaceInner(t,e,i,n){return f.of(w(this.text,w(i,S(this.text,0,t)),e))}sliceTo(t,e=this.length,i){return w(this.text,i,t,e)}lineInner(t,e,i,n){for(let r=0;;r++){let s=this.text[r],o=n+s.length;if((e?i:o)>=t)return new X(n,o,i,s);n=o+1,i++}}decomposeStart(t,e){e.push(new v(S(this.text,0,t),t))}decomposeEnd(t,e){e.push(new v(S(this.text,t),this.length-t))}lastLineLength(){return this.text[this.text.length-1].length}firstLineLength(){return this.text[0].length}static split(t,e){let i=[],n=-1;for(let r of t)for(;;){let t=n+r.length+1;if(t<512){n=t,i.push(r);break}let s=512-n-1,o=r.charCodeAt(s);o>=56320&&o<57344&&s++,i.push(r.slice(0,s)),e.push(new v(i,512)),r=r.slice(s),n=-1,i=[]}return-1!=n&&e.push(new v(i,n)),e}}class y extends f{constructor(t,e){super(),this.children=t,this.length=e,this.lines=1;for(let e of t)this.lines+=e.lines-1}replaceInner(t,e,i,n){let r,s=n-(e-t),o=this.length+s;if(o<=512)return new v(w(this.sliceLines(e),w(i,this.sliceTo(0,t,[""]))),o);for(let n=0,h=0;n<this.children.length;n++){let l=this.children[n],a=h+l.length;if(t>=h&&e<=a&&(s>0?l.length+s<Math.max(o>>2,1024):l.length+s>o>>4))return r=this.children.slice(),r[n]=l.replace(t-h,e-h,i),new y(r,o);a>=t&&(null==r&&(r=this.children.slice(0,n)),h<t&&(a==t?r.push(l):l.decomposeStart(t-h,r)),h<=t&&a>=t&&v.split(i,r),h>=e?r.push(l):a>e&&l.decomposeEnd(e-h,r)),h=a}return r?y.from(r,o):this}sliceTo(t,e,i){let n=0;for(let r of this.children){let s=n+r.length;e>n&&t<s&&r.sliceTo(Math.max(0,t-n),Math.min(r.length,e-n),i),n=s}return i}lineInner(t,e,i,n){for(let r=0;;r++){let s=this.children[r],o=n+s.length,h=i+s.lines-1;if((e?h:o)>=t){let h,l=s.lineInner(t,e,i,n);return l.start==n&&(h=this.lineLengthTo(r))&&(l.start-=h,l.content=null),l.end==o&&(h=this.lineLengthFrom(r+1))&&(l.end+=h,l.content=null),l}n=o,i=h}}decomposeStart(t,e){for(let i=0,n=0;;i++){let r=this.children[i],s=n+r.length;if(!(s<=t)){n<t&&r.decomposeStart(t-n,e);break}e.push(r),n=s}}decomposeEnd(t,e){let i=0;for(let n of this.children){let r=i+n.length;i>=t?e.push(n):r>t&&i<t&&n.decomposeEnd(t-i,e),i=r}}lineLengthTo(t){let e=0;for(let i=t-1;i>=0;i--){let t=this.children[i];if(t.lines>1)return e+t.lastLineLength();e+=t.length}return e}lastLineLength(){return this.lineLengthTo(this.children.length)}lineLengthFrom(t){let e=0;for(let i=t;i<this.children.length;i++){let t=this.children[i];if(t.lines>1)return e+t.firstLineLength();e+=t.length}return e}firstLineLength(){return this.lineLengthFrom(0)}static from(t,e){if(e<1024){let i=[""];for(let e of t)e.sliceTo(0,e.length,i);return new v(i,e)}let i=Math.max(512,e>>3),n=i<<1,r=i>>1,s=[],o=0,h=[];function l(t){let e,c=t.length;if(c>n&&t instanceof y)for(let e of t.children)l(e);else c>r&&(o>r||0==o)?(a(),s.push(t)):t instanceof v&&o>0&&(e=h[h.length-1])instanceof v&&t.length+e.length<=512?(o+=c,h[h.length-1]=new v(w(t.text,e.text.slice()),t.length+e.length)):(o+c>i&&a(),o+=c,h.push(t))}function a(){0!=o&&(s.push(1==h.length?h[0]:y.from(h,o)),o=0,h.length=0)}for(let e of t)l(e);return a(),1==s.length?s[0]:new y(s,e)}}function b(t){let e=-1;for(let i of t)e+=i.length+1;return e}function w(t,e,i=0,n=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=n;s++){let h=t[s],l=r+h.length;l>=i&&(l>n&&(h=h.slice(0,n-r)),r<i&&(h=h.slice(i-r)),o?(e[e.length-1]+=h,o=!1):e.push(h)),r=l+1}return e}function S(t,e,i){return w(t,[""],e,i)}f.empty=f.of([""]);class x{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?0:t instanceof v?t.text.length:t.children.length]}next(t=0){for(;;){let e=this.nodes.length-1;if(e<0)return this.done=!0,this.value="",this.lineBreak=!1,this;let i=this.nodes[e],n=this.offsets[e];if(i instanceof v){if(n!=(this.dir>0?0:i.text.length)&&!this.lineBreak){if(this.lineBreak=!0,0==t)return this.value="\n",this;t--;continue}let r=i.text[n-(this.dir<0?1:0)];if(this.offsets[e]=n+=this.dir,n==(this.dir>0?i.text.length:0)&&(this.nodes.pop(),this.offsets.pop()),this.lineBreak=!1,r.length>t)return this.value=0==t?r:this.dir>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else if(n==(this.dir>0?i.children.length:0))this.nodes.pop(),this.offsets.pop();else{let r=i.children[this.dir>0?n:n-1],s=r.length;this.offsets[e]=n+this.dir,t>s?t-=s:(this.nodes.push(r),this.offsets.push(this.dir>0?0:r instanceof v?r.text.length:r.children.length))}}}}class k{constructor(t,e,i){this.value="",this.cursor=new x(t,e>i?-1:1),e>i?(this.skip=t.length-e,this.limit=e-i):(this.skip=e,this.limit=i-e)}next(){if(this.limit<=0)this.limit=-1;else{let{value:t,lineBreak:e}=this.cursor.next(this.skip);this.skip=0,this.value=t;let i=e?1:t.length;i>this.limit&&(this.value=this.cursor.dir>0?t.slice(0,this.limit):t.slice(i-this.limit)),this.limit-=this.value.length}return this}get lineBreak(){return this.cursor.lineBreak}get done(){return this.limit<0}}class ${constructor(t,e=0){this.value="",this.done=!1,this.cursor=t.iter(),this.skip=e}next(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){let{value:t,lineBreak:e,done:i}=this.cursor.next(this.skip);if(this.skip=0,i||e)return this;this.value+=t}}get lineBreak(){return!1}}class X{constructor(t,e,i,n){this.start=t,this.end=e,this.number=i,this.content=n}get length(){return this.end-this.start}slice(t=0,e=this.length){if("string"==typeof this.content)return e==t+1?this.content.charAt(t):this.content.slice(t,e);if(t==e)return"";let i=this.content.slice(t,e);return 0==t&&e==this.length&&(this.content=i),i}finish(t){return null==this.content&&(this.content=new P(t,this.start)),this}}class P{constructor(t,e){this.doc=t,this.start=e,this.cursor=null,this.strings=null}slice(t,e){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(let i="",n=0,r=0;;r++){r==this.strings.length&&this.strings.push(this.cursor.next().value);let s=this.strings[r],o=n+s.length;if(!(o<=t)){if(i+=s.slice(Math.max(0,t-n),Math.min(s.length,e-n)),o>=e)return i;n+=s.length}}}}class T{constructor(t,e,i){this.combine=t,this.id=i,this.static=e,this.empty=t(C)}static get(t){let e=t._data;if(!e)throw new RangeError("Not a behavior");return e}}class V{constructor(t){this.getStore=t,this.nextStorageID=0,this.fallback=A(-1),this.normal=A(0),this.extend=A(1),this.override=A(2)}behavior(t={}){let e=t=>new Q(0,e,{static:t},this);return e._data=new T(t.combine||(t=>t),!!t.static,this.storageID()),e}dynamic(t,e){if(T.get(t).static)throw new Error("Can't create a dynamic source for a static behavior");return new Q(0,t,{dynamic:e},this)}resolve(t){let e=[];!function t(e,i,n,r=[]){if(n.has(e))return;if(n.add(e),Array.isArray(e))for(let s of e)t(s,i,n,r);else{let s=e;if(1==s.kind)for(let e of s.value)t(e,-2==s.prec?i:s.prec,n,r);else r.push(-2!=s.prec?s:new Q(s.kind,s.id,s.value,s.type,i))}}(t,0,new Set,e);let i=[],n=Object.create(null);for(let t of e){if(t.type!=this){i.push(t);continue}let r=T.get(t.id);if(Object.prototype.hasOwnProperty.call(n,r.id))continue;let s=[];for(let i of e)i.id==t.id&&i.collect(s);let o=[],h=[];if(s.forEach(t=>{t.value.dynamic?(o.push({read:t.value.dynamic,index:h.length}),h.push(null)):h.push(t.value.static)}),0==o.length){let t=r.combine(h);n[r.id]=()=>t}else{let t,e;n[r.id]=i=>{let n=this.getStore(i),s=n[r.id];if(void 0!==s||Object.prototype.hasOwnProperty.call(n,r.id))return s;let l=h.slice(),a=!1;for(let{read:e,index:n}of o){let r=l[n]=e(i);t&&t[n]==r||(a=!0)}return t=l,n[r.id]=a?e=r.combine(l):e}}}return new M(this,t,n,i)}storageID(){return++this.nextStorageID}}function A(t){return e=>e instanceof Q?new Q(e.kind,e.id,e.value,e.type,t):new Q(1,null,e,null,t)}class Q{constructor(t,e,i,n,r=-2){this.kind=t,this.id=e,this.value=i,this.type=n,this.prec=r}collect(t){let e=0;for(;e<t.length&&t[e].prec>=this.prec;)e++;t.splice(e,0,this)}}const C=[];class M{constructor(t,e,i,n=[]){this.type=t,this.extensions=e,this.readBehavior=i,this.foreign=n}getBehavior(t,e){let i=T.get(t);if(!e&&!i.static)throw new RangeError("Need a context to retrieve non-static behavior");let n=this.readBehavior[i.id];return n?n(e):i.empty}replaceExtensions(t){let e=this.extensions.map(e=>{for(let[i,n]of t)if(e==i)return n;return e});return this.type.resolve(e)}}function z(t,e,i={}){let n={};for(let e of t)for(let t of Object.keys(e)){let r=e[t],s=n[t];if(void 0===s)n[t]=r;else if(s===r||void 0===r);else{if(!Object.hasOwnProperty.call(i,t))throw new Error("Config merge conflict for field "+t);n[t]=i[t](s,r)}}for(let t in e)void 0===n[t]&&(n[t]=e[t]);return n}function D(t,e){let i={};for(let e in t)i[e]=t[e];for(let t in e)void 0===i[t]&&(i[t]=e[t]);return i}var q=i(0);class Z{constructor(t,e=t){this.anchor=t,this.head=e}get from(){return Math.min(this.anchor,this.head)}get to(){return Math.max(this.anchor,this.head)}get empty(){return this.anchor==this.head}map(t){let e=t.mapPos(this.anchor),i=t.mapPos(this.head);return e==this.anchor&&i==this.head?this:new Z(e,i)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return new Z(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return new Z(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return this}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return new Z(t.anchor,t.head)}static groupAt(t,e,i=1){let n=t.doc.lineAt(e),r=e-n.start;if(0==n.length)return new Z(e);0==r?i=1:r==n.length&&(i=-1);let s=r+(i<0?-1:0),o=c(n.slice(s,s+1)),h=e,l=e;for(let t=r;t>0&&c(n.slice(t-1,t))==o;t--)h--;for(let t=r;t<n.length&&c(n.slice(t,t+1))==o;t++)l++;return new Z(l,h)}}class j{constructor(t,e=0){this.ranges=t,this.primaryIndex=e}map(t){return j.create(this.ranges.map(e=>e.map(t)),this.primaryIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.primaryIndex!=t.primaryIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get primary(){return this.ranges[this.primaryIndex]}asSingle(){return 1==this.ranges.length?this:new j([this.primary])}addRange(t,e=!0){return j.create([t].concat(this.ranges),e?0:this.primaryIndex+1)}replaceRange(t,e=this.primaryIndex){let i=this.ranges.slice();return i[e]=t,j.create(i,this.primaryIndex)}toJSON(){return 1==this.ranges.length?this.ranges[0].toJSON():{ranges:this.ranges.map(t=>t.toJSON()),primaryIndex:this.primaryIndex}}static fromJSON(t){if(t&&Array.isArray(t.ranges)){if("number"!=typeof t.primaryIndex||t.primaryIndex>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new j(t.ranges.map(t=>Z.fromJSON(t)),t.primaryIndex)}return new j([Z.fromJSON(t)])}static single(t,e=t){return new j([new Z(t,e)],0)}static create(t,e=0){for(let i=0,n=0;n<t.length;n++){let r=t[n];if(r.empty?r.from<=i:r.from<i)return E(t.slice(),e);i=r.to}return new j(t,e)}}function E(t,e=0){let i=t[e];t.sort((t,e)=>t.from-e.from),e=t.indexOf(i);for(let i=1;i<t.length;i++){let n=t[i],r=t[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let s=r.from,o=Math.max(n.to,r.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?new Z(o,s):new Z(s,o))}}return new j(t,e)}const _=new V(t=>t.values),R=_.behavior({static:!0}),W=_.behavior({combine:t=>t.some(t=>t),static:!0});class N{constructor(t){this.id=_.storageID(),this.init=t.init,this.apply=t.apply,this.extension=R(this)}}class B{constructor(t,e){this.type=t,this.value=e}static define(){return function t(e){return new B(t,e)}}}const G=new q.NodeProp,U=[];var L;!function(t){t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter"}(L||(L={}));class Y{constructor(t,e,i){this.from=t,this.to=e,this.length=i}get invertedDesc(){return new Y(this.from,this.from+this.length,this.to-this.from)}mapPos(t,e=-1,i=L.Simple){let{from:n,to:r,length:s}=this;return t<n?t:t>r?t+(s-(r-n)):t==r||t==n?n<t&&i==L.TrackBefore||r>t&&i==L.TrackAfter?-t-1:(n==r?e<=0:t==n)?n:n+s:(t=n+(e<=0?0:s),i!=L.Simple?-t-1:t)}toJSON(){return this}static fromJSON(t){if(!t||"number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.length)throw new RangeError("Invalid JSON representation for ChangeDesc");return new Y(t.from,t.to,t.length)}}class I extends Y{constructor(t,e,i){super(t,e,function(t){let e=-1;for(let i of t)e+=i.length+1;return e}(i)),this.from=t,this.to=e,this.text=i}invert(t){return new I(this.from,this.from+this.length,t.sliceLines(this.from,this.to))}apply(t){return t.replace(this.from,this.to,this.text)}map(t){let e=t.mapPos(this.from,1),i=t.mapPos(this.to,-1);return e>i?null:new I(e,i,this.text)}get desc(){return new Y(this.from,this.to,this.length)}toJSON(){return{from:this.from,to:this.to,text:this.text}}static fromJSON(t){if(!t||"number"!=typeof t.from||"number"!=typeof t.to||!Array.isArray(t.text)||0==t.text.length||t.text.some(t=>"string"!=typeof t))throw new RangeError("Invalid JSON representation for Change");return new I(t.from,t.to,t.text)}}class H{constructor(t,e=U){this.changes=t,this.mirror=e}get length(){return this.changes.length}getMirror(t){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)];return null}append(t,e){return new H(this.changes.concat(t),null!=e?this.mirror.concat(this.length,e):this.mirror)}appendSet(t){return 0==t.length?this:0==this.length?t:new H(this.changes.concat(t.changes),this.mirror.concat(t.mirror.map(t=>t+this.length)))}mapPos(t,e=-1,i=L.Simple){return this.mapInner(t,e,i,0,this.length)}mapInner(t,e,i,n,r){let s,o,h=r<n?-1:1,l=null,a=this.mirror.length>0,c=!1;for(let u=n-(h<0?1:0),O=r-(h<0?1:0);u!=O;u+=h){let{from:n,to:O,length:d}=this.changes[u];if(h<0){let t=O-n;O=n+d,d=t}if(!(t<n))if(t>O)t+=d-(O-n);else if(l&&null!=(s=l[u]))t=n+s;else{if(a&&null!=(o=this.getMirror(u))&&(h>0?o>u&&o<r:o<u&&o>=r)){if(t>n&&t<O){u=o,t=this.changes[u].from+(t-n);continue}(l||(l={}))[o]=t-n}t>n&&t<O?(i!=L.Simple&&(c=!0),t=e<=0?n:n+d):((n<t&&i==L.TrackBefore||O>t&&i==L.TrackAfter)&&(c=!0),t=(n==O?e<=0:t==n)?n:n+d)}}return c?-t-1:t}partialMapping(t,e=this.length){return 0==t&&e==this.length?this:new F(this,t,e)}changedRanges(){let t=[];for(let e=0;e<this.length;e++){let i=this.changes[e],n=i.from,r=i.to,s=i.from,o=i.from+i.length;if(e<this.length-1){let t=this.partialMapping(e+1);s=t.mapPos(s,1),o=t.mapPos(o,-1)}if(e>0){let t=this.partialMapping(e,0);n=t.mapPos(n,1),r=t.mapPos(r,-1)}new K(n,r,s,o).addToSet(t)}return t}get desc(){return 0==this.changes.length||this.changes[0]instanceof Y?this:new H(this.changes.map(t=>t.desc),this.mirror)}toJSON(){let t=this.changes.map(t=>t.toJSON());return 0==this.mirror.length?t:{mirror:this.mirror,changes:t}}static fromJSON(t,e){let i,n;if(Array.isArray(e))i=U,n=e;else{if(!(e&&Array.isArray(e.mirror)&&Array.isArray(e.changes)))throw new RangeError("Invalid JSON representation for ChangeSet");({mirror:i,changes:n}=e)}return new H(n.map(e=>t.fromJSON(e)),i)}}H.empty=new H(U);class F{constructor(t,e,i){this.changes=t,this.from=e,this.to=i}mapPos(t,e=-1,i=L.Simple){return this.changes.mapInner(t,e,i,this.from,this.to)}}class K{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new K(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}get lenDiff(){return this.toB-this.fromB-(this.toA-this.fromA)}static mapPos(t,e,i){let n=0;for(let r of i){if(t<r.fromA)break;if(t<=r.toA){return(r.toA==r.fromA?e:t==r.fromA?-1:t==r.toA?1:e)<0?r.fromB:r.toB}n=r.toB-r.toA}return t+n}}class J{constructor(t,e=Date.now()){this.startState=t,this.changes=H.empty,this.docs=[],this.flags=0,this.state=null,this.selection=t.selection,this._annotations=[J.time(e)],this.configuration=t.configuration}get doc(){let t=this.docs.length-1;return t<0?this.startState.doc:this.docs[t]}annotate(...t){this.ensureOpen();for(let e of t)this._annotations.push(e);return this}annotation(t){for(let e=this._annotations.length-1;e>=0;e--)if(this._annotations[e].type==t)return this._annotations[e].value}annotations(t){let e=tt;for(let i of this._annotations)i.type==t&&(e==tt&&(e=[]),e.push(i.value));return e}change(t,e){if(this.ensureOpen(),t.from==t.to&&0==t.length)return this;if(t.from<0||t.to<t.from||t.to>this.doc.length)throw new RangeError(`Invalid change ${t.from} to ${t.to}`);return this.changes=this.changes.append(t,e),this.docs.push(t.apply(this.doc)),this.selection=this.selection.map(t),this}get docChanged(){return this.changes.length>0}replace(t,e,i){return this.change(new I(t,e,"string"==typeof i?this.startState.splitLines(i):i))}replaceSelection(t){let e="string"==typeof t?this.startState.splitLines(t):t;return this.forEachRange(t=>{let i=new I(t.from,t.to,e);return this.change(i),new Z(t.from+i.length)})}forEachRange(t){let e=this.selection,i=this.changes.length,n=[];for(let r of e.ranges){let e=this.changes.length,s=t(r.map(this.changes.partialMapping(i)),this);if(this.changes.length>e){let t=this.changes.partialMapping(e);for(let e=0;e<n.length;e++)n[e]=n[e].map(t)}n.push(s)}return this.setSelection(j.create(n,e.primaryIndex))}setSelection(t){return this.ensureOpen(),this.selection=this.startState.behavior(W)?t:t.asSingle(),this.flags|=1,this}get selectionSet(){return(1&this.flags)>0}scrollIntoView(){return this.ensureOpen(),this.flags|=2,this}get scrolledIntoView(){return(2&this.flags)>0}replaceExtensions(t){return this.ensureOpen(),this.configuration=this.configuration.replaceExtensions(t),this.flags|=4,this}reconfigure(t){return this.ensureOpen(),this.configuration=_.resolve(t),this.flags|=4,this}get reconfigured(){return(4&this.flags)>0}ensureOpen(){if(this.state)throw new Error("Transactions may not be modified after being applied")}apply(){return this.state||(this.state=this.startState.applyTransaction(this))}invertedChanges(){if(!this.changes.length)return H.empty;let t=[],e=this.changes;for(let i=e.length-1;i>=0;i--)t.push(e.changes[i].invert(0==i?this.startState.doc:this.docs[i-1]));return new H(t,e.mirror.length?e.mirror.map(t=>e.length-t-1):e.mirror)}}J.time=B.define(),J.preserveGoalColumn=B.define(),J.userEvent=B.define(),J.addToHistory=B.define();const tt=[],et=/\r\n?|\n/;class it{constructor(t,e,i,n){this.configuration=t,this.values=e,this.doc=i,this.selection=n;for(let t of n.ranges)if(t.to>i.length)throw new RangeError("Selection points outside of document")}field(t,e=!0){let i=this.values[t.id];if(void 0!==i||Object.prototype.hasOwnProperty.call(this.values,t.id))return i;if(this.behavior(R).indexOf(t)>-1)throw new RangeError("Field hasn't been initialized yet");if(e)throw new RangeError("Field is not present in this state")}applyTransaction(t){let e=Object.create(null),i=t.configuration,n=new it(i,e,t.doc,t.selection);for(let r of i.getBehavior(R)){let s=i==this.configuration||Object.prototype.hasOwnProperty.call(this.values,r.id);e[r.id]=s?r.apply(t,this.values[r.id],n):r.init(n)}return n}t(t){return new J(this,t)}joinLines(t){return t.join(this.behavior(it.lineSeparator)||"\n")}splitLines(t){return t.split(this.behavior(it.lineSeparator)||et)}behavior(t){return this.configuration.getBehavior(t,this)}toJSON(){return{doc:this.joinLines(this.doc.sliceLines(0,this.doc.length)),selection:this.selection.toJSON()}}static fromJSON(t,e={}){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");return it.create({doc:t.doc,selection:j.fromJSON(t.selection),extensions:e.extensions})}static create(t={}){let e=_.resolve(t.extensions||[]),i=Object.create(null),n=t.doc instanceof f?t.doc:f.of((t.doc||"").split(e.getBehavior(it.lineSeparator)||et)),r=t.selection||j.single(0);e.getBehavior(it.allowMultipleSelections)||(r=r.asSingle());let s=new it(e,i,n,r);for(let t of s.behavior(R)){let e=i[t.id];if(e)throw new Error(`Duplicate use of state field${(e.constructor||Object)!=Object&&e.constructor.name?` (${e.constructor.name})`:""}`);i[t.id]=t.init(s)}return s}get tabSize(){return this.behavior(it.tabSize)}get indentUnit(){return this.behavior(it.indentUnit)}}it.extend=_,it.allowMultipleSelections=W,it.indentation=_.behavior(),it.tabSize=_.behavior({combine:t=>t.length?t[0]:4}),it.lineSeparator=_.behavior({combine:t=>t.length?t[0]:void 0,static:!0}),it.indentUnit=_.behavior({combine:t=>t.length?t[0]:2}),it.syntax=_.behavior(),it.foldable=_.behavior();var nt=i(1);class rt{eq(t){return this==t}}rt.prototype.startSide=rt.prototype.endSide=0,rt.prototype.point=!1;class st{constructor(t,e,i){this.from=t,this.to=e,this.value=i}map(t,e,i){let n=this.value.map(t,this.from+e,this.to+e);return n&&(n.from-=i,n.to-=i),n}move(t){return t?new st(this.from+t,this.to+t,this.value):this}get heapPos(){return this.to}get heapSide(){return this.value.endSide}}const ot=[];function ht(t){return t.length?t:ot}class lt{constructor(t,e,i,n){this.length=t,this.size=e,this.local=i,this.children=n}update(t=ot,e=null,i=0,n=this.length){let r=t.reduce((t,e)=>Math.max(t,e.to),this.length);if(t.length)for(let e=1,i=t[0];e<t.length;e++){let n=t[e];if(gt(i,n)>0){t=t.slice().sort(gt);break}i=n}return this.updateInner(t,e,i,n,0,r)}updateInner(t,e,i,n,r,s){let o=function(t,e,i,n,r){if(!e)return null;let s=null;for(let o=0;o<t.length;o++){let h=t[o],l=h.from+r,a=h.to+r;i>a||n<l||e(l,a,h.value)?null!=s&&s.push(h):null==s&&(s=t.slice(0,o))}return s}(this.local,e,i,n,r),h=null,l=0,a=0,c=r;for(let s=0;s<this.children.length;s++){let u=this.children[s],O=c+u.length,d=null;for(;a<t.length;){let e=t[a];if(e.from>=O)break;a++,e.to>O?(o||(o=this.local.slice()),mt(o,e.move(-r))):(d||(d=[])).push(e)}let f=u;(d||e&&i<=O&&n>=c)&&(f=f.updateInner(d||ot,e,i,n,c,f.length)),f!=u?(h||(h=this.children.slice(0,s))).push(f):h&&h.push(f),l+=f.size,c=O}if(!o&&!h&&a==t.length)return this;if(l+=(o||this.local).length+t.length-a,l<=32)return function(t,e,i,n,r,s){let o=e.length>0&&i.length>0,h=0;for(let i of t)i.collect(e,-h),h+=i.length;for(let t of i)e.push(t.move(-r));o&&e.sort(gt);return new lt(s,e.length,e,ot)}(h||this.children,o||this.local.slice(),t,0,r,s);let u=Math.max(32,l>>5);return a<t.length&&(h||(h=this.children.slice()),o||(o=this.local.slice()),function(t,e,i,n,r,s,o,h){for(let l=n;l<i.length;){let n=[],a=Math.min(l+h,i.length),c=a==i.length?r+s:i[a].from;for(;l<a;l++){let e=i[l];e.to>c?mt(t,e.move(-r)):n.push(e)}for(let e=0;e<t.length;e++){let i=t[e];i.from>=o&&i.to<=c&&(t.splice(e--,1),mt(n,i.move(r)))}n.length&&(n.length==i.length?e.push(new lt(c-o,n.length,n.map(t=>t.move(-o)),ot)):e.push(lt.empty.updateInner(n,null,0,0,o,c-o)),o=c)}}(o,h,t,a,r,s,c,u)),h&&(o||(o=this.local.slice()),function(t,e,i){for(let n=0,r=0;n<e.length;){let s,o=e[n];if(0==o.size&&(n>0||1==e.length))e.splice(n--,1),n>=0&&(e[n]=e[n].grow(o.length));else if(o.size>i<<1&&o.local.length<o.length>>1){for(let e of o.local)mt(t,e.move(r));e.splice(n,1,...o.children)}else if(0==o.children.length&&n<e.length-1&&(s=e[n+1]).size+o.size<=32&&0==s.children.length)e.splice(n,2,new lt(o.length+s.length,o.size+s.size,o.local.concat(s.local.map(t=>t.move(o.length))),ot));else{let s=n+1,h=o.size,l=o.length;if(o.size<i>>1)for(;s<e.length;s++){let t=e[s],n=h+t.size;if(n>i)break;h=n,l+=t.length}if(s>n+1){let i=new lt(l,h,ot,e.slice(n,s)),o=[];for(let e=0;e<t.length;e++){let i=t[e];i.from>=r&&i.to<=r+l&&(t.splice(e--,1),o.push(i.move(-r)))}o.length&&(i=i.update(o.sort(gt))),e.splice(n,s-n,i),n++,r+=l}else n++,r+=o.length}}}(o,h,u)),new lt(s,l,ht(o||this.local),ht(h||this.children))}grow(t){return new lt(this.length+t,this.size,this.local,this.children)}collect(t,e){for(let i of this.local)t.push(i.move(e));for(let i of this.children)i.collect(t,e),e+=i.length}map(t){return 0==t.length||this==lt.empty?this:this.mapInner(t,0,0,t.mapPos(this.length,1)).set}mapInner(t,e,i,n){let r=null,s=null,o=n-i,h=0;for(let n=0;n<this.local.length;n++){let h=this.local[n],l=h.map(t,e,i),a=null!=l&&(l.from<0||l.to>o);null!=r||h==l&&!a||(r=this.local.slice(0,n)),a?(s||(s=[])).push(l):r&&l&&r.push(l)}let l=null;for(let n=0,a=e,c=i;n<this.children.length;n++){let e=this.children[n],u=e,O=a+e.length,d=t.mapPos(a+e.length,1),f=St(a,O,t.changes);if(0==f){let n=e.mapInner(t,a,c,d);if(u=n.set,n.escaped)for(let t of n.escaped)t=t.move(c-i),t.from<0||t.to>o?mt(s||(s=[]),t):mt(r||(r=this.local.slice()),t)}else 2==f&&(u=lt.empty.grow(d-c));if(u!=e){if(null==l&&(l=this.children.slice(0,n)),0!=u.size||0!=u.length&&!l.length&&n!=this.children.length)l.push(u);else if(u.length>0&&n>0){let t=l.length-1,e=l[t];l[t]=new lt(e.length+u.length,e.size,e.local,e.children)}}else l&&l.push(u);h+=u.size,a=O,c=d}return{set:o==this.length&&null==l&&null==r?this:new lt(o,h+(r||this.local).length,r||this.local,l||this.children),escaped:s}}between(t,e,i){this.betweenInner(t,e,i,0)}betweenInner(t,e,i,n){for(let r of this.local)r.from+n<=e&&r.to+n>=t&&i(r.from+n,r.to+n,r.value);for(let r of this.children){let s=n+r.length;n<=e&&s>=t&&r.betweenInner(t,e,i,n),n=s}}iter(t=0,e=this.length){const i=[];return dt(i,[new at(0,this)],t),this.local.length&&ft(i,new ct(0,this.local)),{next(){for(;;){if(0==i.length)return;const n=pt(i),r=n.ranges[n.index++].move(n.offset);if(r.from>e)return;if(n.index<n.ranges.length?ft(i,n):n.next&&dt(i,n.next,0),r.to>=t)return r}}}}compare(t,e,i,n){let r=0,s=0;for(let n of e)n.fromB>s&&(this!=t||r!=s)&&new bt(this,r,t,s,n.fromB,i).run(),r=n.toA,s=n.toB;(r<this.length||s<t.length||0==e.length)&&new bt(this,r,t,s,s+(n-r),i).run()}static iterateSpans(t,e,i,n){let r=[],s=e,o=-vt;for(let e of t)e.size>0&&(dt(r,[new at(0,e)],s),e.local.length&&ft(r,new ct(0,e.local)));let h=[];for(;r.length>0;){let t=pt(r);if(t instanceof ct){let e=t.ranges[t.index],l=e.from+t.offset,a=e.to+t.offset;if(l>i)break;if(++t.index<t.ranges.length?ft(r,t):t.next&&dt(r,t.next,s),(a-s||e.value.endSide-o)>=0&&!n.ignore(l,a,e.value))if(l>s&&(n.span(s,l,h),s=l,o=e.value.startSide),e.value.point){if(n.point(s,Math.min(a,i),e.value,l<s,a>i),s=a,a>i)break;o=e.value.endSide}else a>s&&(h.push(e.value),ft(r,new st(l,a,e.value)))}else{let e=t;if(e.to>i)break;e.to>s&&(n.span(s,e.to,h),s=e.to,o=e.value.endSide),h.splice(h.indexOf(e.value),1)}}s<i&&n.span(s,i,h)}static of(t){return lt.empty.update(t instanceof st?[t]:t)}}lt.empty=new lt(0,0,ot,ot);class at{constructor(t,e){this.offset=t,this.set=e,this.index=0}}class ct{constructor(t,e,i=null){this.offset=t,this.ranges=e,this.next=i,this.index=0}get heapPos(){return this.ranges[this.index].from+this.offset}get heapSide(){return this.ranges[this.index].value.startSide}}function ut(t,e=0){for(;0!=t.length;){let i=t[t.length-1];if(i.index==i.set.children.length)t.pop();else{let n=i.set.children[i.index],r=i.offset;if(i.index++,i.offset+=n.length,i.offset>=e){t.push(new at(r,n));break}}}}function Ot(t,e){return t.heapPos-e.heapPos||t.heapSide-e.heapSide}function dt(t,e,i=0){for(;ut(e,i),0!=e.length;){let i=e[e.length-1],n=i.set.local,r=i.set.children.length?null:e;if(n.length&&ft(t,new ct(i.offset,n,r)),r)break}}function ft(t,e){let i=t.push(e)-1;for(;i>0;){let n=i>>1,r=t[n];if(Ot(e,r)>=0)break;t[i]=r,t[n]=e,i=n}}function pt(t){let e=t[0],i=t.pop();if(0==t.length)return e;t[0]=i;for(let e=0;;){let n=1+(e<<1);if(n>=t.length)break;let r=t[n];if(n+1<t.length&&Ot(r,t[n+1])>=0&&(r=t[n+1],n++),Ot(i,r)<0)break;t[n]=i,t[e]=r,e=n}return e}function gt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}function mt(t,e){let i=t.length;for(;i>0&&gt(t[i-1],e)>=0;)i--;t.splice(i,0,e)}const vt=1e9;class yt{constructor(t){this.stack=t,this.heap=[],this.active=[],this.activeTo=[],this.tip=null,this.point=null,this.pointTo=-vt}forward(t,e){let i=!1;if(e.set.local.length){let t=new ct(e.offset,e.set.local);ft(this.heap,t),e.set.children.length||(this.tip=t,i=!0)}return ut(this.stack,t),i}findActive(t,e){for(let i=0;i<this.active.length;i++)if(this.activeTo[i]==t&&(this.active[i]==e||this.active[i].eq(e)))return i;return-1}clearPoint(){this.pointTo=-vt,this.point=null}get nextPos(){return this.pointTo>-vt?this.pointTo:this.heap.length?this.heap[0].heapPos:vt}get nextSide(){return this.pointTo>-vt?this.point.endSide:this.heap.length?this.heap[0].heapSide:vt}}class bt{constructor(t,e,i,n,r,s){this.comparator=s,this.a=new yt([new at(n-e,t)]),this.b=new yt([new at(0,i)]),this.pos=n,this.end=r,this.forwardIter(3)}forwardIter(t){for(;t>0;){let e=this.a.stack.length?this.a.stack[this.a.stack.length-1]:null,i=this.b.stack.length?this.b.stack[this.b.stack.length-1]:null;!e&&1&t?t&=-2:!i&&2&t?t&=-3:e&&i&&e.offset==i.offset&&e.set==i.set?(ut(this.a.stack,this.pos),ut(this.b.stack,this.pos)):e&&(!i||e.offset<i.offset||e.offset==i.offset&&(1==this.a.stack.length||e.set.length>=i.set.length))?this.a.forward(this.pos,e)&&(t&=-2):this.b.forward(this.pos,i)&&(t&=-3)}}run(){for(;;){let t=this.a.nextPos,e=this.b.nextPos;if(t==vt&&e==vt)break;(t-e||this.a.nextSide-this.a.nextSide)<0?this.advance(this.a,this.b):this.advance(this.b,this.a)}}advance(t,e){if(t.pointTo>-1){let i=Math.min(this.end,t.pointTo);return e.point&&t.point.eq(e.point)||this.comparator.comparePoint(this.pos,i,t.point,e.point),this.pos=i,(i==this.end||e.pointTo==i&&e.point.endSide==t.point.endSide)&&e.clearPoint(),void t.clearPoint()}let i=pt(t.heap);if(i instanceof ct){let n=i.ranges[i.index++],r=n.from+i.offset,s=n.to+i.offset;if(r>this.end)return void(t.heap.length=0);if(i.index<i.ranges.length?ft(t.heap,i):this.forwardIter(t==this.a?1:2),s<this.pos||s<e.pointTo||s==e.pointTo&&n.value.startSide<e.point.endSide)return;if(e.pointTo<0&&this.advancePos(r),n.value.point)t.point=n.value,t.pointTo=s;else{s=Math.min(s,this.end);let i=e.findActive(s,n.value);i>-1?(wt(e.active,i),wt(e.activeTo,i)):(t.active.push(n.value),t.activeTo.push(s),ft(t.heap,new st(this.pos,s,n.value)))}}else{let n=i;e.pointTo<0&&this.advancePos(n.to);let r=t.findActive(n.to,n.value);r>-1&&(wt(t.active,r),wt(t.activeTo,r))}}advancePos(t){t>this.end&&(t=this.end),t<=this.pos||(function(t,e){if(t.length!=e.length)return!1;t:for(let i=0;i<t.length;i++){for(let n=0;n<e.length;n++)if(t[i].eq(e[n]))continue t;return!1}return!0}(this.a.active,this.b.active)||this.comparator.compareRange(this.pos,t,this.a.active,this.b.active),this.pos=t)}}function wt(t,e){let i=t.pop();e!=t.length&&(t[e]=i)}function St(t,e,i){let n=1;for(let r of i){r.to>=t&&r.from<=e&&(r.from<t&&r.to>e?n=2:1==n&&(n=0));let i=r.length-(r.to-r.from);t>r.from&&(t+=i),e>r.to&&(e+=i)}return n}let[xt,kt]="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}];const $t=/Edge\/(\d+)/.exec(xt.userAgent),Xt=/MSIE \d/.test(xt.userAgent),Pt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xt.userAgent),Tt=!!(Xt||Pt||$t),Vt=!Tt&&/gecko\/(\d+)/i.test(xt.userAgent),At=!Tt&&/Chrome\/(\d+)/.exec(xt.userAgent),Qt=!Tt&&"WebkitAppearance"in kt.documentElement.style;var Ct={mac:/Mac/.test(xt.platform),ie:Tt,ie_version:Xt?kt.documentMode||6:Pt?+Pt[1]:$t?+$t[1]:0,gecko:Vt,gecko_version:Vt?+(/Firefox\/(\d+)/.exec(xt.userAgent)||[0,0])[1]:0,chrome:!!At,chrome_version:At?+At[1]:0,ios:!Tt&&/AppleWebKit/.test(xt.userAgent)&&/Mobile\/\w+/.test(xt.userAgent),android:/Android\b/.test(xt.userAgent),webkit:Qt,safari:/Apple Computer/.test(xt.vendor),webkit_version:Qt?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=kt.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function Mt(t){if(3==t.nodeType){let e=document.createRange();return e.setEnd(t,t.nodeValue.length),e.setStart(t,0),e.getClientRects()}return 1==t.nodeType?t.getClientRects():[]}function zt(t,e,i,n){return!!i&&(qt(t,e,i,n,-1)||qt(t,e,i,n,1))}function Dt(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function qt(t,e,i,n,r){for(;;){if(t==i&&e==n)return!0;if(e==(r<0?0:Zt(t))){if("DIV"==t.nodeName)return!1;let i=t.parentNode;if(!i||1!=i.nodeType)return!1;e=Dt(t)+(r<0?0:1),t=i}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(r<0?-1:0)],e=r<0?Zt(t):0}}}function Zt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function jt(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class Et{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}}class _t{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new _t(t.parentNode,Dt(t),e)}static after(t,e){return new _t(t.parentNode,Dt(t)+1,e)}}const Rt=[];class Wt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t){return null}sync(){if(2&this.dirty){let t=this.dom,e=t.firstChild;for(let i of this.children){if(i.dirty){if(e&&!i.dom&&!e.cmView){let n=e.previousSibling;i.reuseDOM(e)&&(e=n?n.nextSibling:t.firstChild)}i.sync(),i.dirty=0}e=Bt(t,e,i.dom)}for(;e;)e=Nt(e)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(),t.dirty=0)}reuseDOM(t){return!1}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=0==Zt(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==n&&e.firstChild!=e.lastChild&&(n=t==e.firstChild?-1:1),t=e}i=n<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!i.cmView;)i=i.nextSibling;if(!i)return this.length;for(let t=0,e=0;;t++){let n=this.children[t];if(n.dom==i)return e;e+=n.length+n.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,r=-1,s=-1,o=-1;for(let h=0,l=i;h<this.children.length;h++){let i=this.children[h],a=l+i.length;if(l<t&&a>e)return i.domBoundsAround(t,e,l);if(a>=t&&-1==n&&(n=h,r=l),a>=e&&-1==s){s=h,o=a;break}l=a+i.breakAfter}return{from:r,to:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length-1?this.children[s+1].dom:null}}markDirty(t=!1){2&this.dirty||(this.dirty|=2,this.markParentsDirty(t))}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=Rt){this.markDirty();for(let i=t;i<e;i++)this.children[i].parent=null;this.children.splice(t,e-t,...i);for(let t=0;t<i.length;t++)i[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Gt(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}}function Nt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}function Bt(t,e,i){if(i.parentNode==t){for(;e!=i;)e=Nt(e);e=i.nextSibling}else t.insertBefore(i,e);return e}Wt.prototype.breakAfter=0;class Gt{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Ut(t,e){for(let i in t)"class"==i&&e.class?e.class+=" "+t.class:"style"==i&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}function Lt(t,e){if(t==e)return!0;if(!t||!e)return!1;let i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let r of i)if(-1==n.indexOf(r)||t[r]!==e[r])return!1;return!0}function Yt(t,e,i){if(e)for(let n in e)i&&n in i||t.removeAttribute(n);if(i)for(let n in i)e&&e[n]==i[n]||t.setAttribute(n,i[n])}const It=[];class Ht extends Wt{match(t){return!1}get children(){return It}getSide(){return 0}}class Ft extends Ht{constructor(t,e,i,n){super(),this.text=t,this.tagName=e,this.attrs=n,this.textDOM=null,this.class=i}get length(){return this.text.length}createDOM(t){let e=this.tagName||(this.attrs||this.class?"span":null);if(this.textDOM=t||document.createTextNode(this.text),e){let t=document.createElement(e);if(t.appendChild(this.textDOM),this.class&&(t.className=this.class),this.attrs)for(let e in this.attrs)t.setAttribute(e,this.attrs[e]);this.setDOM(t)}else this.setDOM(this.textDOM)}sync(){if(this.dom||this.createDOM(),this.textDOM.nodeValue!=this.text){this.textDOM.nodeValue=this.text;let t=this.dom;if(this.textDOM!=t&&(this.dom.firstChild!=this.textDOM||t.lastChild!=this.textDOM)){for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(this.textDOM)}}}reuseDOM(t){return 3==t.nodeType&&(this.createDOM(t),!0)}merge(t,e=this.length,i=null){return!(i&&(!(i instanceof Ft&&i.tagName==this.tagName&&i.class==this.class&&Lt(i.attrs,this.attrs))||this.length-(e-t)+i.length>256))&&(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}slice(t,e=this.length){return new Ft(this.text.slice(t,e),this.tagName,this.class,this.attrs)}localPosFromDOM(t,e){return t==this.textDOM?e:e?this.text.length:0}domAtPos(t){return new _t(this.textDOM,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t){return Kt(this.textDOM,t)}}function Kt(t,e){let i=document.createRange();if(Ct.chrome||Ct.gecko)return i.setEnd(t,e),i.setStart(t,e),i.getBoundingClientRect();{let n=0==e?1:-1;i.setEnd(t,e+(n>0?1:0)),i.setStart(t,e-(n<0?1:0));let r=i.getBoundingClientRect(),s=n<0?r.right:r.left;return{left:s,right:s,top:r.top,bottom:r.bottom}}}class Jt extends Ht{constructor(t,e,i,n){super(),this.widget=t,this.length=e,this.side=i,this.open=n}static create(t,e,i,n=0){return new(t.customView||Jt)(t,e,i,n)}slice(t,e=this.length){return Jt.create(this.widget,e-t,this.side)}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e=this.length,i=null){if(i){if(!(i instanceof Jt)||!i.open||t>0&&!(1&i.open)||e<this.length&&!(2&i.open))return!1;if(!this.widget.compare(i.widget))throw new Error("Trying to merge incompatible widgets")}return this.length=t+(i?i.length:0)+(this.length-e),!0}match(t){return t.length==this.length&&t instanceof Jt&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget.value)||this.markDirty(!0),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return[""];let t=this;for(;t.parent;)t=t.parent;let e=t.state,i=e&&e.doc,n=this.posAtStart;return i?i.sliceLines(n,n+this.length):[""]}domAtPos(t){return 0==t?_t.before(this.dom):_t.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getClientRects();for(let i=t>0?e.length-1:0;;i+=t>0?-1:1){let n=e[i];if(t>0?0==i:i==e.length-1||n.top<n.bottom)return e[i]}return null}}class te extends Jt{domAtPos(t){return new _t(this.widget.value.text,t)}sync(){this.dom||this.setDOM(this.widget.toDOM(this.editorView))}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t){return Kt(this.widget.value.text,t)}}class ee{constructor(t){this.value=t}eq(t){return this.value===t}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t.value)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}}var ie;!function(t){t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange"}(ie||(ie={}));class ne extends rt{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get point(){return!1}get heightRelevant(){return!1}static mark(t,e,i){if(t>=e)throw new RangeError("Mark decorations may not be empty");return new st(t,e,new re(i))}static widget(t,e){let i=e.side||0;return e.block&&(i+=(2e8+1)*(i>0?1:-1)),new st(t,t,new oe(e,i,i,!!e.block,e.widget))}static replace(t,e,i){let n=!!i.block,{start:r,end:s}=he(i),o=n?-2e8*(r?2:1):1e8*(r?-1:1),h=n?2e8*(s?2:1):1e8*(s?1:-1);if(t>e||t==e&&o>0&&h<0)throw new RangeError("Invalid range for replacement decoration");return new st(t,Math.max(t,e),new oe(i,o,h,n,i.widget||null))}static line(t,e){return new st(t,t,new se(e))}static set(t){return lt.of(t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}mapSimple(t,e,i){let n=t.mapPos(e,this.startSide,L.TrackDel);if(e==i&&this.startSide==this.endSide)return n<0?null:new st(n,n,this);let r=t.mapPos(i,this.endSide,L.TrackDel);if(n<0){if(r<0)return null;n=this.startSide>=0?-(n+1):t.mapPos(e,1)}else r<0&&(r=this.endSide<0?-(r+1):t.mapPos(i,-1));return n<r?new st(n,r,this):null}}ne.none=lt.empty;class re extends ne{constructor(t){let{start:e,end:i}=he(t);super(1e8*(e?-1:1),1e8*(i?1:-1),null,t)}map(t,e,i){return this.mapSimple(t,e,i)}eq(t){return this==t||t instanceof re&&this.spec.tagName==t.spec.tagName&&this.spec.class==t.spec.class&&Lt(this.spec.attributes||null,t.spec.attributes||null)}}class se extends ne{constructor(t){super(-1e8,-1e8,null,t)}get point(){return!0}map(t,e){return(e=t.mapPos(e,-1,L.TrackBefore))<0?null:new st(e,e,this)}eq(t){return t instanceof se&&Lt(this.spec.attributes,t.spec.attributes)}}class oe extends ne{constructor(t,e,i,n,r){super(e,i,r,t),this.block=n}get point(){return!0}get type(){return this.startSide<this.endSide?ie.WidgetRange:this.startSide<0?ie.WidgetBefore:ie.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}map(t,e,i){if(this.block){let{type:n}=this,r=n==ie.WidgetAfter?t.mapPos(e,1,L.TrackAfter):t.mapPos(e,-1,L.TrackBefore),s=n==ie.WidgetRange?t.mapPos(i,1,L.TrackAfter):r;return r<0||s<0?null:new st(r,s,this)}return this.mapSimple(t,e,i)}eq(t){return t instanceof oe&&(e=this.widget,i=t.widget,e==i||!!(e&&i&&e.compare(i)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,i}}function he(t){let{inclusiveStart:e,inclusiveEnd:i}=t;return null==e&&(e=t.inclusive),null==i&&(i=t.inclusive),{start:e||!1,end:i||!1}}function le(t,e,i){i[i.length-1]+4>t?i[i.length-1]=e:i.push(t,e)}function ae(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=[];for(let n=0,r=0;;)if(n<t.length&&(r==e.length||t[n]<e[r]))le(t[n++],t[n++],i);else{if(!(r<e.length))break;le(e[r++],e[r++],i)}return i}class ce{constructor(){this.content=[],this.height=[]}}class ue{constructor(){this.changes=new ce}compareRange(t,e,i,n){le(t,e,this.changes.content)}comparePoint(t,e,i,n){le(t,e,this.changes.content),(t<e||i.heightRelevant||n&&n.heightRelevant)&&le(t,e,this.changes.height)}}function Oe(t,e,i,n){let r=new ue;return t.compare(e,i,r,n),r.changes}const de=new nt.a({wrapper:{position:"relative !important",boxSizing:"border-box","&.codemirror-focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%"},content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none",caretColor:"black"},line:{display:"block",padding:"0 2px 0 4px"}},{priority:0});class fe extends Wt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n){if(i){if(!(i instanceof fe))return!1;this.dom||i.transferDOM(this)}n&&this.setDeco(i?i.attrs:null);let r=i?i.children:[],s=this.childCursor(),{i:o,off:h}=s.findPos(e,1),{i:l,off:a}=s.findPos(t,-1),c=t-e;for(let t of r)c+=t.length;if(this.length+=c,l==o&&a){let t=this.children[l];if(1==r.length&&t.merge(a,h,r[0]))return!0;if(0==r.length)return t.merge(a,h,null),!0;let e=t.slice(h);e.merge(0,0,r[r.length-1])?r[r.length-1]=e:r.push(e),o++,h=0}if(h){let t=this.children[o];r.length&&t.merge(0,h,r[r.length-1])?r.pop():t.merge(0,h,null)}else o<this.children.length&&r.length&&this.children[o].merge(0,0,r[r.length-1])&&r.pop();if(a){let t=this.children[l];r.length&&t.merge(a,void 0,r[0])?r.shift():t.merge(a,void 0,null),l++}else l&&r.length&&this.children[l-1].merge(this.children[l-1].length,void 0,r[0])&&r.shift();for(;l<o&&r.length&&this.children[o-1].match(r[r.length-1]);)r.pop(),o--;for(;l<o&&r.length&&this.children[l].match(r[0]);)r.shift(),l++;return(r.length||l!=o)&&this.replaceChildren(l,o,r),!0}split(t){let e=new fe;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:i,off:n}=this.childPos(t);n&&(e.append(this.children[i].slice(n)),this.children[i].merge(n,void 0,null),i++);for(let t=i;t<this.children.length;t++)e.append(this.children[t]);for(;i>0&&0==this.children[i-1].length;)this.children[i-1].parent=null,i--;return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Lt(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t){this.children.push(t),t.setParent(this),this.length+=t.length}addLineDeco(t){let e=t.spec.attributes;e&&(this.attrs=Ut(e,this.attrs||{}))}domAtPos(t){let e=0;for(let i=0;e<this.children.length;e++){let n=this.children[e],r=i+n.length;if(!(r==i&&n.getSide()<=0)){if(t>i&&t<r&&n.dom.parentNode==this.dom)return n.domAtPos(t-i);if(t<=i)break;i=r}}for(;e>0;e--){let t=this.children[e-1].dom;if(t.parentNode==this.dom)return _t.after(t)}return new _t(this.dom,0)}sync(){this.dom||(this.setDOM(document.createElement("div")),this.dom.className="codemirror-line "+de.line,this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Yt(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("codemirror-line"),this.dom.classList.add(de.line),this.prevAttrs=void 0),super.sync();let t=this.dom.lastChild;if(!t||"BR"!=t.nodeName&&!(t.cmView instanceof Ft)){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof Ft))return null;let i=Mt(e.dom);if(1!=i.length)return null;t+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t){for(let e=0,i=0;i<this.children.length;i++){let n=this.children[i],r=e+n.length;if(r>=t)return n.coordsAt(t-e);e=r}return this.dom.lastChild.getBoundingClientRect()}match(t){return!1}get type(){return ie.Text}}const pe=[];class ge extends Wt{constructor(t,e,i,n=0){super(),this.widget=t,this.length=e,this.type=i,this.open=n,this.breakAfter=0}merge(t,e,i){if(!(i instanceof ge)||!i.open||t>0&&!(1&i.open)||e<this.length&&!(2&i.open))return!1;if(!this.widget.compare(i.widget))throw new Error("Trying to merge an open widget with an incompatible node");return this.length=t+i.length+(this.length-e),!0}domAtPos(t){return 0==t?_t.before(this.dom):_t.after(this.dom,t==this.length)}split(t){let e=this.length-t;return this.length=t,new ge(this.widget,e,this.type)}get children(){return pe}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.state.doc.sliceLines(this.posAtStart,this.posAtEnd):[""]}domBoundsAround(){return null}match(t){return t instanceof ge&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget.value)||this.markDirty(!0),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}}class me{constructor(t,e,i){this.doc=t,this.pos=e,this.end=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).start!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof ge&&t.type==ie.WidgetBefore)}getLine(){return this.curLine||this.content.push(this.curLine=new fe),this.curLine}addWidget(t){this.curLine=null,this.content.push(t)}finish(){this.posCovered()||this.getLine()}buildText(t,e,i,n,r){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:i,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.curLine=null,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t);this.getLine().append(new Ft(this.text.slice(this.textOff,this.textOff+r),e,i,n)),t-=r,this.textOff+=r}}span(t,e,i){let n=null,r=null,s=null;for(let{spec:t}of i)if(t.tagName&&(n=t.tagName),t.class&&(r=r?r+" "+t.class:t.class),t.attributes)for(let e in t.attributes){let i=t.attributes[e];null!=i&&("class"==e?r=r?r+" "+i:i:(s||(s={}),"style"==e&&s.style&&(i=s.style+";"+i),s[e]=i))}this.buildText(e-t,n,r,s,i),this.pos=e}point(t,e,i,n,r){let s=(n?1:0)|(r?2:0),o=e-t;if(i instanceof oe)if(i.block){let{type:t}=i;t!=ie.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new ge(i.widget||new ve("div"),o,t,s))}else this.getLine().append(Jt.create(i.widget||new ve("span"),o,i.startSide,s));else this.doc.lineAt(this.pos).start==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e)}ignore(){return!1}static build(t,e,i,n){let r=new me(t,e,i);return lt.iterateSpans(n,e,i,r),r.finish(),r}}class ve extends ee{toDOM(){return document.createElement(this.value)}updateDOM(t){return t.nodeName.toLowerCase()==this.value}}const ye=["pre-wrap","normal","pre-line"];class be{constructor(){this.doc=f.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefresh(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(10*n)]||(e=!0,this.heightSamples[Math.floor(10*n)]=!0)}return e}refresh(t,e,i,n,r){let s=ye.indexOf(t)>-1,o=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=i,this.lineLength=n,o){this.heightSamples={};for(let t=0;t<r.length;t++){let e=r[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return o}}class we{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Se{constructor(t,e,i,n,r){this.from=t,this.length=e,this.top=i,this.height=n,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new Se(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var xe;!function(t){t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight"}(xe||(xe={}));class ke{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(this.height=e,t.heightChanged=!0)}replace(t,e,i){return ke.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let r=this;for(let s=n.length-1;s>=0;s--){let{fromA:o,toA:h,fromB:l,toB:a}=n[s],c=r.lineAt(o,xe.ByPosNoHeight,e,0,0),u=c.to>=h?c:r.lineAt(h,xe.ByPosNoHeight,e,0,0);for(a+=u.to-h,h=u.to;s>0&&c.from<=n[s-1].toA;)o=n[s-1].fromA,l=n[s-1].fromB,s--,o<c.from&&(c=r.lineAt(o,xe.ByPosNoHeight,e,0,0));l+=c.from-o,o=c.from;let O=Ae.build(i,t,l,a);r=r.replace(o,h,O)}return r.updateHeight(i,0)}static empty(){return new Xe(0,0)}static of(t){if(1==t.length)return t[0];let e=0,i=t.length,n=0,r=0;for(;;)if(e==i)if(n>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),i+=1+r.break,n-=r.size}else{if(!(r>2*n))break;{let e=t[i];e.break?t.splice(i,1,e.left,null,e.right):t.splice(i,1,e.left,e.right),i+=2+e.break,r-=e.size}}else if(n<r){let i=t[e++];i&&(n+=i.size)}else{let e=t[--i];e&&(r+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,i++),new Te(ke.of(t.slice(0,e)),s,ke.of(t.slice(i)))}}ke.prototype.size=1;class $e extends ke{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,n){return new Se(n,this.length,i,this.height,this.type)}lineAt(t,e,i,n,r){return this.blockAt(0,i,n,r)}forEachLine(t,e,i,n,r,s){s(this.blockAt(0,i,n,r))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Xe extends $e{constructor(t,e){super(t,e,ie.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i){return 1==i.length&&i[0]instanceof Xe&&Math.abs(this.length-i[0].length)<10?(i[0].height=this.height,i[0]):ke.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(t,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Pe extends ke{constructor(t){super(t,0)}lines(t,e){let i=t.lineAt(e).number,n=t.lineAt(e+this.length).number;return{firstLine:i,lastLine:n,lineHeight:this.height/(n-i+1)}}blockAt(t,e,i,n){let{firstLine:r,lastLine:s,lineHeight:o}=this.lines(e,n),h=Math.max(0,Math.min(s-r,Math.floor((t-i)/o))),{start:l,length:a}=e.line(r+h);return new Se(l,a,i+o*h,o,ie.Text)}lineAt(t,e,i,n,r){if(e==xe.ByHeight)return this.blockAt(t,i,n,r);if(e==xe.ByPosNoHeight){let{start:e,end:n}=i.lineAt(t);return new Se(e,n-e,0,0,ie.Text)}let{firstLine:s,lineHeight:o}=this.lines(i,r),{start:h,length:l,number:a}=i.lineAt(t);return new Se(h,l,n+o*(a-s),o,ie.Text)}forEachLine(t,e,i,n,r,s){let{firstLine:o,lastLine:h,lineHeight:l}=this.lines(i,r);for(let r=o;r<=h;r++){let{start:o,end:h}=i.line(r);if(o>e)break;h>=t&&s(new Se(o,h-o,n,n+=l,ie.Text))}}replace(t,e,i){let n=this.length-e;if(n>0){let t=i[i.length-1];t instanceof Pe?i[i.length-1]=new Pe(t.length+n):i.push(null,new Pe(n-1))}if(t>0){let e=i[0];e instanceof Pe?i[0]=new Pe(t+e.length):i.unshift(new Pe(t-1),null)}return ke.of(i)}decomposeLeft(t,e){e.push(t==this.length?this:new Pe(t))}decomposeRight(t,e){e.push(0==t?this:new Pe(this.length-t))}updateHeight(t,e=0,i=!1,n){let r=e+this.length;if(n&&n.from<=e+this.length&&n.more){let i=[],s=Math.max(e,n.from);for(n.from>e&&i.push(new Pe(n.from-e-1).updateHeight(t,e));s<=r&&n.more;){let e=t.doc.lineAt(s).length;i.length&&i.push(null);let r=new Xe(e,n.heights[n.index++]);r.outdated=!1,i.push(r),s+=e+1}return s<=r&&i.push(null,new Pe(r-s).updateHeight(t,s)),t.heightChanged=!0,ke.of(i)}return(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Te extends ke{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return 1&this.flags}blockAt(t,e,i,n){let r=i+this.left.height;return t<r||0==this.right.height?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,r,n+this.left.length+this.break)}lineAt(t,e,i,n,r){let s=n+this.left.height,o=r+this.left.length+this.break,h=e==xe.ByHeight?t<s||0==this.right.height:t<o,l=h?this.left.lineAt(t,e,i,n,r):this.right.lineAt(t,e,i,s,o);if(this.break||(h?l.to<o:l.from>o))return l;let a=e==xe.ByPosNoHeight?xe.ByPosNoHeight:xe.ByPos;return h?l.join(this.right.lineAt(o,a,i,s,o)):this.left.lineAt(o,a,i,n,r).join(l)}forEachLine(t,e,i,n,r,s){let o=n+this.left.height,h=r+this.left.length+this.break;if(this.break)t<h&&this.left.forEachLine(t,e,i,n,r,s),e>=h&&this.right.forEachLine(t,e,i,o,h,s);else{let l=this.lineAt(h,xe.ByPos,i,n,r);t<l.from&&this.left.forEachLine(t,l.from-1,i,n,r,s),l.to>=t&&l.from<=e&&s(l),e>l.to&&this.right.forEachLine(l.to+1,e,i,o,h,s)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let r=[];t>0&&this.decomposeLeft(t,r);let s=r.length;for(let t of i)r.push(t);if(t>0&&Ve(r,s-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Ve(r,t)}return ke.of(r)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?ke.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:r,right:s}=this,o=e+r.length+this.break,h=null;return n&&n.from<=e+r.length&&n.more?h=r=r.updateHeight(t,e,i,n):r.updateHeight(t,e,i),n&&n.from<=o+s.length&&n.more?h=s=s.updateHeight(t,o,i,n):s.updateHeight(t,o,i),h?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ve(t,e){let i,n;null==t[e]&&(i=t[e-1])instanceof Pe&&(n=t[e+1])instanceof Pe&&t.splice(e-1,3,new Pe(i.length+1+n.length))}class Ae{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Xe?i.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Xe(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){let n=i.widget?Math.max(0,i.widget.estimatedHeight):0,r=e-t;i.block?this.addBlock(new $e(r,n,i.type)):(r||n>=5)&&this.addLineDeco(n,r),this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).end)}enterLine(){if(this.lineStart>-1)return;let{start:t,end:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(new Pe(t-this.writtenTo-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Xe(this.pos-t,-1)),this.writtenTo=this.pos}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Xe)return t;let e=new Xe(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=ie.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=ie.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Xe||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(new Pe(this.pos-this.writtenTo)):this.nodes.push(new Xe(0,-1));let i=t;for(let t of this.nodes)t instanceof Xe&&t.updateHeight(this.oracle,i),i+=t?t.length:1;return this.nodes}ignore(t,e,i){return t==e&&!i.heightRelevant}static build(t,e,i,n){let r=new Ae(i,t);return lt.iterateSpans(e,i,n,r),r.finish(i)}}class Qe{constructor(){this.top=0,this.bottom=0}updateFromDOM(t,e){let{top:i,bottom:n}=function(t,e){let i=t.getBoundingClientRect(),n=Math.max(0,Math.min(innerHeight,i.top)),r=Math.max(0,Math.min(innerHeight,i.bottom));for(let e=t.parentNode;e;)if(1==e.nodeType){if(e.scrollHeight>e.clientHeight){let t=e.getBoundingClientRect();n=Math.min(t.bottom,Math.max(t.top,n)),r=Math.min(t.bottom,Math.max(t.top,r))}e=e.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{top:n-(i.top+e),bottom:r-(i.top+e)}}(t,e),r=i-this.top,s=n-this.bottom,o=0;return r>0&&s>0?o=Math.max(r,s):r<0&&s<0&&(o=Math.min(r,s)),this.top=i,this.bottom=n,o}coverEverything(){this.top=-1e9,this.bottom=1e9}getViewport(t,e,i,n){let r=.5-Math.max(-.5,Math.min(.5,i/1e3/2)),s=new Ce(e.lineAt(this.top-1e3*r,xe.ByHeight,t,0,0).from,e.lineAt(this.bottom+1e3*(1-r),xe.ByHeight,t,0,0).to);if(n>-1)if(n<s.from){let{top:i}=e.lineAt(n,xe.ByPos,t,0,0);s=new Ce(e.lineAt(i-500,xe.ByHeight,t,0,0).from,e.lineAt(i+(this.bottom-this.top)+500,xe.ByHeight,t,0,0).to)}else if(n>s.to){let{bottom:i}=e.lineAt(n,xe.ByPos,t,0,0);s=new Ce(e.lineAt(i-(this.bottom-this.top)-500,xe.ByHeight,t,0,0).from,e.lineAt(i+500,xe.ByHeight,t,0,0).to)}return s}coveredBy(t,e,i,n=0){let{top:r}=i.lineAt(e.from,xe.ByPos,t,0,0),{bottom:s}=i.lineAt(e.to,xe.ByPos,t,0,0);return(0==e.from||r<=this.top-Math.max(10,Math.min(-n,250)))&&(e.to==t.length||s>=this.bottom+Math.max(10,Math.min(n,250)))}}class Ce{constructor(t,e){this.from=t,this.to=e}clip(t){return Math.max(this.from,Math.min(this.to,t))}eq(t){return this.from==t.from&&this.to==t.to}}const Me={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},ze=Ct.ie&&Ct.ie_version<=11;class De{constructor(t,e,i){this.docView=t,this.onChange=e,this.onScrollChanged=i,this.active=!1,this.ignoreSelection=new Et,this.charDataQueue=[],this.charDataTimeout=null,this.scrollTargets=[],this.intersection=null,this.intersecting=!1,this.dom=t.dom,this.observer=new MutationObserver(t=>this.flush(t)),ze&&(this.onCharData=t=>{this.charDataQueue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),null==this.charDataTimeout&&(this.charDataTimeout=setTimeout(()=>this.flush(),20))}),this.onSelectionChange=()=>{this.docView.root.activeElement==this.dom&&this.flush()},this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.onScroll())},{}),this.intersection.observe(this.dom)),this.listenForScroll()}onScroll(){this.intersecting&&(this.flush(),this.onScrollChanged())}listenForScroll(){let t=0,e=null;for(let i=this.dom;i;)if(1==i.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Me),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),ze&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),ze&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}takeCharRecords(){let t=this.charDataQueue;return t.length&&(this.charDataQueue=[],clearTimeout(this.charDataTimeout),this.charDataTimeout=null),t}clearSelection(){this.ignoreSelection.set(this.docView.root.getSelection())}clear(){this.observer.takeRecords(),this.takeCharRecords(),this.clearSelection()}flush(t=this.observer.takeRecords()){this.charDataQueue.length&&(t=t.concat(this.takeCharRecords()));let e=this.docView.root.getSelection(),i=!this.ignoreSelection.eq(e)&&function(t,e){if(!e.anchorNode)return!1;try{return t.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)}catch(t){return!1}}(this.dom,e);if(0==t.length&&!i)return;let n=-1,r=-1,s=!1;for(let e of t){let t=this.readMutation(e);t&&(t.typeOver&&(s=!0),-1==n?({from:n,to:r}=t):(n=Math.min(t.from,n),r=Math.max(t.to,r)))}(n>-1||i)&&this.onChange(n,r,s)||(this.docView.dirty&&(this.ignore(()=>this.docView.sync()),this.docView.dirty=0),this.docView.updateSelection()),this.clearSelection()}readMutation(t){let e=this.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(),"childList"==t.type){let i=qe(e,t.previousSibling||t.target.previousSibling,-1),n=qe(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}return{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}destroy(){this.stop(),this.intersection&&this.intersection.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll)}}function qe(t,e,i){for(;e;){let n=e.cmView;if(n&&n.parent==t)return n;let r=e.parentNode;e=r!=t.dom?r:i>0?e.nextSibling:e.previousSibling}return null}const Ze=[],je=new V(t=>t.plugins),Ee=je.behavior(),_e=je.behavior(),Re=je.behavior();class We{constructor(t,e,i){this.create=t,this.id=e,this.behaviorExtensions=i,this.extension=[Ge(this),...this.behaviorExtensions]}static create(t){return new We(t,je.storageID(),[])}behavior(t,e){return new We(this.create,this.id,this.behaviorExtensions.concat(je.dynamic(t,t=>e(t.plugin(this)))))}decorations(t){return this.behavior(Ue,t)}static decoration(t){return We.create(e=>new Le(e,t)).decorations(t=>t.decorations).extension}}const Ne=je.behavior({combine:t=>t.reduce((t,e)=>Ut(e,t),{})}),Be=je.behavior({combine:t=>t.reduce((t,e)=>Ut(e,t),{})}),Ge=je.behavior({static:!0}),Ue=je.behavior();class Le{constructor(t,e){this.spec=e,this.decorations=e.create(t)}update(t){this.decorations=this.spec.update(this.spec.map?this.decorations.map(t.changes):this.decorations,t)}}const Ye=je.behavior(),Ie=je.behavior(),He=je.behavior(),Fe=je.behavior({combine(t){let e={left:0,top:0,right:0,bottom:0};for(let i of t)e.left=Math.max(e.left,i.left||0),e.top=Math.max(e.top,i.top||0),e.right=Math.max(e.right,i.right||0),e.bottom=Math.max(e.bottom,i.bottom||0);return e}}),Ke=B.define(),Je=B.define();class ti{constructor(t,e=Ze,i=Ze){this.view=t,this.transactions=e,this._annotations=i,this.state=e.length?e[e.length-1].apply():t.state,this.changes=e.reduce((t,e)=>t.appendSet(e.changes),H.empty),this.prevState=t.state,this.prevViewport=t._viewport,this.prevThemes=t.behavior(Ie)}get viewport(){return this.view._viewport}get viewportChanged(){return!this.prevViewport.eq(this.view._viewport)}get docChanged(){return this.transactions.some(t=>t.docChanged)}get themeChanged(){return this.prevThemes!=this.view.behavior(Ie)}annotation(t){for(let e of this._annotations)if(e.type==t)return e.value;for(let e=this.transactions.length-1;e>=0;e--){let i=this.transactions[e].annotation(t);if(void 0!==i)return i}}annotations(t){let e=Ze;for(let i of this.transactions){let n=i.annotations(t);n.length&&(e=e.concat(n))}for(let i of this._annotations)i.type==t&&(e=e.concat([i.value]));return e}}const ei=[];class ii extends Wt{constructor(t,e){super(),this.view=t,this.viewports=ei,this.compositionDeco=ne.none,this.gapDeco=ne.none,this.selectionDirty=null,this.forceSelectionUpdate=!1,this.heightMap=ke.empty(),this.heightOracle=new be,this.layoutCheckScheduled=-1,this.scrollIntoView=-1,this.paddingTop=0,this.paddingBottom=0,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.setDOM(t.contentDOM),this.viewportState=new Qe,this.observer=new De(this,e,()=>this.checkLayout())}get length(){return this.state.doc.length}get state(){return this.view.state}get viewport(){return this.view._viewport}get root(){return this.view.root}get editorView(){return this.view}init(t,e){this.children=[new fe],this.children[0].setParent(this),this.viewports=this.decorations=ei,this.minWidth=0,this.compositionDeco=ne.none;let i=[new K(0,0,0,t.doc.length)];this.heightMap=this.heightMap.applyChanges(ei,f.empty,this.heightOracle.setDoc(t.doc),i),this.computeUpdate(t,t.doc,null,e,ei,0,-1),this.updateInner(i,0),this.scheduleLayoutCheck()}update(t,e=-1){let i=this.state.doc,n=t?t.state:this.state,r=t?t.changes.changedRanges():ei;this.minWidth>0&&r.length&&(r.every(({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo)?(this.minWidthFrom=K.mapPos(this.minWidthFrom,1,r),this.minWidthTo=K.mapPos(this.minWidthTo,1,r)):this.minWidth=0);let s=this.computeUpdate(n,i,t,null,r,0,e);Ct.chrome&&!this.compositionDeco.size&&t&&t.changes.changes.some(t=>t.text.length>1)&&(this.forceSelectionUpdate=!0),0==this.dirty&&0==s.length&&this.state.selection.primary.from>=this.viewport.from&&this.state.selection.primary.to<=this.viewport.to&&(!t||0==t._annotations.length)?(this.updateSelection(),e>-1&&this.scrollPosIntoView(e),t&&this.scheduleLayoutCheck()):(this.updateInner(s,i.length),this.cancelLayoutCheck(),e>-1&&(this.scrollIntoView=e),this.scheduleLayoutCheck())}scheduleLayoutCheck(){this.layoutCheckScheduled=requestAnimationFrame(()=>this.checkLayout())}updateInner(t,e){let i=this.viewport,n=[i],{head:r,anchor:s}=this.state.selection.primary;if(r<i.from||r>i.to){let{from:t,to:e}=this.lineAt(r,0);n.push(new Ce(t,e))}if(!n.some(({from:t,to:e})=>s>=t&&s<=e)){let{from:t,to:e}=this.lineAt(s,0);n.push(new Ce(t,e))}n.sort((t,e)=>t.from-e.from),this.updateChildren(t,n,e),this.viewports=n,this.observer.ignore(()=>{this.dom.style.height=this.heightMap.height+"px",this.dom.style.minWidth=this.minWidth+"px",this.sync(),this.dirty=0,this.updateSelection(),this.dom.style.height=""})}updateChildren(t,e,i){let n=this.computeGapDeco(e,this.length),r=Oe(this.gapDeco,n,t,i);this.gapDeco=n,t=si(t,r.content);let s=[n].concat(this.decorations),o=this.childCursor(i);for(let e=t.length-1;;e--){let i=e>=0?t[e]:null;if(!i)break;let{fromA:n,toA:r,fromB:h,toB:l}=i,{content:a,breakAtStart:c}=me.build(this.state.doc,h,l,s),{i:u,off:O}=o.findPos(r,1),{i:d,off:f}=o.findPos(n,-1);this.replaceRange(d,f,u,O,a,c)}}replaceRange(t,e,i,n,r,s){let o=this.children[t],h=r.length?r[r.length-1]:null,l=h?h.breakAfter:s;if(t==i&&!s&&!l&&r.length<2&&o.merge(e,n,r.length?h:null,0==e))return;let a=this.children[i];for(n<a.length||a.children.length&&0==a.children[a.children.length-1].length?(t==i&&(a=a.split(n),n=0),!l&&h&&a.merge(0,n,h,!0)?r[r.length-1]=a:((n||a.children.length&&0==a.children[0].length)&&a.merge(0,n,null,!1),r.push(a))):a.breakAfter&&(h?h.breakAfter=1:s=1),i++,o.breakAfter=s,e>0&&(!s&&r.length&&o.merge(e,o.length,r[0],!1)?o.breakAfter=r.shift().breakAfter:(e<o.length||o.children.length&&0==o.children[o.children.length-1].length)&&o.merge(e,o.length,null,!1),t++);t<i&&r.length;)if(this.children[i-1].match(r[r.length-1]))i--,r.pop();else{if(!this.children[t].match(r[0]))break;t++,r.shift()}(t<i||r.length)&&this.replaceChildren(t,i,r)}updateSelection(t=!1){if(this.clearSelectionDirty(),this.root.activeElement!=this.dom){if(!t)return;Ct.gecko&&this.dom.focus()}let e=this.state.selection.primary,i=this.domAtPos(e.anchor),n=this.domAtPos(e.head),r=this.root.getSelection();!this.forceSelectionUpdate&&zt(i.node,i.offset,r.anchorNode,r.anchorOffset)&&zt(n.node,n.offset,r.focusNode,r.focusOffset)||(this.forceSelectionUpdate=!1,this.observer.ignore(()=>{if(r.extend)r.collapse(i.node,i.offset),e.empty||r.extend(n.node,n.offset);else{let t=document.createRange();e.anchor>e.head&&([i,n]=[n,i]),t.setEnd(n.node,n.offset),t.setStart(i.node,i.offset),r.removeAllRanges(),r.addRange(t)}})),this.impreciseAnchor=i.precise?null:new _t(r.anchorNode,r.anchorOffset),this.impreciseHead=n.precise?null:new _t(r.focusNode,r.focusOffset)}lineAt(t,e){return null==e&&(e=this.dom.getBoundingClientRect().top),this.heightMap.lineAt(t,xe.ByPos,this.state.doc,e+this.paddingTop,0)}lineAtHeight(t,e){return null==e&&(e=this.dom.getBoundingClientRect().top),this.heightMap.lineAt(t,xe.ByHeight,this.state.doc,e+this.paddingTop,0)}blockAtHeight(t,e){return null==e&&(e=this.dom.getBoundingClientRect().top),this.heightMap.blockAt(t,this.state.doc,e+this.paddingTop,0)}forEachLine(t,e,i,n){return null==n&&(n=this.dom.getBoundingClientRect().top),this.heightMap.forEachLine(t,e,this.state.doc,n+this.paddingTop,0,i)}computeUpdate(t,e,i,n,r,s,o){let h=r.length?r:null,l=this.viewport||new Ce(0,0);for(let a=0;;a++){let c;if(h){let t=K.mapPos(l.from,-1,r);c=new Ce(t,Math.min(t+(l.to-l.from)+1e3,K.mapPos(l.to,1,r)))}else c=this.viewportState.getViewport(t.doc,this.heightMap,s,o);if(!(!l||!c.eq(l)||h||i||n))return r;if(5==a)return console.warn("Viewport and decorations failed to converge"),r;let u=this.state||t;n?n(c):this.view.updateInner(i||new ti(this.view),c),l=c,this.view.inputState.composing?i&&i.transactions.length&&(this.compositionDeco=hi(this.view,r)):this.compositionDeco=ne.none;let O=this.view.behavior(Ue).concat(this.compositionDeco);if(!i&&!n&&oi(O,this.decorations))return r;let{content:d,height:f}=ri(i?r:ei,O,this.decorations,u.doc.length);this.decorations=O;let p=si(h||ei,f);this.heightMap=this.heightMap.applyChanges(O,e,this.heightOracle.setDoc(t.doc),p),h=null,e=t.doc,r=si(r,d),i=null,n=null}}focus(){this.updateSelection(!0)}cancelLayoutCheck(){this.layoutCheckScheduled>-1&&(cancelAnimationFrame(this.layoutCheckScheduled),this.layoutCheckScheduled=-1)}checkLayout(t=!1){this.cancelLayoutCheck(),this.measureVerticalPadding();let e=Math.min(this.scrollIntoView,this.state.doc.length);this.scrollIntoView=-1;let i=0;if(t?this.viewportState.coverEverything():i=this.viewportState.updateFromDOM(this.dom,this.paddingTop),this.viewportState.top>=this.viewportState.bottom)return;this.view.updateState=1;let n=this.measureVisibleLineHeights(),r=!1;if(this.heightOracle.mustRefresh(n)){let{lineHeight:t,charWidth:e}=this.measureTextSize();r=this.heightOracle.refresh(getComputedStyle(this.dom).whiteSpace,t,e,this.dom.clientWidth/e,n),r&&(this.minWidth=0)}e>-1&&this.scrollPosIntoView(e);let s=[];for(let t of this.view.behavior(Ge)){let e=this.view.plugin(t);e.measure&&e.drawMeasured&&s.push(e)}let o=!1,h=s.map(t=>t.measure());for(let t=0;;t++){this.heightOracle.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(this.heightOracle,0,r,new we(this.viewport.from,n||this.measureVisibleLineHeights()));let e=this.viewportState.coveredBy(this.state.doc,this.viewport,this.heightMap,i);if(e&&!this.heightOracle.heightChanged)break;if(t>10){console.warn("Layout failed to converge");break}this.view.updateState=2,o=!0;let l=e?ei:this.computeUpdate(this.state,this.state.doc,null,null,ei,i,-1);this.updateInner(l,this.length),n=null,r=!1,i=0,this.view.updateState=1,this.viewportState.updateFromDOM(this.dom,this.paddingTop),h=s.map(t=>t.measure())}for(this.view.updateState=2;s.length;)s=s.filter((t,e)=>t.drawMeasured(h[e])),h=s.map(t=>t.measure());o&&(this.observer.listenForScroll(),this.view.drawPlugins()),this.view.updateState=0}scrollPosIntoView(t){let e=this.coordsAt(t);if(!e)return;let i=this.view.behavior(Fe);!function(t,e){let i=t.ownerDocument.defaultView;for(let n=t.parentNode;n;)if(1==n.nodeType){let t,r=n==document.body;if(r)t=jt(i);else{if(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth){n=n.parentNode;continue}let e=n.getBoundingClientRect();t={left:e.left,right:e.left+n.clientWidth,top:e.top,bottom:e.top+n.clientHeight}}let s=0,o=0;if(e.top<t.top?o=-(t.top-e.top+5):e.bottom>t.bottom&&(o=e.bottom-t.bottom+5),e.left<t.left?s=-(t.left-e.left+5):e.right>t.right&&(s=e.right-t.right+5),s||o)if(r)i.scrollBy(s,o);else{if(o){let t=n.scrollTop;n.scrollTop+=o,o=n.scrollTop-t}if(s){let t=n.scrollLeft;n.scrollLeft+=s,s=n.scrollLeft-t}e={left:e.left-s,top:e.top-o,right:e.right-s,bottom:e.bottom-o}}if(r)break;n=n.parentNode}else{if(11!=n.nodeType)break;n=n.host}}(this.dom,{left:e.left-i.left,top:e.top-i.top,right:e.right+i.right,bottom:e.bottom+i.bottom})}nearest(t){for(let e=t;e;){let t=e.cmView;if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(i<t.length||t instanceof fe)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t){for(let e=this.length,i=this.children.length-1;;i--){let n=this.children[i],r=e-n.breakAfter-n.length;if(t>=r&&n.type!=ie.WidgetAfter)return n.coordsAt(t-r);e=r}}measureVisibleLineHeights(){let t=[],{from:e,to:i}=this.viewport,n=Math.max(this.dom.clientWidth,this.minWidth)+1;for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],h=r+o.length;if(h>i)break;if(r>=e){t.push(o.dom.getBoundingClientRect().height);let e=o.dom.scrollWidth;e>n&&(this.minWidth=n=e,this.minWidthFrom=r,this.minWidthTo=h)}r=h+o.breakAfter}return t}measureVerticalPadding(){let t=window.getComputedStyle(this.dom);this.paddingTop=parseInt(t.paddingTop)||0,this.paddingBottom=parseInt(t.paddingBottom)||0}measureTextSize(){for(let t of this.children)if(t instanceof fe){let e=t.measureTextSize();if(e)return e}let t,e,i=document.createElement("div");return i.className="codemirror-line",i.textContent="abc def ghi jkl mno pqr stu",this.observer.ignore(()=>{this.dom.appendChild(i);let n=Mt(i.firstChild)[0];t=i.getBoundingClientRect().height,e=n?n.width/27:7,i.remove()}),{lineHeight:t,charWidth:e}}destroy(){cancelAnimationFrame(this.layoutCheckScheduled),this.observer.destroy()}clearSelectionDirty(){null!=this.selectionDirty&&(cancelAnimationFrame(this.selectionDirty),this.selectionDirty=null)}setSelectionDirty(){this.observer.clearSelection(),null==this.selectionDirty&&(this.selectionDirty=requestAnimationFrame(()=>this.updateSelection()))}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Gt(this.children,t,e)}computeGapDeco(t,e){let i=[];for(let n=0,r=0;;r++){let s=r==t.length?null:t[r],o=s?s.from-1:e;if(o>n){let t=this.lineAt(o,0).bottom-this.lineAt(n,0).top;i.push(ne.replace(n,o,{widget:new ni(t),block:!0,inclusive:!0}))}if(!s)break;n=s.to+1}return ne.set(i)}}class ni extends ee{toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}updateDOM(t){if(this.value<1e7){for(;t.lastChild;)t.lastChild.remove();t.style.height=this.value+"px"}else{t.style.height="";for(let e=this.value;e>0;e-=1e7){t.appendChild(document.createElement("div")).style.height=Math.min(e,1e7)+"px"}}return!0}get estimatedHeight(){return this.value}}function ri(t,e,i,n){let r=[],s=[];for(let o=e.length-1;o>=0;o--){let h=e[o],l=o<i.length?i[o]:ne.none;if(0==h.size&&0==l.size)continue;let a=Oe(l,h,t,n);r=ae(r,a.content),s=ae(s,a.height)}return{content:r,height:s}}function si(t,e){if(0==e.length)return t;let i=[];for(let n=0,r=0,s=0,o=0;;n++){let h=n==t.length?null:t[n],l=s-o,a=h?h.fromB:1e9;for(;r<e.length&&e[r]<a;){let t=e[r],n=e[r+1],s=Math.max(o,t),h=Math.min(a,n);if(s<=h&&new K(s+l,h+l,s,h).addToSet(i),n>a)break;r+=2}if(!h)return i;new K(h.fromA,h.toA,h.fromB,h.toB).addToSet(i),s=h.toA,o=h.toB}}function oi(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function hi(t,e){let i=t.root.getSelection(),n=i.focusNode&&function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0)t=t.childNodes[e-1],e=Zt(t);else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(!n)return ne.none;let r,s,o=t.docView.nearest(n),h=n;if(o instanceof Ht)r=o.posAtStart,s=r+o.length,h=o.dom;else{if(!(o instanceof fe))return ne.none;{for(;h.parentNode!=o.dom;)h=h.parentNode;let t=h.previousSibling;for(;t&&!t.cmView;)t=t.previousSibling;r=s=t?t.cmView.posAtEnd:o.posAtStart}}let l=K.mapPos(r,1,e),a=Math.max(l,K.mapPos(s,-1,e)),c=n.nodeValue,u=t.state.doc;if(a-l<c.length)if(u.slice(l,Math.min(u.length,l+c.length))==c)a=l+c.length;else{if(u.slice(Math.max(0,a-c.length),a)!=c)return ne.none;l=a-c.length}else if(u.slice(l,a)!=c)return ne.none;return ne.set(ne.replace(l,a,{widget:new li({top:h,text:n})}))}class li extends ee{eq(t){return this.value.top==t.top&&this.value.text==t.text}toDOM(){return this.value.top}ignoreEvent(){return!1}get customView(){return te}}function ai(t,e,i,n="character",s){let o=t.root.getSelection(),h=ci.get(t,e),l="forward"==i||"right"==i?1:-1;if(!o.modify||!h||h.nearViewportEnd(t)||!t.hasFocus||"word"==n||"line"==n&&(Ct.gecko||t.state.selection.ranges.length>1)){if("character"==n)return function(t,e,i,n){if(null==i)for(let i=t;;i+=e){if(e<0&&0==i||e>0&&i==n.length)return i;if(!r((e<0?n.slice(i-1,i):n.slice(i,i+1)).charCodeAt(0))){if(e<0)return i-1;if(i!=t)return i}}for(let{i:s,off:o}=i.line.childPos(t-i.start),{children:h}=i.line,l=t;;){if(o==(e<0||s==h.length?0:h[s].length)){if(s+=e,s<0||s>=h.length)return Math.max(0,Math.min(n.length,l+(t==l?e:0)));o=e<0?h[s].length:0}let i=h[s];if(i instanceof Ft){if(!r(i.text.charCodeAt(o-(e<0?1:0)))){if(e<0)return l-1;if(l!=t)return l}o+=e,l+=e}else if(i.length>0)return l-o+(e<0?0:i.length)}}(e,l,h,t.state.doc);if("lineboundary"==n){if(h)return h.start+(l<0?0:h.line.length);let i=t.state.doc.lineAt(e);return l<0?i.start:i.end}if("line"==n){if(h&&!h.nearViewportEnd(t,l)){let i=t.docView.coordsAt(e),n=function(t,e,i){for(let i of t.inputState.goalColumns)if(i.pos==e)return i;let n={pos:0,column:i};return t.inputState.goalColumns.push(n),n}(t,e,i.left);for(let r=l<0?i.top:i.bottom,s=5;s<50;s+=10){let i=mi(t,{x:n.column,y:r+s*l},l);if(i<0)break;if(i!=e)return n.pos=i,i}}return function(t,e,i,n){let r=t.lineAt(i),s=0;for(const n=t.iterRange(r.start,i);!n.next().done;)s=O(n.value,s,e);if(n<0&&0==r.start)return 0;if(n>0&&r.end==t.length)return r.end;let o=t.line(r.number+n),h=o.start,l=0;for(const i=t.iterRange(o.start,o.end);l>=s&&!i.next().done;){const{offset:t,leftOver:n}=d(i.value,l,s,e);l=s-n,h+=t}return h}(t.state.doc,t.state.tabSize,e,l)}if("word"==n)return function(t,e,i){let{doc:n}=t.state;for(let r=e,s=0;;s++){let e=ai(t,r,i,"character","move");if(e==r)return r;if(n.sliceLines(Math.min(e,r),Math.max(e,r)).length>1)return e;let o=Z.groupAt(t.state,e,e>r?-1:1),h=r<o.from&&r>o.to?r<o.head:o.from!=r&&(o.to==r||e<r);if(r=h?o.from:o.to,s>0||/\S/.test(n.slice(o.from,o.to)))return r;e=Math.max(0,Math.min(n.length,r+(h?-1:1)))}}(t,e,i);throw new RangeError("Invalid move granularity: "+n)}return t.docView.observer.ignore(()=>{let r=h.prepareForQuery(t,e),l=t.docView.domAtPos(e),a=(!Ct.chrome||0==r.lines.length)&&zt(l.node,l.offset,o.focusNode,o.focusOffset)&&!1;r.atWidget&&Ct.gecko&&"extend"==s&&(s="move"),"move"!=s||a&&o.isCollapsed?"extend"!=s||a||o.extend(l.node,l.offset):o.collapse(l.node,l.offset),o.modify(s,i,n),t.docView.setSelectionDirty();let c=t.docView.posFromDOM(o.focusNode,o.focusOffset);return h.undoQueryPreparation(t,r),c})}class ci{constructor(t,e,i){this.line=t,this.start=e,this.index=i}static get(t,e){for(let i=0,n=0;;i++){let r=t.docView.children[i],s=n+r.length;if(s>=e){if(r instanceof fe)return new ci(r,n,i);if(r.length)return null}n=s+1}}nearViewportEnd(t,e=0){for(let{from:i,to:n}of t.docView.viewports)if(i>0&&i==this.start&&e<=0||n<t.state.doc.length&&n==this.start+this.line.length&&e>=0)return!0;return!1}prepareForQuery(t,e){let i=[],n=!1;function r(t){return t instanceof Ft||(n=!0),!(t.length>0)&&(t.dom.remove(),i.indexOf(t.parent)<0&&i.push(t.parent),!0)}let{i:s,off:o}=this.line.childPos(e-this.start);if(0==o){for(let t=s;t<this.line.children.length&&r(this.line.children[t]);t++);for(let t=s;t>0&&r(this.line.children[t-1]);t--);}function h(t,e=-1){if(0!=t.children.length)for(let n=0,r=0;n<=t.children.length;n++){let s=n==t.children.length?null:t.children[n];s&&s instanceof Ft||r==e||0!=n&&t.children[n-1]instanceof Ft||(t.dom.insertBefore(document.createTextNode("​"),s?s.dom:null),i.indexOf(t)<0&&i.push(t)),s&&(r+=s.length)}}return this.index>0&&h(this.line.parent.children[this.index-1]),h(this.line,e-this.start),this.index<this.line.parent.children.length-1&&h(this.line.parent.children[this.index+1]),{lines:i,atWidget:n}}undoQueryPreparation(t,e){for(let t of e.lines)t.dirty=2,t.sync(),t.dirty=0}}function ui(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Oi(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function di(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function fi(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function pi(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function gi(t,e,i){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let n=r.getClientRects();for(let o=0;o<n.length;o++){let h=n[o];if(h.top!=h.bottom&&(h.left-1<=e&&h.right+1>=e&&h.top-1<=i&&h.bottom+1>=i)){let i=e>=(h.left+h.right)/2,n=i;if(Ct.chrome||Ct.gecko){r.setEnd(t,s),r.getBoundingClientRect().left==h.right&&(n=!i)}return{node:t,offset:s+(n?1:0)}}}}return{node:t,offset:0}}function mi(t,{x:e,y:i},n=-1){let r,s=t.contentDOM.getBoundingClientRect(),o=t.defaultLineHeight/2;for(let e=!1;;){if(r=t.blockAtHeight(i,s.top),r.top>i||r.bottom<i){if(n=r.top>i?-1:1,i=Math.min(r.bottom-o,Math.max(r.top+o,i)),e)return-1;e=!0}if(r.type==ie.Text)break;i=n>0?r.bottom+o:r.top-o}let h=r.from;if(h<t._viewport.from)return 0==t._viewport.from?0:-1;if(h>t._viewport.to)return t._viewport.to==t.state.doc.length?t.state.doc.length:-1;e=Math.max(s.left+1,Math.min(s.right-1,e));let l,a=t.root,c=a.elementFromPoint(e,i),u=-1;if(c&&t.contentDOM.contains(c)&&!(t.docView.nearest(c)instanceof Jt))if(a.caretPositionFromPoint){let t=a.caretPositionFromPoint(e,i);t&&({offsetNode:l,offset:u}=t)}else if(a.caretRangeFromPoint){let t=a.caretRangeFromPoint(e,i);t&&({startContainer:l,startOffset:u}=t)}if(!l){let{line:n}=ci.get(t,h);({node:l,offset:u}=function t(e,i,n){let r,s,o,h,l,a,c,u;for(let O=e.firstChild;O;O=O.nextSibling){let e=Mt(O);for(let d=0;d<e.length;d++){let f=e[d];s&&di(s,f)&&(f=fi(pi(f,s.bottom),s.top));let p=ui(i,f),g=Oi(n,f);if(0==p&&0==g)return 3==O.nodeType?gi(O,i,n):t(O,i,n);(!r||h>g||h==g&&o>p)&&(r=O,s=f,o=p,h=g),0==p?n>f.bottom&&(!c||c.bottom<f.bottom)?(l=O,c=f):n<f.top&&(!u||u.top>f.top)&&(a=O,u=f):c&&di(c,f)?c=pi(c,f.bottom):u&&di(u,f)&&(u=fi(u,f.top))}}if(c&&c.bottom>=n?(r=l,s=c):u&&u.top<=n&&(r=a,s=u),!r)return{node:e,offset:0};let O=Math.max(s.left,Math.min(s.right,i));return 3==r.nodeType?gi(r,O,n):(o||"true"!=r.contentEditable||t(r,O,n),{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(i>=(s.left+s.right)/2?1:0)})}(n.dom,e,i))}return t.docView.posFromDOM(l,u)}class vi{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.registeredEvents=[],this.customHandlers=[],this.composing=!1,this.goalColumns=[],this.mouseSelection=null;for(let e in wi){let i=wi[e];t.contentDOM.addEventListener(e,n=>{bi(t,n)&&(this.runCustomHandlers(e,t,n)?n.preventDefault():i(t,n))}),this.registeredEvents.push(e)}t.contentDOM.addEventListener("keydown",e=>{t.inputState.lastKeyCode=e.keyCode,t.inputState.lastKeyTime=Date.now()}),t.root.activeElement==t.contentDOM&&t.dom.classList.add("codemirror-focused"),this.ensureHandlers(t)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let e=t.behavior(Ee);if(!(e==this.customHandlers||e.length==this.customHandlers.length&&e.every((t,e)=>t==this.customHandlers[e]))){this.customHandlers=e;for(let i of e)for(let e in i)this.registeredEvents.indexOf(e)<0&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,i=>{bi(t,i)&&this.runCustomHandlers(e,t,i)&&i.preventDefault()}))}}runCustomHandlers(t,e,i){for(let n of this.customHandlers){let r=n[t];if(r)try{if(r(e,i)||i.defaultPrevented)return!0}catch(t){console.error(t)}}return!1}startMouseSelection(t,e,i){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new yi(this,t,e,i)}update(t){this.mouseSelection&&this.mouseSelection.map(t.changes),this.lastKeyCode=this.lastSelectionTime=0}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}class yi{constructor(t,e,i,n){this.inputState=t,this.view=e,this.update=n;let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=e.state.behavior(it.allowMultipleSelections)&&function(t,e){let i=t.behavior(_e);return i.length?i[0](e):Ct.mac?e.metaKey:e.ctrlKey}(e,i),this.dragMove=function(t,e){let i=t.behavior(Re);return i.length?i[0](e):Ct.mac?!e.altKey:!e.ctrlKey}(e,i),this.startSelection=e.state.selection;let{pos:s,bias:o}=this.queryPos(i);this.startPos=this.curPos=s,this.startBias=this.curBias=o,this.dragging=!!function(t,e,i){let{primary:n}=t.state.selection;if(n.empty)return!1;if(e<n.from||e>n.to)return!1;if(e>n.from&&e<n.to)return!0;let r=t.root.getSelection();if(0==r.rangeCount)return!0;let s=r.getRangeAt(0).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(e.left<=i.clientX&&e.right>=i.clientX&&e.top<=i.clientY&&e.bottom>=i.clientY)return!0}return!1}(e,this.startPos,i)&&null,!1===this.dragging&&(i.preventDefault(),this.select())}queryPos(t){let e=this.view.posAtCoords({x:t.clientX,y:t.clientY}),i=this.view.coordsAtPos(e);return{pos:e,bias:i?i.top>t.clientY?-1:i.bottom<t.clientY?1:i.left>t.clientX?-1:1:1}}move(t){if(0==t.buttons)return this.destroy();if(!1!==this.dragging)return;let{pos:e,bias:i}=this.queryPos(t);e==this.curPos&&i==this.curBias||(this.curPos=e,this.curBias=i,this.select())}up(t){null==this.dragging&&this.select(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(){let t=this.update(this.view,this.startSelection,this.startPos,this.startBias,this.curPos,this.curBias,this.extend,this.multiple);t.eq(this.view.state.selection)||this.view.dispatch(this.view.state.t().setSelection(t).annotate(J.userEvent("pointer")))}map(t){t.length&&(this.startSelection=this.startSelection.map(t),this.startPos=t.mapPos(this.startPos),this.curPos=t.mapPos(this.curPos)),this.dragging&&(this.dragging=this.dragging.map(t))}}function bi(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i=e.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||i.cmView&&i.cmView.ignoreEvent(e))return!1;return!0}const wi=Object.create(null),Si=Ct.ie&&Ct.ie_version<15||Ct.ios&&Ct.webkit_version<604;function xi(t,e){t.dispatch(t.state.t().replaceSelection(e).annotate(J.userEvent("paste")).scrollIntoView())}function ki(t,e,i,n){if(1==n)return new Z(e);if(2==n)return Z.groupAt(t.state,e,i);{let i=ci.get(t,e);if(i)return new Z(i.start+i.line.length,i.start);let{start:n,end:r}=t.state.doc.lineAt(e);return new Z(n,r)}}wi.keydown=(t,e)=>{(function(t){let e=(t.ctrlKey?1:0)|(t.metaKey?8:0)|(t.altKey?2:0)|(t.shiftKey?4:0),i=t.keyCode,n=Ct.mac&&1==e;return 8==i||n&&72==i||46==i||n&&68==i||27==i||e==(Ct.mac?8:1)&&(66==i||73==i||89==i||90==i)})(e)&&e.preventDefault(),t.inputState.setSelectionOrigin("keyboard")},wi.touchdown=wi.touchmove=(t,e)=>{t.inputState.setSelectionOrigin("pointer")},wi.mousedown=(t,e)=>{var i;0==e.button&&t.startMouseSelection(e,(i=e.detail,(t,e,n,r,s,o,h,l)=>{let a=ki(t,s,o,i);if(n!=s&&!h){let e=ki(t,n,r,i);a=a.extend(Math.min(e.from,a.from),Math.max(e.to,a.to))}return h?e.replaceRange(e.primary.extend(a.from,a.to)):l?e.addRange(a):j.create([a])}))},wi.dragstart=(t,e)=>{let{doc:i,selection:{primary:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",i.slice(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},wi.drop=(t,e)=>{if(!e.dataTransfer)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY}),n=e.dataTransfer.getData("Text");if(i<0||!n)return;e.preventDefault();let r=t.state.t(),{mouseSelection:s}=t.inputState;s&&s.dragging&&s.dragMove&&(r.replace(s.dragging.from,s.dragging.to,""),i=r.changes.mapPos(i));let o=new I(i,i,t.state.splitLines(n));r.change(o).setSelection(j.single(i,i+o.length)).annotate(J.userEvent("drop")),t.focus(),t.dispatch(r)},wi.paste=(t,e)=>{t.docView.observer.flush();let i=Si?null:e.clipboardData,n=i&&i.getData("text/plain");n?(xi(t,n),e.preventDefault()):function(t){let e=t.dom.ownerDocument,i=e.body.appendChild(e.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),e.body.removeChild(i),xi(t,i.value)},50)}(t)},wi.copy=wi.cut=(t,e)=>{let i=t.state.selection.primary;if(i.empty)return;let n=Si?null:e.clipboardData,r=t.state.joinLines(t.state.doc.sliceLines(i.from,i.to));n?(e.preventDefault(),n.clearData(),n.setData("text/plain",r)):function(t,e){let i=t.dom.ownerDocument,n=i.body.appendChild(i.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{i.body.removeChild(n),t.focus()},50)}(t,r),"cut"==e.type&&t.dispatch(t.state.t().replaceSelection([""]).scrollIntoView().annotate(J.userEvent("cut")))},wi.focus=t=>{t.update([],[Ke(!0)])},wi.blur=t=>{t.update([],[Ke(!1)])},wi.beforeprint=t=>{t.docView.checkLayout(!0)};const $i=B.define();function Xi(t){t.docView.compositionDeco.size&&t.update([],[$i(null)])}wi.compositionstart=wi.compositionupdate=t=>{t.inputState.composing||(t.docView.compositionDeco.size&&(t.docView.observer.flush(),Xi(t)),t.inputState.composing=!0)},wi.compositionend=t=>{t.inputState.composing=!1,setTimeout(()=>{t.inputState.composing||Xi(t)},50)};function Pi(t,e,i,n){let r,s,o,h=t.state.selection.primary;if(e>-1&&(o=t.docView.domBoundsAround(e,i,0))){let{from:e,to:i}=o,n=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(t,e){let i=[];if(e.activeElement!=t)return i;let{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}=e.getSelection();n&&(i.push(new Ai(n,r)),s==n&&o==r||i.push(new Ai(s,o)));return i}(t.contentDOM,t.root),l=new Ti(n);l.readRange(o.startDOM,o.endDOM),s=function(t,e){if(0==t.length)return null;let i=t[0].pos,n=2==t.length?t[1].pos:i;return i>-1&&n>-1?j.single(i+e,n+e):null}(n,e);let a=h.from,c=null;8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100&&(a=h.to,c="end");let u=function(t,e,i,n){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,h=e.length;for(;o>0&&h>0&&t.charCodeAt(o-1)==e.charCodeAt(h-1);)o--,h--;if("end"==n){let t=Math.max(0,s-Math.min(o,h));i-=o+t-s}if(o<s&&t.length<e.length){s-=i<=s&&i>=o?s-i:0,h=s+(h-o),o=s}else if(h<s){s-=i<=s&&i>=h?s-i:0,o=s+(o-h),h=s}return{from:s,toA:o,toB:h}}(t.state.doc.slice(e,i,"﷚"),l.text,a-e,c);u&&(r=new I(e+u.from,e+u.toA,l.text.slice(u.from,u.toB).split("﷚")))}else if(t.hasFocus){let e=t.root.getSelection(),{impreciseHead:i,impreciseAnchor:n}=t.docView,r=i&&i.node==e.focusNode&&i.offset==e.focusOffset?t.state.selection.primary.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),o=n&&n.node==e.anchorNode&&n.offset==e.anchorOffset?t.state.selection.primary.anchor:function(t){let e=t.isCollapsed;return e&&Ct.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e}(e)?r:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);r==h.head&&o==h.anchor||(s=j.single(o,r))}if(!r&&!s)return!1;if(!r&&n&&!h.empty&&s&&s.primary.empty&&(r=new I(h.from,h.to,t.state.doc.sliceLines(h.from,h.to))),r){let e=t.state;if(Ct.android&&(r.from==h.from&&r.to==h.to&&1==r.length&&2==r.text.length&&Qi(t,"Enter",10)||r.from==h.from-1&&r.to==h.to&&0==r.length&&Qi(t,"Backspace",8)||r.from==h.from&&r.to==h.to+1&&0==r.length&&Qi(t,"Delete",46)))return t.state!=e;let i=e.t();if(r.from>=h.from&&r.to<=h.to&&r.to-r.from>=(h.to-h.from)/3){let t=h.from<r.from?e.doc.slice(h.from,r.from,"﷚"):"",n=h.to>r.to?e.doc.slice(r.to,h.to,"﷚"):"";i.replaceSelection((t+r.text.join("﷚")+n).split("﷚"))}else i.change(r),s&&!i.selection.primary.eq(s.primary)&&i.setSelection(i.selection.replaceRange(s.primary));return t.dispatch(i.scrollIntoView()),!0}if(s&&!s.primary.eq(h)){let e=t.state.t().setSelection(s);return t.inputState.lastSelectionTime>Date.now()-50&&("keyboard"==t.inputState.lastSelectionOrigin?e.scrollIntoView():e.annotate(J.userEvent(t.inputState.lastSelectionOrigin))),t.dispatch(e),!0}return!1}class Ti{constructor(t){this.points=t,this.text=""}readRange(t,e){if(!t)return;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n),this.readNode(n);let t=n.nextSibling;if(t==e)break;let r=n.cmView,s=t.cmView;((r?r.breakAfter:Vi(n))||(s?s.breakAfter:Vi(t))&&("BR"!=n.nodeName||n.cmIgnore))&&(this.text+="﷚"),n=t}this.findPointBefore(i,e)}readNode(t){if(t.cmIgnore)return;let e,i=t.cmView,n=i&&i.overrideDOMText;null!=n?e=n.join("﷚"):3==t.nodeType?e=t.nodeValue:"BR"==t.nodeName?e=t.nextSibling?"﷚":"":1==t.nodeType&&this.readRange(t.firstChild,null),null!=e&&(this.findPointIn(t,e.length),this.text+=e)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointIn(t,e){for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e))}}function Vi(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Ai{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}function Qi(t,e,i){let n={key:e,code:e,keyCode:i,which:i,cancelable:!0},r=new KeyboardEvent("keydown",n);t.contentDOM.dispatchEvent(r);let s=new KeyboardEvent("keyup",n);return t.contentDOM.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}class Ci{constructor(t={}){this.plugins=Object.create(null),this.editorAttrs={},this.contentAttrs={},this.themeCache=Object.create(null),this.themeCacheFor=[],this.updateState=2,this.waiting=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.appendChild(this.contentDOM),this.dom=document.createElement("div"),this.dom.appendChild(this.scrollDOM),this.dispatch=t.dispatch||(t=>this.update([t])),this.root=t.root||document,this.docView=new ii(this,(t,e,i)=>Pi(this,t,e,i));let e=t.state||it.create();this.extensions=t.extensions||[],this.configure(e.configuration.foreign),this.inputState=new vi(this),this.docView.init(e,t=>{this._viewport=t,this._state=e;for(let t of this.behavior(Ge)){let e=this.plugins[t.id];if(e)throw new Error(`Duplicated view plugin${(e.constructor||Object)!=Object&&e.constructor.name?` (${e.constructor.name})`:""}`);this.plugins[t.id]=t.create(this)}}),this.mountStyles(),this.updateAttrs(),this.updateState=0,window.addEventListener("resize",()=>{-1==zi&&(zi=setTimeout(Di,50))})}get state(){return this._state}get viewport(){return this._viewport}update(t=[],e=[]){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2,this.clearWaiting();let i=this.state,n=i.configuration.foreign;for(let e of t){if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the current state.");i=e.apply()}let r=i.configuration.foreign;r!=n&&(this.configure(r),this.updatePlugins());let s=t.length>0||e.length>0?new ti(this,t,e):null;(i.doc!=this.state.doc||t.some(t=>t.selectionSet&&!t.annotation(J.preserveGoalColumn)))&&(this.inputState.goalColumns.length=0),this.docView.update(s,t.some(t=>t.scrolledIntoView)?i.selection.primary.head:-1),s&&(this.inputState.ensureHandlers(this),this.drawPlugins(),this.behavior(Ye)!=this.styleModules&&this.mountStyles()),this.updateAttrs(),this.updateState=0}waitFor(t){t.then(()=>{t.canceled||this.update([],[Je(!0)])}),this.waiting.push(t)}clearWaiting(){for(let t of this.waiting)t.canceled=!0;this.waiting.length=0}updateAttrs(){let t=this.behavior(Ne),e=this.behavior(Be);Yt(this.dom,this.editorAttrs,t),this.editorAttrs=t,Yt(this.contentDOM,this.contentAttrs,e),this.contentAttrs=e,this.scrollDOM.className=this.cssClass("scroller")+" "+de.scroller}configure(t){if(this.configuration=je.resolve([Mi].concat(this.extensions).concat(t)),this.configuration.foreign.length)throw new Error("Non-view extensions found in view")}updatePlugins(){let t=this.plugins;this.plugins=Object.create(null);for(let e of this.behavior(Ge))this.plugins[e.id]=Object.prototype.hasOwnProperty.call(t,e.id)?t[e.id]:e.create(this)}mountStyles(){this.styleModules=this.behavior(Ye),nt.a.mount(this.root,this.styleModules.concat(de).reverse())}drawPlugins(){for(let t of this.behavior(Ge)){let e=this.plugins[t.id];if(e.draw)try{e.draw()}catch(t){console.error(t)}}this.updateAttrs()}plugin(t){let e=this.plugins[t.id];if(void 0===e&&this.behavior(Ge).indexOf(t)>-1)throw new Error("Accessing a plugin from another plugin with higher precedence");return e}behavior(t){return this.configuration.getBehavior(t,this)}updateInner(t,e){this._viewport=e,this._state=t.state;let i=this.plugins;this.plugins=Object.create(null);for(let e of this.behavior(Ge)){let n=this.plugins[e.id]=i[e.id];if(n.update)try{n.update(t)}catch(t){console.error(t),this.plugins[e.id]={update(){}}}}}cssClass(t){let e=this.behavior(Ie);if(e!=this.themeCacheFor)this.themeCache=Object.create(null),this.themeCacheFor=e;else{let e=this.themeCache[t];if(null!=e)return e}let i="";for(let n=0;;){let r=t.indexOf(".",n),s=r<0?t:t.slice(0,r);i+=(i?" ":"")+"codemirror-"+(n?s.replace(/\./g,"-"):s);for(let t of e){let e=t[s];e&&(i+=" "+e)}if(r<0)break;n=r+1}return this.themeCache[t]=i}phrase(t){for(let e of this.behavior(He))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}readingLayout(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.docView.layoutCheckScheduled>-1&&this.docView.checkLayout()}requireMeasure(){this.docView.scheduleLayoutCheck()}blockAtHeight(t,e){return this.readingLayout(),this.docView.blockAtHeight(t,e)}lineAtHeight(t,e){return this.readingLayout(),this.docView.lineAtHeight(t,e)}lineAt(t,e){return this.readingLayout(),this.docView.lineAt(t,e)}viewportLines(t,e){let{from:i,to:n}=this._viewport;this.docView.forEachLine(i,n,t,e)}get contentHeight(){return this.docView.heightMap.height+this.docView.paddingTop+this.docView.paddingBottom}movePos(t,e,i="character",n="move"){return ai(this,t,e,i,n)}posAtCoords(t){return this.readingLayout(),mi(this,t)}coordsAtPos(t){return this.readingLayout(),this.docView.coordsAt(t)}get defaultCharacterWidth(){return this.docView.heightOracle.charWidth}get defaultLineHeight(){return this.docView.heightOracle.lineHeight}startMouseSelection(t,e){this.focus(),this.inputState.startMouseSelection(this,t,e)}get hasFocus(){return this.root.activeElement==this.contentDOM}focus(){this.docView.focus()}destroy(){for(let t of this.behavior(Ge)){let e=this.plugins[t.id];if(e.destroy)try{e.destroy()}catch(t){console.error(t)}}this.inputState.destroy(),this.dom.remove(),this.docView.destroy()}static theme(t){for(let e in t){let i=e.split(".").length-1;i>0&&(t[e].specificity=i)}let e=new nt.a(t);return[Ie(e),Ye(e)]}}Ci.extend=je,Ci.styleModule=Ye,Ci.handleDOMEvents=Ee,Ci.dragMovesSelection=Re,Ci.clickAddsSelectionRange=_e,Ci.decorations=Ue,Ci.phrases=He,Ci.scrollMargins=Fe,Ci.contentAttributes=Be,Ci.editorAttributes=Ne,Ci.focusChange=Ke;const Mi=[je.dynamic(Ne,t=>({class:"codemirror "+de.wrapper+(t.hasFocus?" codemirror-focused ":" ")+t.cssClass("wrap")})),je.dynamic(Be,t=>({spellcheck:"false",contenteditable:"true",class:de.content+" "+t.cssClass("content"),style:`${Ct.tabSize}: ${t.state.tabSize}`}))];let zi=-1;function Di(){zi=-1;let t=document.querySelectorAll(".codemirror-content");for(let e=0;e<t.length;e++){let i=t[e].cmView;i&&i.editorView.update([],[Je(!0)])}}class qi extends rt{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}map(t,e){return(e=t.mapPos(e,-1,L.TrackBefore))<0?null:new st(e,e,this)}toDOM(t){return null}at(t){return new st(t,t,this)}}qi.prototype.elementClass="";const Zi={style:"",renderEmptyElements:!1,elementStyle:"",initialMarkers:()=>lt.empty,updateMarkers:t=>t,lineMarker:()=>null,initialSpacer:null,updateSpacer:null,handleDOMEvents:{}},ji=Ci.extend.behavior();class Ei{constructor(t){this.config=D(t,Zi)}get extension(){return[Wi(),ji(this)]}}const _i=Ci.extend.behavior();let Ri=We.create(t=>new Ni(t)).behavior(Ci.scrollMargins,t=>t.scrollMargins());function Wi(t){let e=[Ri.extension,Ji];return t&&!1===t.fixed&&e.push(_i(!0)),e}class Ni{constructor(t){this.view=t,this.dom=document.createElement("div"),this.dom.setAttribute("aria-hidden","true"),this.gutters=t.behavior(ji).map(e=>new Gi(t,e.config));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.behavior(_i),this.fixed&&(this.dom.style.position="sticky"),t.scrollDOM.insertBefore(this.dom,t.contentDOM),this.updateTheme()}updateTheme(){this.dom.className=this.view.cssClass("gutters");for(let t of this.gutters)t.updateTheme()}update(t){t.themeChanged&&this.updateTheme();for(let e of this.gutters)e.update(t)}draw(){let t=this.gutters.map(t=>new Bi(t,this.view.viewport));this.view.viewportLines(e=>{let i;if(i=Array.isArray(e.type)?e.type.find(t=>t.type==ie.Text):e.type==ie.Text?e:void 0,i)for(let e of t)e.line(this.view,i)},0);for(let e of t)e.finish(this.view);this.dom.style.minHeight=this.view.contentHeight+"px"}scrollMargins(){return 0!=this.gutters.length&&this.fixed?"ltr"==getComputedStyle(this.view.scrollDOM).direction?{left:this.dom.offsetWidth}:{right:this.dom.offsetWidth}:{}}}class Bi{constructor(t,e){this.gutter=t,this.localMarkers=[],this.i=0,this.height=0,this.next=t.markers.iter(e.from,e.to).next,this.nextMarker=this.next()}line(t,e){for(this.localMarkers.length&&(this.localMarkers=[]);this.nextMarker&&this.nextMarker.from<=e.from;)this.nextMarker.from==e.from&&this.localMarkers.push(this.nextMarker.value),this.nextMarker=this.next();let i=this.gutter.config.lineMarker(t,e,this.localMarkers);i&&this.localMarkers.unshift(i);let n=this.gutter;if(0==this.localMarkers.length&&!n.config.renderEmptyElements)return;let r=e.top-this.height;if(this.i==n.elements.length){let i=new Ui(t,e.height,r,this.localMarkers,n.elementClass);n.elements.push(i),n.dom.appendChild(i.dom)}else{let i=this.localMarkers,s=n.elements[this.i];(function(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0})(i,s.markers)&&(i=s.markers,this.localMarkers.length=0),s.update(t,e.height,r,i,n.elementClass)}this.height=e.bottom,this.i++}finish(t){let e=this.gutter;for(;e.elements.length>this.i;)e.dom.removeChild(e.elements.pop().dom)}}class Gi{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div");for(let i in e.handleDOMEvents)this.dom.addEventListener(i,n=>{let r=t.lineAtHeight(n.clientY);e.handleDOMEvents[i](t,r,n)&&n.preventDefault()});this.markers=e.initialMarkers(t),e.initialSpacer&&(this.spacer=new Ui(t,0,0,[e.initialSpacer(t)],this.elementClass),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"),this.updateTheme()}updateTheme(){for(this.dom.className=this.view.cssClass("gutter"+(this.config.style?"."+this.config.style:"")),this.elementClass=this.view.cssClass("gutterElement"+(this.config.style?"."+this.config.style:""));this.elements.length;)this.dom.removeChild(this.elements.pop().dom)}update(t){if(t.themeChanged&&this.updateTheme(),this.markers=this.config.updateMarkers(this.markers.map(t.changes),t),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e],this.elementClass)}}destroy(){this.dom.remove()}}class Ui{constructor(t,e,i,n,r){this.height=-1,this.above=0,this.dom=document.createElement("div"),this.update(t,e,i,n,r)}update(t,e,i,n,r){if(this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),this.markers!=n){this.markers=n;for(let t;t=this.dom.lastChild;)t.remove();let e=r;for(let i of n){let n=i.toDOM(t);n&&this.dom.appendChild(n);let r=i.elementClass;r&&(e+=" "+r)}this.dom.className=e}}}const Li=B.define(),Yi=Ci.extend.behavior({combine:t=>z(t,{formatNumber:String,handleDOMEvents:{}},{handleDOMEvents(t,e){let i={};for(let e in t)i[e]=t[e];for(let t in e){let n=i[t],r=e[t];i[t]=n?(t,e,i)=>n(t,e,i)||r(t,e,i):r}return i}})});class Ii extends qi{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(t){let e=t.behavior(Yi);return document.createTextNode(e.formatNumber(this.number))}}const Hi=new Ei({style:"lineNumber",updateMarkers(t,e){let i=e.annotation(Li);return i&&(t=t.update(i.add||[],i.filter||null)),t},lineMarker:(t,e,i)=>i.length?null:new Ii(t.state.doc.lineAt(e.from).number),initialSpacer:t=>new Ii(Ki(t.state.doc.lines)),updateSpacer(t,e){let i=Ki(e.view.state.doc.lines);return i==t.number?t:new Ii(i)}});function Fi(t={}){return[Yi(t),Hi.extension]}function Ki(t){let e=9;for(;e<t;)e=10*e+9;return e}const Ji=Ci.theme({gutters:{background:"#f5f5f5",borderRight:"1px solid silver",color:"#999",display:"flex",height:"100%",boxSizing:"border-box",left:0},gutter:{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},gutterElement:{boxSizing:"border-box"},"gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}}),tn=/[\u0000-\u0008\u000a-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/gu,en={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},nn=Ci.extend.behavior({combine(t){let e=z(t,{render:null,specialChars:tn,addSpecialChars:null}),i=document.body.style;return e.replaceTabs=null==(i.tabSize||i.MozTabSize),e.replaceTabs&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,"gu")),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,"gu")),e}}),rn=We.create(t=>new on(t)).decorations(t=>t.decorations);function sn(t={}){return[nn(t),rn.extension,cn]}class on{constructor(t){this.view=t,this.from=0,this.to=0,this.decorations=ne.none,this.updateForViewport()}update(t){t.changes.length&&(this.decorations=this.decorations.map(t.changes),this.from=t.changes.mapPos(this.from,1),this.to=t.changes.mapPos(this.to,-1),this.closeHoles(t.changes.changedRanges())),this.updateForViewport()}closeHoles(t){let e=[],i=this.view.viewport,n=[],r=this.view.behavior(nn);for(let s=0;s<t.length;s++){let{fromB:o,toB:h}=t[s];for(r.replaceTabs&&(h=this.view.state.doc.lineAt(h).end);s<t.length-1&&t[s+1].fromB<h+10;)h=Math.max(h,t[++s].toB);o=Math.max(i.from,o),h=Math.min(i.to,h),o>=h||(this.getDecorationsFor(o,h,e),n.push(o,h))}e.length&&(this.decorations=this.decorations.update(e,t=>{for(let e=0;e<n.length;e+=2)if(t>=n[e]&&t<n[e+1])return!1;return!0},n[0],n[n.length-1]))}updateForViewport(){let t=this.view.viewport;if(this.from==t.from&&this.to==t.to)return;let e=[];this.from>=t.to||this.to<=t.from?(this.getDecorationsFor(t.from,t.to,e),this.decorations=ne.set(e)):(t.from<this.from&&this.getDecorationsFor(t.from,this.from,e),this.to<t.to&&this.getDecorationsFor(this.to,t.to,e),this.decorations=this.decorations.update(e,(e,i)=>e>=t.from&&i<=t.to)),this.from=t.from,this.to=t.to}getDecorationsFor(t,e,i){let n=this.view.behavior(nn),{doc:r}=this.view.state;for(let s,o=t,h=r.iterRange(t,e);!h.next().done;){if(!h.lineBreak)for(;s=n.specialChars.exec(h.value);){let t,e=s[0].codePointAt?s[0].codePointAt(0):s[0].charCodeAt(0);if(null!=e){if(9==e){let e=r.lineAt(o+s.index),i=this.view.state.tabSize,n=O(r.slice(e.start,o+s.index),0,i);t=new ln((i-n%i)*this.view.defaultCharacterWidth)}else t=new hn(n,e);i.push(ne.replace(o+s.index,o+s.index+s[0].length,{widget:t}))}}o+=h.value.length}}}class hn extends ee{constructor(t,e){super(e),this.options=t}toDOM(){let t=((e=this.value)>=32?null:10==e?"␤":String.fromCharCode(9216+e))||"•";var e;let i="Control character "+(en[this.value]||this.value),n=this.options.render&&this.options.render(this.value,i,t);if(n)return n;let r=document.createElement("span");return r.textContent=t,r.title=i,r.setAttribute("aria-label",i),r.style.color="red",r}ignoreEvent(){return!1}}class ln extends ee{toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className=an.tab,t.style.width=this.value+"px",t}ignoreEvent(){return!1}}const an=new nt.a({tab:{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}}),cn=Ci.styleModule(an);class un{constructor(t,e=null,i=null){this.map=t,this.inverted=e,this.selection=i}get isChange(){return null!=this.inverted}}function On(t,e,i,n){let r=e+1>i+20?e-i-1:0,s=t.slice(r,e);return s.push(n),s}function dn(t,e,i,n,r,s){if(t.length){const n=t[t.length-1];if(n.selection&&n.isChange==Boolean(i)&&s(n))return i?On(t,t.length-1,r,new un(n.map.appendSet(e.desc),i.appendSet(n.inverted),n.selection)):t}return On(t,t.length,r,new un(e.desc,i,n))}function fn(){return!1}class pn{constructor(t,e,i=null,n){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=n}resetTime(){return new pn(this.done,this.undone)}addChanges(t,e,i,n,r,s,o){let h=fn;return null!==this.prevTime&&n-this.prevTime<s&&(e||this.prevUserEvent==r&&"keyboard"==r)&&(h=e?e=>function(t,e){return!!t&&e.from<=t.mapPos(t.to,1)&&e.to>=t.mapPos(t.from)}(e.map.changes[e.map.length-1],t.changes[0]):t=>{return e=t.selection,n=i,e.ranges.length==n.ranges.length&&0===e.ranges.filter((t,e)=>t.empty!=n.ranges[e].empty).length;var e,n}),new pn(dn(this.done,t,e,i,o,h),this.undone,n,r)}addMapping(t,e){return 0==this.done.length?this:new pn(On(this.done,this.done.length,e,new un(t)),this.undone)}canPop(t,e){const i=0==t?this.done:this.undone;for(const{isChange:t,selection:n}of i)if(t||1==e&&n)return!0;return!1}pop(t,e,i,n){let{changes:r,branch:s,selection:o}=function(t,e){let i=null,n=t.length-1;for(;;n--){if(n<0)throw new RangeError("popChanges called on empty branch");let r=t[n];if(r.isChange||1==e&&r.selection)break;i=i?r.map.appendSet(i):r.map}let r=t[n],s=t.slice(0,n),o=r.inverted||H.empty,h=r.selection;if(i){let t=r.map.length;i=r.map.appendSet(i);let e=[];for(let n=0;n<o.length;n++){let r=o.changes[n].map(i.partialMapping(t-n));r&&(i=i.append(r.desc),e.push(r))}s.push(new un(i)),o=new H(e),h=h.map(i)}return{changes:o,branch:s,selection:h}}(0==t?this.done:this.undone,e),h=i.selection;for(let t of r.changes)i.change(t);i.setSelection(o);let l=0==t?this.undone:this.done;return l=dn(l,i.changes,i.changes.length>0?i.invertedChanges():null,h,n,fn),{transaction:i,state:new pn(0==t?s:l,0==t?l:s)}}eventCount(t,e){let i=0,n=0==t?this.done:this.undone;for(const{isChange:t,selection:r}of n)(t||1==e&&r)&&++i;return i}}pn.empty=new pn([],[]);const gn=B.define(),mn=B.define(),vn=new N({init:t=>pn.empty,apply(t,e,i){const n=t.annotation(gn);if(n)return n;if(t.annotation(mn)&&(e=e.resetTime()),!t.changes.length&&!t.selectionSet)return e;let r=i.behavior(yn);return!1!==t.annotation(J.addToHistory)?e.addChanges(t.changes,t.changes.length?t.invertedChanges():null,t.startState.selection,t.annotation(J.time),t.annotation(J.userEvent),r.newGroupDelay,r.minDepth):e.addMapping(t.changes.desc,r.minDepth)}}),yn=it.extend.behavior({combine:t=>z(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});function bn(t={}){return[vn.extension,yn(t)]}function wn(t,e){return function({state:i,dispatch:n}){let r=i.behavior(yn),s=i.field(vn,!1);if(!s||!s.canPop(t,e))return!1;const{transaction:o,state:h}=s.pop(t,e,i.t(),r.minDepth);return n(o.annotate(gn(h))),!0}}const Sn=wn(0,0),xn=wn(1,0),kn=wn(0,1),$n=wn(1,1);function Xn(t,e){return function(i){let n=i.field(vn,!1);return n?n.eventCount(t,e):0}}Xn(0,0),Xn(1,0),Xn(0,1),Xn(1,1);const Pn=B.define();function Tn(t){let e=[];for(let{head:i}of t.state.selection.ranges)e.some(t=>t.from<=i&&t.to>=i)||e.push(t.lineAt(i));return e}const Vn=t=>{if(!t.plugin(Mn))return!1;let e=[];for(let i of Tn(t)){let n=t.state.behavior(it.foldable).reduce((e,n)=>e||n(t.state,i.from,i.to),null);n&&e.push(n)}return!!e.length&&(t.dispatch(t.state.t().annotate(Pn({fold:e}))),!0)},An=t=>{let e=[],i=t.plugin(Mn);if(!i)return!1;for(let n of Tn(t)){let t=i.foldInside(n.from,n.to);t&&e.push(t)}return!!e.length&&(t.dispatch(t.state.t().annotate(Pn({unfold:e}))),!0)},Qn={placeholderDOM:null,placeholderText:"…"},Cn=Ci.extend.behavior({combine:t=>z(t,Qn)}),Mn=We.create(t=>new Dn(t)).decorations(t=>t.decorations);function zn(t={}){return[Cn(t),Mn.extension,Ci.extend.fallback(_n)]}class Dn{constructor(t){this.view=t,this.decorations=ne.none;let e=t.behavior(Cn);this.widgetConfig={config:e,class:this.placeholderClass}}get placeholderClass(){return this.view.cssClass("foldPlaceholder")}update(t){this.decorations=this.decorations.map(t.changes);for(let e of t.transactions){let t=e.annotation(Pn);t&&this.updateRanges(t.fold||[],t.unfold||[])}if(t.themeChanged&&this.placeholderClass!=this.widgetConfig.class){this.widgetConfig={config:this.widgetConfig.config,class:this.placeholderClass};let t,e=[],i=this.decorations.iter();for(;t=i.next();)e.push(ne.replace(t.from,t.to,{widget:new qn(this.widgetConfig)}));this.decorations=ne.set(e)}}updateRanges(t,e){this.decorations=this.decorations.update(t.map(({from:t,to:e})=>ne.replace(t,e,{widget:new qn(this.widgetConfig)})),e.length?(t,i)=>!e.some(e=>e.from==t&&e.to==i):null,e.reduce((t,e)=>Math.min(t,e.from),1e8),e.reduce((t,e)=>Math.max(t,e.to),0))}foldInside(t,e){let i=null;return this.decorations.between(t,e,(t,e)=>i={from:t,to:e}),i}}class qn extends ee{ignoreEvents(){return!1}toDOM(t){let e=this.value.config;if(e.placeholderDOM)return e.placeholderDOM();let i=document.createElement("span");return i.textContent=e.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className=this.value.class,i.onclick=e=>{let i=t.lineAt(t.posAtDOM(e.target)),n=t.plugin(Mn).foldInside(i.from,i.to);n&&t.dispatch(t.state.t().annotate(Pn({unfold:[n]}))),e.preventDefault()},i}}const Zn={openText:"⌄",closedText:"›"};class jn extends qi{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.phrase(this.open?"Fold line":"Unfold line"),e}}function En(t={}){let e=D(t,Zn);return[new Ei({style:"foldGutter",lineMarker:(t,i)=>t.plugin(Mn).foldInside(i.from,i.to)?new jn(e,!1):t.state.behavior(it.foldable).some(e=>e(t.state,i.from,i.to))?new jn(e,!0):null,initialSpacer:()=>new jn(e,!1),handleDOMEvents:{click:(t,e)=>{let i=t.plugin(Mn).foldInside(e.from,e.to);if(i)return t.dispatch(t.state.t().annotate(Pn({unfold:[i]}))),!0;let n=t.state.behavior(it.foldable).reduce((i,n)=>i||n(t.state,e.from,e.to),null);return!!n&&(t.dispatch(t.state.t().annotate(Pn({fold:[n]}))),!0)}}}).extension,zn()]}const _n=Ci.theme({foldPlaceholder:{background:"#eee",border:"1px solid silver",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},"gutterElement.foldGutter":{padding:"0 1px",cursor:"pointer"}});var Rn=i(2);const Wn=new q.NodeProp;function Nn(t){return it.indentation((e,i)=>function(t,e,i){let n=e.resolve(i);for(let t=n,e=i;;){let i=t.childBefore(e);if(!i)break;i.type.prop(q.NodeProp.error)&&i.start==i.end?(n=t,e=i.start):(t=i,e=t.end+1)}for(;n;n=n.parent){let e=Bn(n.type)||(null==n.parent?Gn:null);if(e)return e(new Un(t,i,n))}return-1}(e,t.getPartialTree(e,i,i),i))}function Bn(t){let e=t.prop(Wn);if(!e){let e=t.prop(q.NodeProp.delim);if(e)return function({closing:t,align:e=!0,units:i=1}){return n=>{let r=n.textAfter.slice(0,t.length)==t,s=e?function(t){let e=t.node,i=e.childAfter(e.start);if(!i)return null;let n=t.state.doc.lineAt(i.start);for(let t=i.end;;){let r=e.childAfter(t);if(!r)return null;if(!r.type.prop(q.NodeProp.skipped))return r.start<n.end?i:null;t=r.end}}(n):null;return s?r?n.column(s.start):n.column(s.end):n.baseIndent+(r?0:n.unit*i)}}({closing:e.split(" ")[1]})}return e}function Gn(){return 0}class Un{constructor(t,e,i){this.state=t,this.pos=e,this.node=i}get unit(){return this.state.indentUnit}get textAfter(){return this.state.doc.slice(this.pos,Math.min(this.pos+50,this.state.doc.lineAt(this.pos).end)).match(/^\s*(.*)/)[1]}countColumn(t,e){e<0&&(e=t.length);let i=this.state.tabSize;for(var n=0,r=0;;){let s=t.indexOf("\t",n);if(s<0||s>=e)return r+(e-n);r+=s-n,r+=i-r%i,n=s+1}}lineIndent(t){let e=t.slice(0,Math.min(50,t.length,this.node.start>t.start?this.node.start-t.start:1e8));return this.countColumn(e,e.search(/\S/))}get baseIndent(){let t=this.state.doc.lineAt(this.node.start);for(;;){let e=this.node.resolve(t.start);for(;e.parent&&e.parent.start==e.start;)e=e.parent;if(Ln(e,this.node))break;t=this.state.doc.lineAt(e.start)}return this.lineIndent(t)}column(t){let e=this.state.doc.lineAt(t);return this.countColumn(e.slice(0,t-e.start),t-e.start)}}function Ln(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}const Yn=t=>t.baseIndent;function In({except:t,units:e=1}={}){return i=>{let n=t&&t.test(i.textAfter);return i.baseIndent+(n?0:e*i.unit)}}const Hn=new q.NodeProp;class Fn{constructor(t){var e;this.parser=t,this.field=new N({init:()=>new er(q.Tree.empty),apply:(t,e)=>e.apply(t)}),this.extension=[it.syntax(this),this.field.extension,Nn(this),(e=this,it.foldable((t,i,n)=>{let r=null;for(let s=e.getPartialTree(t,i,Math.min(t.doc.length,n+100)).resolve(n);s;s=s.parent){if(s.start<i||s.end<=n)continue;let t=s.type.prop(Hn);if(t){let e=t(s);e&&e.to>n&&(r=e)}}return r}))]}tryGetTree(t,e,i){let n=t.field(this.field);return n.updateTree(this.parser,t.doc,e,i,!1)?n.tree:null}getTree(t,e,i){let n=t.field(this.field),r=n.updateTree(this.parser,t.doc,e,i,!0);return{tree:n.tree,rest:!0===r?null:r}}getPartialTree(t,e,i){let n=t.field(this.field);return n.updateTree(this.parser,t.doc,e,i,!1),n.tree}get docNodeType(){return this.parser.group.types[1]}languageDataAt(t,e){let i=this.parser.group.types[1];if(this.parser.hasNested){let n=this.getPartialTree(t,e,e).resolve(e);for(;n;){if(n.type.prop(q.NodeProp.top)){i=n.type;break}n=n.parent}}return i.prop(G)||Kn}}const Kn={};class Jn{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}get(t){if(t>=this.length)return-1;let e=this.cursorPos-this.string.length;return(t<e||t>=this.cursorPos)&&(t<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,e=this.cursorPos-this.string.length),this.string.charCodeAt(t-e)}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.slice(t,e):this.string.slice(t-i,e-i)}clip(t){return new Jn(this.doc,t)}}class tr{constructor(t){this.upto=t,this.promise=new Promise(t=>this.resolve=t),this.promise.canceled=!1}}class er{constructor(t){this.tree=t,this.parsedTo=0,this.parse=null,this.working=-1,this.requests=[]}apply(t){return t.docChanged?new er(this.tree.applyChanges(t.changes.changedRanges())):this}updateTree(t,e,i,n,r){if(n<=this.parsedTo)return!0;if(this.parse||(this.parse=t.startParse(new Jn(e),{cache:this.tree}),this.continueParse(n)),this.parsedTo>=n)return!0;if(!r)return!1;this.scheduleWork();let s=this.requests.find(t=>t.upto==n&&!t.promise.canceled);return s||this.requests.push(s=new tr(n)),s.promise}continueParse(t){let e=Date.now()+100;for(let t=0;;t++){let i=this.parse.advance();if(i)return this.parsedTo=1e9,this.parse=null,void(this.tree=i);if(1e3==t&&(t=0,Date.now()>e))break}this.parsedTo=this.parse.pos,this.tree=this.parse.forceFinish(),this.parsedTo>=t&&(this.parse=null)}scheduleWork(){-1==this.working&&(this.working=setTimeout(()=>this.work(),200))}work(){this.working=-1;let t=this.requests.reduce((t,e)=>e.promise.canceled?t:Math.max(t,e.upto),0);t>this.parsedTo&&this.continueParse(t),this.requests=this.requests.filter(t=>!t.promise.canceled&&t.upto>this.parsedTo||(t.promise.canceled||t.resolve(this.tree),!1)),this.requests.length&&this.scheduleWork()}}function ir(){return new q.NodeProp({deserialize:t=>t.split(" ")})}const nr=ir(),rr=ir();const sr=new class{constructor(t){this.typeNames=[""],this.prop=new q.NodeProp,this.flags=t.flags,this.types=t.types,this.flagMask=Math.pow(2,this.flags.length)-1,this.typeShift=this.flags.length+1;let e=[void 0];for(let i of t.types){let t=/^([\w\-]+)(?:=([\w-]+))?$/.exec(i);if(!t)throw new RangeError("Invalid type name "+i);this.typeNames.push(t[1]),e.push(t[2])}if(this.parents=e.map(t=>{if(null==t)return 0;let e=this.typeNames.indexOf(t);if(e<0)throw new RangeError(`Unknown parent type '${t}' specified`);return e}),this.flags.length>29||this.typeNames.length>Math.pow(2,29-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer")}get(t){let e=43==t.charCodeAt(0)?1:0;for(let i of(e?t.slice(1):t).split(" "))if(i){let n=this.flags.indexOf(i);if(n>-1)e+=1<<n+1;else{let n=this.typeNames.indexOf(i);if(n<0)throw new RangeError(`Unknown tag type '${i}'`);if(e>>this.typeShift)throw new RangeError(`Multiple tag types specified in '${t}'`);e+=n<<this.typeShift}}return e}add(t){let e=q.NodeType.match(t);return this.prop.add(t=>{let i=e(t);return null==i?void 0:this.get(i)})}highlighter(t){let e=new hr(this,t);return[We.create(t=>new lr(t,this.prop,e)).decorations(t=>t.decorations).extension,Ci.styleModule(e.module)]}specificity(t){let e=t&this.flagMask,i=0;for(let t=1;t<=this.flags.length;t++)e&1<<t&&i++;for(let e=t>>this.flags.length+1;e;e=this.parents[e])i+=1e3;return i}}({flags:["invalid","meta","type2","type3","type4","link","strong","emphasis","heading","list","quote","changed","inserted","deleted","definition","constant","control"],types:["comment","lineComment=comment","blockComment=comment","name","variableName=name","typeName=name","propertyName=name","className=name","labelName=name","namespace=name","literal","string=literal","character=string","number=literal","integer=number","float=number","regexp=literal","escape=literal","color=literal","content","keyword","self=keyword","null=keyword","atom=keyword","unit=keyword","modifier=keyword","operatorKeyword=keyword","operator","derefOperator=operator","arithmeticOperator=operator","logicOperator=operator","bitwiseOperator=operator","compareOperator=operator","updateOperator=operator","typeOperator=operator","punctuation","separator=punctuation","bracket=punctuation","angleBracket=bracket","squareBracket=bracket","paren=bracket","brace=bracket"]});class or{constructor(t,e,i,n){this.type=t,this.flags=e,this.specificity=i,this.cls=n}}class hr{constructor(t,e){this.tags=t,this.cache=Object.create(null);let i=Object.create(null),n=0,r=[];for(let s in e){let o=t.get(s),h="c"+n++;i[h]=e[s],r.push(new or(o>>t.typeShift,o&t.flagMask,t.specificity(o),h))}this.rules=r.sort((t,e)=>e.specificity-t.specificity),this.module=new nt.a(i)}match(t){let e=this.cache[t];if(null!=e)return e;let i="",n=t>>this.tags.typeShift,r=t&this.tags.flagMask;for(;;){for(let t of this.rules)if(t.type==n&&(t.flags&r)==t.flags&&(i&&(i+=" "),i+=this.module[t.cls],r&=~t.flags,n))break;if(!n)break;n=this.tags.parents[n]}return this.cache[t]=i}}class lr{constructor(t,e,i){this.prop=e,this.styling=i,this.partialDeco=!1,this.syntax=null,this.decorations=ne.none;for(let e of t.state.behavior(it.syntax)){this.syntax=e;break}this.buildDeco(t)}update(t){(this.partialDeco||t.docChanged||t.viewportChanged)&&this.buildDeco(t.view)}buildDeco(t){if(!this.syntax)return;let{from:e,to:i}=t.viewport,{tree:n,rest:r}=this.syntax.getTree(t.state,e,i);this.partialDeco=!!r,r&&t.waitFor(r);let s=[],o=e;function h(t,e){t>o&&e&&s.push(ne.mark(o,t,{class:e})),o=t}let l="",a=[],c=[];n.iterate({from:e,to:i,enter:(t,e)=>{let i=c.length?c[c.length-1]:"",n=i,r=t.prop(this.prop);if(null!=r){let t=this.styling.match(r);t&&(n&&(n+=" "),n+=t),1&r&&(i=n)}a.push(n),i&&c.push(i),n!=l&&(h(e,l),l=n)},leave:(t,e,n)=>{a.pop(),c.pop();let r=a.length?a[a.length-1]:"";r!=l&&(h(Math.min(i,n),l),l=r)}}),this.decorations=ne.set(s)}}const ar=(cr={invalid:{color:"#f00"},keyword:{color:"#708"},atom:{color:"#219"},number:{color:"#164"},string:{color:"#a11"},character:{color:"#a11"},regexp:{color:"#e40"},escape:{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},meta:{color:"#555"}},sr.highlighter(cr));var cr;const ur=In({except:/^{/}),Or=new Fn(Rn.parser.withProps(Wn.add(t=>"IfStatement"==t.name?In({except:/^({|else\b)/}):"TryStatement"==t.name?In({except:/^({|catch|finally)\b/}):"LabeledStatement"==t.name?Yn:"SwitchBody"==t.name?t=>{let e=t.textAfter,i="}"==e[0],n=/^(case|default)\b/.test(e);return t.baseIndent+(i?0:n?1:2)*t.unit}:"TemplateString"==t.name||"BlockComment"==t.name?()=>-1:/(Statement|Declaration)$/.test(t.name)||"Property"==t.name?ur:void 0),Hn.add({Block:t=>({from:t.start+1,to:t.end-1})}),G.add({Script:{closeBrackets:["(","[","{","'",'"',"`"]}}),(dr={"get set async static":"modifier","for while do if else switch try catch finally return throw break continue default case":"keyword control","in of await yield void typeof delete instanceof":"operatorKeyword","export import let var const function class extends":"keyword definition","with debugger from as":"keyword",TemplateString:"string type2","BooleanLiteral Super":"atom",This:"self",Null:"null",Star:"modifier",VariableName:"variableName",VariableDefinition:"variableName definition",Label:"labelName",PropertyName:"propertyName",PropertyNameDefinition:"propertyName definition","PostfixOp UpdateOp":"updateOperator",LineComment:"lineComment",BlockComment:"blockComment",Number:"number",String:"string",ArithOp:"arithmeticOperator",LogicOp:"logicOperator",BitOp:"bitwiseOperator",CompareOp:"compareOperator",RegExp:"regexp",Equals:"operator definition",Spread:"punctuation","Arrow :":"punctuation definition","( )":"paren","[ ]":"squareBracket","{ }":"brace",".":"derefOperator",", ;":"separator"},sr.add(dr))));var dr;function fr(t,e,i){let n=t.state.t().forEachRange(n=>n.empty||"lineboundary"==i?new Z(t.movePos(n.head,e,i,"move")):new Z("left"==e||"backward"==e?n.from:n.to));return!n.selection.eq(t.state.selection)&&("line"==i&&n.annotate(J.preserveGoalColumn(!0)),t.dispatch(n.scrollIntoView()),!0)}const pr=t=>fr(t,"left","character"),gr=t=>fr(t,"right","character"),mr=t=>fr(t,"backward","line"),vr=t=>fr(t,"forward","line"),yr=t=>fr(t,"backward","lineboundary"),br=t=>fr(t,"forward","lineboundary");function wr(t,e,i){let n=t.state.t().forEachRange(n=>new Z(n.anchor,t.movePos(n.head,e,i,"extend")));return!n.selection.eq(t.state.selection)&&("line"==i&&n.annotate(J.preserveGoalColumn(!0)),t.dispatch(n.scrollIntoView()),!0)}const Sr=t=>wr(t,"left","character"),xr=t=>wr(t,"right","character"),kr=t=>wr(t,"backward","line"),$r=t=>wr(t,"forward","line"),Xr=t=>wr(t,"backward","lineboundary"),Pr=t=>wr(t,"forward","lineboundary"),Tr=({state:t,dispatch:e})=>(e(t.t().setSelection(j.single(0)).scrollIntoView()),!0),Vr=({state:t,dispatch:e})=>(e(t.t().setSelection(j.single(t.doc.length)).scrollIntoView()),!0);function Ar(t,e){let i=t.state.t().forEachRange((i,n)=>{let{from:r,to:s}=i;if(r==s){let n=t.movePos(i.head,e,"character","move");r=Math.min(r,n),s=Math.max(s,n)}return r==s?i:(n.replace(r,s,""),new Z(r))});return!!i.docChanged&&(t.dispatch(i.scrollIntoView()),!0)}const Qr=t=>Ar(t,"backward"),Cr=t=>Ar(t,"forward");function Mr(t){let e="";for(let i=0;i<t;i++)e+=" ";return e}function zr(t,e){for(let i of t.behavior(it.indentation)){let n=i(t,e);if(n>-1)return n}return-1}const Dr=({state:t,dispatch:e})=>{let i=-1,n=[];for(let e of t.selection.ranges)for(let{start:r,end:s}=t.doc.lineAt(e.from);;){if(r!=i){i=r;let e,o=zr(t,r);o>-1&&o!=(e=/^\s*/.exec(t.doc.slice(r,Math.min(s,r+100)))[0].length)&&n.push({pos:r,current:e,indent:o})}if(s+1>e.to)break;({start:r,end:s}=t.doc.lineAt(s+1))}if(n.length>0){let i=t.t();for(let{pos:t,current:e,indent:r}of n){let n=i.changes.mapPos(t);i.replace(n,n+e,Mr(r))}e(i)}return!0},qr={ArrowLeft:pr,ArrowRight:gr,"Shift-ArrowLeft":Sr,"Shift-ArrowRight":xr,"Mod-ArrowLeft":t=>fr(t,"left","word"),"Mod-ArrowRight":t=>fr(t,"right","word"),"Shift-Mod-ArrowLeft":t=>wr(t,"left","word"),"Shift-Mod-ArrowRight":t=>wr(t,"right","word"),ArrowUp:mr,ArrowDown:vr,"Shift-ArrowUp":kr,"Shift-ArrowDown":$r,Home:yr,End:br,"Shift-Home":Xr,"Shift-End":Pr,"Mod-Home":Tr,"Mod-End":Vr,"Mod-a":({state:t,dispatch:e})=>(e(t.t().setSelection(j.single(0,t.doc.length))),!0),Backspace:Qr,Delete:Cr,Enter:({state:t,dispatch:e})=>{let i=0,n=t.selection.ranges.map(e=>{let i=zr(t,e.from);return i>-1?i:/^\s*/.exec(t.doc.lineAt(e.from).slice(0,50))[0].length});return e(t.t().forEachRange(({from:t,to:e},r)=>{let s=n[i++],o=r.doc.lineAt(e);for(;e<o.end&&/s/.test(o.slice(e-o.start,e+1-o.start));)e++;return r.replace(t,e,["",Mr(s)]),new Z(t+s+1)}).scrollIntoView()),!0}},Zr={"Control-b":pr,"Control-f":gr,"Shift-Control-b":Sr,"Shift-Control-f":xr,"Control-p":mr,"Control-n":vr,"Shift-Control-p":kr,"Shift-Control-n":$r,"Control-a":yr,"Control-e":br,"Shift-Control-a":Xr,"Shift-Control-e":Pr,"Cmd-ArrowUp":Tr,"Cmd-ArrowDown":Vr,"Control-d":Cr,"Control-h":Qr};for(let t in qr)Zr[t]=qr[t];const jr=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Zr:qr,Er=new nt.a({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}}),_r=Ci.extend.behavior({combine:t=>z(t,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4})}),Rr=[Ci.extend.fallback(Ci.styleModule(Er)),We.decoration({create:()=>ne.none,update(t,e){if(!e.transactions.length)return t;let{state:i}=e,n=[],r=e.view.behavior(_r);for(let t of i.selection.ranges){if(!t.empty)continue;let s=Br(i,t.head,-1,r)||t.head>0&&Br(i,t.head-1,1,r)||r.afterCursor&&(Br(i,t.head,1,r)||t.head<i.doc.length&&Br(i,t.head+1,-1,r));if(!s)continue;let o=s.matched?"matchingBracket":"nonmatchingBracket",h=e.view.cssClass(o)+" "+Er[o];n.push(ne.mark(s.start.from,s.start.to,{class:h})),s.end&&n.push(ne.mark(s.end.from,s.end.to,{class:h}))}return ne.set(n)}})];function Wr(t={}){return[_r(t),Rr]}function Nr(t,e,i){let n=t.prop(e<0?rr:nr);if(n)return n;if(1==t.name.length){let n=i.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[i[n+e]]}return null}function Br(t,e,i,n={}){let r,s=n.maxScanDistance||1e4,o=n.brackets||"()[]{}",h=function(t,e,i,n){for(let r of t.behavior(it.syntax))return r.getPartialTree(t,i<0?Math.max(0,e-n):e,i<0?e:Math.min(t.doc.length,e+n));return q.Tree.empty}(t,e,i,s),l=h.resolve(e,i);return(r=Nr(l.type,i,o))?function(t,e,i,n,r,s){let o=n.parent,h={from:n.start,to:n.end},l=0;return o&&o.iterate({from:i<0?n.start:n.end,to:i<0?o.start:o.end,enter(t,e,o){if(!(i<0?o>n.start:e<n.end)){if(0==l&&r.indexOf(t.name)>-1)return{start:h,end:{from:e,to:o},matched:!0};if(Nr(t,i,s))l++;else if(Nr(t,-i,s)&&(l--,0==l))return{start:h,end:{from:e,to:o},matched:!1};return!1}}})||{start:h,matched:!1}}(0,0,i,l,r,o):function(t,e,i,n,r,s,o){let h=i<0?t.doc.slice(e-1,e):t.doc.slice(e,e+1),l=o.indexOf(h);if(l<0||l%2==0!=i>0)return null;let a={from:i<0?e-1:e,to:i>0?e+1:e},c=t.doc.iterRange(e,i>0?t.doc.length:0),u=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;i<0&&(t+=s.length);let h=e+t*i;for(let t=i>0?0:s.length-1,e=i>0?s.length:-1;t!=e;t+=i){let e=o.indexOf(s[t]);if(!(e<0||n.resolve(h+t,1).type!=r))if(e%2==0==i>0)u++;else{if(1==u)return{start:a,end:{from:h+t,to:h+t+1},matched:e>>1==l>>1};u--}}i>0&&(t+=s.length)}return c.done?{start:a,matched:!1}:null}(t,e,i,h,l.type,s,o)}for(var Gr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ur=Gr,Lr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Yr="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Ir="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Hr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Fr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Kr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Jr=Yr&&(Fr||+Yr[1]<57)||Hr&&Fr,ts=0;ts<10;ts++)Gr[48+ts]=Gr[96+ts]=String(ts);for(ts=1;ts<=24;ts++)Gr[ts+111]="F"+ts;for(ts=65;ts<=90;ts++)Gr[ts]=String.fromCharCode(ts+32),Lr[ts]=String.fromCharCode(ts);for(var es in Gr)Lr.hasOwnProperty(es)||(Lr[es]=Gr[es]);var is=function(t){var e=!(Jr&&(t.ctrlKey||t.altKey||t.metaKey)||(Ir||Kr)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Lr:Gr)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e};const ns={closeBrackets:["(","[","{","'",'"'],closeBracketsBefore:")]}'\":;>"},rs=Ci.handleDOMEvents({keydown:function(t,e){if(e.ctrlKey||e.metaKey)return!1;if(8==e.keyCode){let e=function(t){let e=hs(t,t.selection.primary.head).closeBrackets||ns.closeBrackets,i=t.t(),n=null;return i.forEachRange(r=>{if(!r.empty)return n=r;let s=function(t,e){let i=t.slice(e-2,e);return 2==i.length&&u(i,0)<65536?i.slice(1):i}(t.doc,r.head);for(let n of e)if(n==s&&ls(t.doc,r.head)==ss(u(n,0)))return i.replace(r.head-n.length,r.head+n.length,""),new Z(r.head-n.length);return n=r}),n?null:i.scrollIntoView()}(t.state);return!!e&&(t.dispatch(e),!0)}let i=is(e);if(i.length>2||2==i.length&&u(i,0)<65536)return!1;let n=function(t,e){let i=hs(t,t.selection.primary.head),n=i.closeBrackets||ns.closeBrackets;for(let r of n){let s=ss(u(r,0));if(e==r)return s==r?us(t,r,n.indexOf(r+r+r)>-1):as(t,r,s,i.closeBracketsBefore||ns.closeBracketsBefore);if(e==s)return cs(t,r,s)}return null}(t.state,i);return!!n&&(t.dispatch(n),!0)}});function ss(t){for(let e=0;e<"()[]{}<>".length;e+=2)if("()[]{}<>".charCodeAt(e)==t)return"()[]{}<>".charAt(e+1);return(e=t<128?t:t+1)<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)));var e}function hs(t,e){let i=t.behavior(it.syntax);return 0==i.length?ns:i[0].languageDataAt(t,e)}function ls(t,e){let i=t.slice(e,e+2);return 2==i.length&&u(i,0)<65536?i.slice(0,1):i}function as(t,e,i,n){let r=t.t(),s=null;return r.forEachRange(o=>{if(!o.empty)return r.replace(o.to,o.to,i),r.replace(o.from,o.from,e),new Z(o.anchor+e.length,o.head+e.length);let h=ls(t.doc,o.head);return!h||/\s/.test(h)||n.indexOf(h)>-1?(r.replace(o.head,o.head,e+i),new Z(o.head+e.length,o.head+e.length)):s=o}),s?null:r.scrollIntoView()}function cs(t,e,i){let n=t.t(),r=null;return n.forEachRange(e=>e.empty&&i==ls(t.doc,e.head)?new Z(e.head+i.length):r=e),r?null:n.scrollIntoView()}function us(t,e,i){let n=t.t(),r=null;return n.forEachRange(s=>{if(!s.empty)return n.replace(s.to,s.to,e),n.replace(s.from,s.from,e),new Z(s.anchor+e.length,s.head+e.length);let o=s.head,h=ls(t.doc,o);if(h==e){if(Os(t,o))return n.replace(o,o,e+e),new Z(o+e.length);{let n=i&&t.doc.slice(o,o+3*e.length)==e+e+e;return new Z(o+e.length*(n?3:1))}}if(i&&t.doc.slice(o-2*e.length,o)==e+e&&Os(t,o-2*e.length))return n.replace(o,o,e+e+e+e),new Z(o+e.length);if(!l(h)){let i=t.doc.slice(o-1,o);if(!l(i)&&i!=e)return n.replace(o,o,e+e),new Z(o+e.length)}return r=s}),r?null:n.scrollIntoView()}function Os(t,e){let i=t.behavior(it.syntax);if(0==i.length)return!1;let n=i[0].getPartialTree(t,e,e).resolve(e+1);return n.parent&&n.start==e}const ds="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function fs(t){const e=t.split(/-(?!$)/);let i,n,r,s,o=e[e.length-1];"Space"==o&&(o=" ");for(let t=0;t<e.length-1;++t){const o=e[t];if(/^(cmd|meta|m)$/i.test(o))s=!0;else if(/^a(lt)?$/i.test(o))i=!0;else if(/^(c|ctrl|control)$/i.test(o))n=!0;else if(/^s(hift)?$/i.test(o))r=!0;else{if(!/^mod$/i.test(o))throw new Error("Unrecognized modifier name: "+o);ds?s=!0:n=!0}}return i&&(o="Alt-"+o),n&&(o="Ctrl-"+o),s&&(o="Meta-"+o),r&&(o="Shift-"+o),o}function ps(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==i&&e.shiftKey&&(t="Shift-"+t),t}const gs=t=>{let e=new ms(t);return Ci.handleDOMEvents({keydown(t,i){let n=e.get(i);return!!n&&n(t)}})};class ms{constructor(t){this.map=Object.create(null);for(const e in t)this.map[fs(e)]=t[e]}get(t){const e=is(t),i=1==e.length&&" "!=e,n=this.map[ps(e,t,!i)];if(n)return n;let r;if(i&&(t.shiftKey||t.altKey||t.metaKey)&&(r=Ur[t.keyCode])&&r!=e){const e=this.map[ps(r,t,!0)];if(e)return e}}}const vs=We.create(t=>new xs(t));function ys(){return Ci.extend.fallback(ws)}const bs=Ci.theme({tooltip:{position:"absolute",border:"1px solid silver",background:"#f5f5f5",zIndex:100}}),ws=[vs.extension,bs],Ss=Ci.extend.behavior();class xs{constructor(t){this.view=t,this.tooltips=[],this.sourceArray=[],this.added=[],this.mustSync=!1,this.themeChanged=!1,this.mustMeasure=!1,t.scrollDOM.addEventListener("scroll",this.onscroll=this.onscroll.bind(this))}update(t){let e=t.view.behavior(Ss);e!=this.sourceArray&&(this.sourceArray=e,this.tooltips=e.filter(t=>t),this.mustSync=!0),t.docChanged&&(this.mustMeasure=!0),t.themeChanged&&(this.themeChanged=!0)}destroy(){this.view.scrollDOM.removeEventListener("scroll",this.onscroll)}draw(){if(this.themeChanged){this.themeChanged=!1;for(let t of this.tooltips)t.dom.className=this.view.cssClass("tooltip"+(t.style?"."+t.style:""))}if(this.mustSync){this.mustSync=!1;for(let t of this.tooltips)this.added.indexOf(t.dom)<0&&(t.dom.className=this.view.cssClass("tooltip"+(t.style?"."+t.style:"")),this.view.dom.appendChild(t.dom),this.added.push(t.dom));for(let t=0;t<this.added.length;t++){let e=this.added[t];this.tooltips.some(t=>t.dom==e)||(e.remove(),this.added.splice(t--,1))}this.mustMeasure=!0}}measure(){return this.mustMeasure&&this.tooltips.length?{editor:this.view.dom.getBoundingClientRect(),pos:this.tooltips.map(t=>this.view.coordsAtPos(t.pos)),size:this.tooltips.map(t=>t.dom.getBoundingClientRect()),innerWidth:window.innerWidth,innerHeight:window.innerHeight}:null}drawMeasured(t){if(!t)return!1;this.mustMeasure=!1;let{editor:e}=t;for(let i=0;i<this.tooltips.length;i++){let n=this.tooltips[i],r=t.pos[i],s=t.size[i];if(r.bottom<=e.top||r.top>=e.bottom||r.right<=e.left||r.left>=e.right){n.dom.style.top="-10000px";continue}let o=s.right-s.left,h=s.bottom-s.top,l=r.left+o<t.innerWidth,a=!!n.above;!n.strictSide&&(a?r.top-(s.bottom-s.top)<0:r.bottom+(s.bottom-s.top)>t.innerHeight)&&(a=!a),n.dom.style.left=(l?r.left:t.innerWidth-o)-e.left+"px",n.dom.style.top=(a?r.top-h:r.bottom)-e.top+"px"}return!1}onscroll(){this.tooltips.length&&(this.mustMeasure=!0,this.view.requireMeasure())}}const ks=Ci.extend.behavior({combine:t=>z(t,{completeAt:(t,e)=>function(t,e){let i=t.behavior(it.syntax);if(0==i.length)return null;let{completeAt:n}=i[0].languageDataAt(t,e);return n?n(t,e):null}(t,e)||{start:e,items:[]}})});function $s(t={}){const e=We.create(t=>new Ts(t)).behavior(Ss,t=>t.tooltip);return[ks(t),e.extension,Ci.extend.fallback(Vs),ys(),gs({ArrowDown(t){let i=t.plugin(e);return!!i&&i.moveSelection(1)},ArrowUp(t){let i=t.plugin(e);return!!i&&i.moveSelection(-1)},Enter(t){let i=t.plugin(e);return!!i&&i.accept()}})]}const Xs=B.define();class Ps{constructor(t,e,i,n,r=null){this.start=t,this.end=e,this.items=i,this.tooltip=n,this._selected=r}get selected(){return null!==this._selected?this._selected:0}accept(t,e=this.selected){let i=this.items[e],n=i.insertText||i.label;t.dispatch(t.state.t().replace(this.start,this.end,n).setSelection(j.single(this.start+n.length))),t.focus()}update(t,e,i,n){let r=null;if(null!==this._selected){let t=this.items[this._selected].label,e=0;for(;e<i.length&&i[e].label!=t;++e);e<i.length&&(r=e)}return new Ps(t,e,i,n,r)}moveSelection(t){let e=this.selected+t;return 1==t&&e>this.items.length-1?e=0:-1==t&&e<0&&(e=this.items.length-1),new Ps(this.start,this.end,this.items,this.tooltip,e)}static fromOrNew(t,e,i,n,r){return t?t.update(e,i,n,r):new Ps(e,i,n,r)}}class Ts{constructor(t){this.view=t,this._state=null,this.config=t.behavior(ks),this.dom=document.createElement("div");const e=document.createElement("ul");e.setAttribute("role","listbox"),this.dom.appendChild(e)}get tooltip(){return this._state&&this._state.tooltip}update(t){let e=t.annotation(Xs);if(e){if(!this._state)return;const t=this.dom.firstChild;t.children[this._state.selected].className="",this._state=this._state.moveSelection(e);const i=t.children[this._state.selected];return i.className="selected",void function(t,e){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)}(this.dom,i)}if(!t.docChanged)return void(t.transactions.some(t=>t.selectionSet)&&(this._state=null));const i=t.annotation(J.userEvent);if("keyboard"!=i&&void 0!==i)return void(this._state=null);const n=t.state.selection.primary.anchor;let r=this.config.completeAt(this.view.state,n);"then"in r?(r.then(t=>{r.canceled||this.handleResult(t,n)}),this.view.waitFor(r)):this.handleResult(r,n)}handleResult({items:t,start:e},i){if(0==t.length)return void(this._state=null);const n={dom:this.dom,pos:e,style:"autocomplete"};this._state=Ps.fromOrNew(this._state,e,i,t,n),this.updateList()}moveSelection(t){return!!this._state&&(this.view.dispatch(this.view.state.t().annotate(Xs(t))),!0)}accept(){return!!this._state&&(this._state.accept(this.view),!0)}updateList(){const t=this.dom.firstChild;for(;t.lastChild;)t.lastChild.remove();for(const[e,i]of this._state.items.entries()){const n=document.createElement("li");n.innerText=i.label,n.setAttribute("role","option"),e===this._state.selected&&(n.className="selected"),n.addEventListener("click",t=>this._state.accept(this.view,e)),t.appendChild(n)}}destroy(){this.dom=null,this._state=null}}const Vs=Ci.theme({"tooltip.autocomplete":{fontFamily:"monospace",margin:"-2px 0px 0px -2px",maxHeight:"10em",overflowY:"auto","& > ul":{listStyle:"none",margin:0,padding:0,"& > li":{paddingRight:"1em",cursor:"pointer"},"& > li.selected":{backgroundColor:"lightblue"}}}});function As(t){let e=/Mac/.test(navigator.platform);return new Ci({state:it.create({doc:t,extensions:[Fi(),sn(),bn(),En(),Or.extension,ar,Wr(),rs,$s({completeAt:(t,e)=>new Promise(i=>{const n=t.doc.lineAt(e),r=t.doc.slice(n.start,e),s=t.doc.slice(e,n.end);if(s.length>0&&s[0].match(/\w/))return i({items:[]});const o=r.match(/\W(\w+)$/);if(!o)return i({items:[]});const h=o[1],l=e-h.length;let a=["git","add","addNote","addRemote","annotatedTag","branch","checkout","clone","commit","currentBranch","deleteBranch","deleteRef","deleteRemote","deleteTag","expandOid","expandRef","fetch","findMergeBase","findRoot","getConfig","getConfigAll","getRemoteInfo","hashBlob","indexPack","init","isDescendent","listBranches","listFiles","listNotes","listRemotes","listTags","log","merge","packObjects","pull","push","readBlob","readCommit","readNote","readObject","readTag","readTree","remove","removeNote","resetIndex","resolveRef","setConfig","status","statusMatrix","tag","verify","version","walk","writeBlob","writeCommit","writeObject","writeRef","writeTag","writeTree"].filter(t=>t.startsWith(h)&&t!==h).map(t=>({label:t,insertText:t}));setTimeout(()=>i({start:l,items:a}),100)})}),gs({"Mod-z":Sn,"Mod-Shift-z":xn,"Mod-u":t=>kn(t)||!0,[e?"Mod-Shift-u":"Alt-u"]:$n,"Ctrl-y":e?void 0:xn,"Shift-Tab":Dr,"Mod-Alt-[":Vn,"Mod-Alt-]":An}),gs(jr)]})}).dom}i.d(e,"codemirrorify",(function(){return As}))}]);